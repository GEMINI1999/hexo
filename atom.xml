<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>Gemini1999çš„åšå®¢</title>
  
  <subtitle>è‹±é›„å„æœ‰è§ï¼Œä½•å¿…é—®å‡ºå¤„</subtitle>
  <link href="/atom.xml" rel="self"/>
  
  <link href="http://yoursite.com/"/>
  <updated>2020-11-04T12:44:04.633Z</updated>
  <id>http://yoursite.com/</id>
  
  <author>
    <name>Gemini1999</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>Githubå°æŠ€å·§</title>
    <link href="http://yoursite.com/2020/10/29/github_tips/"/>
    <id>http://yoursite.com/2020/10/29/github_tips/</id>
    <published>2020-10-29T10:30:00.000Z</published>
    <updated>2020-11-04T12:44:04.633Z</updated>
    
    <content type="html"><![CDATA[<h2 id="æœç´¢"><a href="#æœç´¢" class="headerlink" title="æœç´¢"></a>æœç´¢</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">in:name&#x2F;readme&#x2F;discription&#x2F;about ...</span><br><span class="line">language:python</span><br><span class="line">location:china</span><br><span class="line"></span><br><span class="line">stars:&gt;100</span><br><span class="line">forks:&gt;1000</span><br><span class="line">pushed:&gt;2020-01-01</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;æœç´¢&quot;&gt;&lt;a href=&quot;#æœç´¢&quot; class=&quot;headerlink&quot; title=&quot;æœç´¢&quot;&gt;&lt;/a&gt;æœç´¢&lt;/h2&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span 
      
    
    </summary>
    
    
    
      <category term="Github" scheme="http://yoursite.com/tags/Github/"/>
    
      <category term="æœç´¢" scheme="http://yoursite.com/tags/%E6%90%9C%E7%B4%A2/"/>
    
  </entry>
  
  <entry>
    <title>äº‘æ•°æ®ä¸­å¿ƒ</title>
    <link href="http://yoursite.com/2020/09/29/CDC/"/>
    <id>http://yoursite.com/2020/09/29/CDC/</id>
    <published>2020-09-29T09:39:00.000Z</published>
    <updated>2020-10-27T07:05:38.260Z</updated>
    
    <content type="html"><![CDATA[<h1 id="äº‘æ•°æ®ä¸­å¿ƒ"><a href="#äº‘æ•°æ®ä¸­å¿ƒ" class="headerlink" title="äº‘æ•°æ®ä¸­å¿ƒ"></a>äº‘æ•°æ®ä¸­å¿ƒ</h1><h2 id="äº¤æ¢æœºé…ç½®"><a href="#äº¤æ¢æœºé…ç½®" class="headerlink" title="äº¤æ¢æœºé…ç½®"></a>äº¤æ¢æœºé…ç½®</h2><h3 id="å‰ç½®æ“ä½œ"><a href="#å‰ç½®æ“ä½œ" class="headerlink" title="å‰ç½®æ“ä½œ"></a>å‰ç½®æ“ä½œ</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;&gt;å°–è§’å·å…¨å±€æ¨¡å¼ ç”¨æˆ·è§†å›¾ åªèƒ½çœ‹é…ç½®ä¸èƒ½ä¿®æ”¹é…ç½® </span><br><span class="line">tabé”®ï¼Œä¼šæ¢è¡Œåè¡¥é½å‘½ä»¤  </span><br><span class="line">system-view ç³»ç»Ÿè§†å›¾   </span><br><span class="line">undo terminal monitor  å…³é—­æ—¥å¿—</span><br><span class="line">sysname ä¿®æ”¹ç³»ç»Ÿåç§°  </span><br></pre></td></tr></table></figure><h3 id="ä¸€ä¸ªä¸€ä¸ªç«¯å£é…"><a href="#ä¸€ä¸ªä¸€ä¸ªç«¯å£é…" class="headerlink" title="ä¸€ä¸ªä¸€ä¸ªç«¯å£é…"></a>ä¸€ä¸ªä¸€ä¸ªç«¯å£é…</h3><p>accessæ¨¡å¼</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">int g 0/0/1</span><br><span class="line">dis this æŸ¥çœ‹å½“å‰æ¥å£é…ç½®</span><br><span class="line">port link-type access é…ç½®æ¥å£ç±»å‹</span><br><span class="line">vlan 4092 åˆ›å»ºvlan</span><br><span class="line">port default vlan 4092</span><br></pre></td></tr></table></figure><p>trunkæ¨¡å¼</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">vlan batch 433 434</span><br><span class="line">int g 0/0/1</span><br><span class="line">port link-type trunk é…ç½®æ¥å£ç±»å‹</span><br><span class="line">port trunk allow-pass vlan 433 434</span><br></pre></td></tr></table></figure><h3 id="ä¸€ç»„ä¸€ç»„é…"><a href="#ä¸€ç»„ä¸€ç»„é…" class="headerlink" title="ä¸€ç»„ä¸€ç»„é…"></a>ä¸€ç»„ä¸€ç»„é…</h3><p>accessæ¨¡å¼</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">port-group 4092 å»ºç«‹ç«¯å£ç»„ </span><br><span class="line">group-member g 0/0/1 to g 0/0/4 åŠ å…¥æˆå‘˜ </span><br><span class="line">port link-t ac</span><br><span class="line">port de vlan 4092</span><br></pre></td></tr></table></figure><p>trunkæ¨¡å¼</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">port-group 433434 å»ºç«‹ç«¯å£ç»„ </span><br><span class="line">group-member g 0/0/1 to g 0/0/4 åŠ å…¥æˆå‘˜ </span><br><span class="line">port link-t trunk ä¸»å¹²</span><br><span class="line">port trunk allow-pass vlan 433 434 å…è®¸433 434ä¸¤ä¸ªé“¾è·¯é€šè¿‡</span><br><span class="line">vlan batch 433 434 æ‰¹é‡å»ºç«‹vlan</span><br></pre></td></tr></table></figure><h3 id="äº¤æ¢æœºé…ç½®IP"><a href="#äº¤æ¢æœºé…ç½®IP" class="headerlink" title="äº¤æ¢æœºé…ç½®IP"></a>äº¤æ¢æœºé…ç½®IP</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">u t m</span><br><span class="line">vlan 4092</span><br><span class="line">int e0/0/1 æ³¨æ„ç½‘å£</span><br><span class="line">port link-t ac</span><br><span class="line">po de vlan 4092</span><br><span class="line"></span><br><span class="line">int vlan 4092 è™šæ‹Ÿä¸‰å±‚å£</span><br><span class="line">ip add 1.1.10.11 24 IPåœ°å€åŠ æ©ç </span><br></pre></td></tr></table></figure><p>trunkæ¨¡å¼é…ç½®ç±»ä¼¼</p><h3 id="æ±‡èšå£é…ç½®"><a href="#æ±‡èšå£é…ç½®" class="headerlink" title="æ±‡èšå£é…ç½®"></a>æ±‡èšå£é…ç½®</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">int Eth-Trunk 0</span><br><span class="line">trunkport g0/0/23</span><br><span class="line">trunkport g0/0/24</span><br><span class="line">port link-t tr</span><br><span class="line">port tu al vlan 160 434 436</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="stp-Spanning-Tree-Protocol-ç”Ÿæˆæ ‘åè®®å¯¼è‡´pingä¸é€šé—®é¢˜"><a href="#stp-Spanning-Tree-Protocol-ç”Ÿæˆæ ‘åè®®å¯¼è‡´pingä¸é€šé—®é¢˜" class="headerlink" title="stp(Spanning Tree Protocol)ç”Ÿæˆæ ‘åè®®å¯¼è‡´pingä¸é€šé—®é¢˜"></a>stp(Spanning Tree Protocol)ç”Ÿæˆæ ‘åè®®å¯¼è‡´pingä¸é€šé—®é¢˜</h3><p>stpä¸»è¦ä½œç”¨æ˜¯é˜²æ­¢ç½‘æ¡¥ä¸­çš„å†—ä½™é“¾è·¯å½¢æˆç¯è·¯</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">å…³é—­stp</span><br><span class="line">stp dis </span><br></pre></td></tr></table></figure><h3 id="ä¼šè¯è¶…æ—¶"><a href="#ä¼šè¯è¶…æ—¶" class="headerlink" title="ä¼šè¯è¶…æ—¶"></a>ä¼šè¯è¶…æ—¶</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">user-interface current</span><br><span class="line">æˆ–è€…user-interface vty 0 4</span><br><span class="line">idle-timeout 0 0 è®¾ç½®ç©ºé—²è¶…æ—¶æ—¶é—´</span><br></pre></td></tr></table></figure><h3 id="ä¿å­˜"><a href="#ä¿å­˜" class="headerlink" title="ä¿å­˜"></a>ä¿å­˜</h3><p>åœ¨å…¨å±€æ¨¡å¼ä¸‹ä½¿ç”¨<code>save</code>è¿›è¡Œé…ç½®ä¿å­˜</p><h3 id="æŸ¥çœ‹é…ç½®"><a href="#æŸ¥çœ‹é…ç½®" class="headerlink" title="æŸ¥çœ‹é…ç½®"></a>æŸ¥çœ‹é…ç½®</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">dis vlan æŸ¥çœ‹vlan</span><br><span class="line">dis cu ï¼ˆcurrent-configurationï¼‰æŸ¥çœ‹å½“å‰é…ç½®</span><br><span class="line">dis this</span><br><span class="line">dis ip int brief æŸ¥çœ‹å½“å‰è®¾å¤‡IP</span><br><span class="line">dis stp b</span><br></pre></td></tr></table></figure><h3 id="è·¯ç”±é…ç½®"><a href="#è·¯ç”±é…ç½®" class="headerlink" title="è·¯ç”±é…ç½®"></a>è·¯ç”±é…ç½®</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">åä¸ºäº¤æ¢æœº</span><br><span class="line">[ip route-static ç›®çš„IPç½‘æ®µ å­ç½‘æ©ç  ä¸‹ä¸€è·³IP]</span><br><span class="line">windowsç«¯</span><br><span class="line">[route add ç›®çš„IPç½‘æ®µ mask å­ç½‘æ©ç  ä¸‹ä¸€è·³IP -p]</span><br></pre></td></tr></table></figure><h3 id="tip"><a href="#tip" class="headerlink" title="tip"></a>tip</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">access:  </span><br><span class="line">æ”¶åŒ…ï¼šæ£€æŸ¥vlan tag,æœ‰tagå€¼ï¼Œä¸¢å¼ƒï¼›æ²¡æœ‰tagå€¼ï¼Œæ”¶è¿›æ¥  </span><br><span class="line">å‘åŒ…ï¼šå»æ‰vlan tag</span><br><span class="line"></span><br><span class="line">accessåªèƒ½è·‘ä¸€ä¸ªvlan  </span><br><span class="line">trunkå¯ä»¥è·‘å¤šä¸ªvlan</span><br></pre></td></tr></table></figure><h2 id="è™šæ‹ŸåŒ–"><a href="#è™šæ‹ŸåŒ–" class="headerlink" title="è™šæ‹ŸåŒ–"></a>è™šæ‹ŸåŒ–</h2><h3 id="qemu-kvm"><a href="#qemu-kvm" class="headerlink" title="qemu-kvm"></a>qemu-kvm</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">qemu-kvm  -smp  4  -m  960  -hda  /root/Ubuntu14.04.6-disk1.qcow2  -net  nic   -net  tap,ifname=tap0,script=no,downscript=no   -vnc  :19</span><br></pre></td></tr></table></figure><blockquote><p>-smpæŒ‡å®švcpuä¸ªæ•°ï¼Œ-mæŒ‡å®šå†…å­˜å¤§å°ï¼Œ-hdaæŒ‡å®šç£ç›˜ï¼Œ-net nicæŒ‡å®šç½‘å¡ï¼Œ-net tapæŒ‡å®šç½‘æ¡¥</p></blockquote>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;äº‘æ•°æ®ä¸­å¿ƒ&quot;&gt;&lt;a href=&quot;#äº‘æ•°æ®ä¸­å¿ƒ&quot; class=&quot;headerlink&quot; title=&quot;äº‘æ•°æ®ä¸­å¿ƒ&quot;&gt;&lt;/a&gt;äº‘æ•°æ®ä¸­å¿ƒ&lt;/h1&gt;&lt;h2 id=&quot;äº¤æ¢æœºé…ç½®&quot;&gt;&lt;a href=&quot;#äº¤æ¢æœºé…ç½®&quot; class=&quot;headerlink&quot; title=&quot;äº¤æ¢æœº
      
    
    </summary>
    
    
    
      <category term="eNSP" scheme="http://yoursite.com/tags/eNSP/"/>
    
      <category term="ç½‘ç»œé…ç½®" scheme="http://yoursite.com/tags/%E7%BD%91%E7%BB%9C%E9%85%8D%E7%BD%AE/"/>
    
      <category term="è·¯ç”±" scheme="http://yoursite.com/tags/%E8%B7%AF%E7%94%B1/"/>
    
      <category term="kvm" scheme="http://yoursite.com/tags/kvm/"/>
    
  </entry>
  
  <entry>
    <title>è®¾è®¡æ¨¡å¼ä¹Ÿå¯ä»¥è¿™ä¹ˆç®€å•</title>
    <link href="http://yoursite.com/2020/08/01/design-pattern/"/>
    <id>http://yoursite.com/2020/08/01/design-pattern/</id>
    <published>2020-08-01T04:59:00.000Z</published>
    <updated>2020-08-01T12:14:30.313Z</updated>
    
    <content type="html"><![CDATA[<p>ä¸€ç›´æƒ³å†™ä¸€ç¯‡ä»‹ç»è®¾è®¡æ¨¡å¼çš„æ–‡ç« ï¼Œè®©è¯»è€…å¯ä»¥å¾ˆå¿«çœ‹å®Œï¼Œè€Œä¸”ä¸€çœ‹å°±æ‡‚ï¼Œçœ‹æ‡‚å°±ä¼šç”¨ï¼ŒåŒæ—¶ä¸ä¼šå°†å„ä¸ªæ¨¡å¼ææ··ã€‚è‡ªè®¤ä¸ºæœ¬æ–‡è¿˜æ˜¯å†™å¾—ä¸é”™çš„ğŸ˜‚ğŸ˜‚ğŸ˜‚ï¼ŒèŠ±äº†ä¸å°‘å¿ƒæ€æ¥å†™è¿™æ–‡ç« å’Œåšå›¾ï¼ŒåŠ›æ±‚è®©è¯»è€…çœŸçš„èƒ½çœ‹ç€ç®€å•åŒæ—¶æœ‰æ‰€æ”¶è·ã€‚</p><p>è®¾è®¡æ¨¡å¼æ˜¯å¯¹å¤§å®¶å®é™…å·¥ä½œä¸­å†™çš„å„ç§ä»£ç è¿›è¡Œé«˜å±‚æ¬¡æŠ½è±¡çš„æ€»ç»“ï¼Œå…¶ä¸­æœ€å‡ºåçš„å½“å± <em>Gang of Four</em> (<em>GoF</em>) çš„åˆ†ç±»äº†ï¼Œä»–ä»¬å°†è®¾è®¡æ¨¡å¼åˆ†ç±»ä¸º 23 ç§ç»å…¸çš„æ¨¡å¼ï¼Œæ ¹æ®ç”¨é€”æˆ‘ä»¬åˆå¯ä»¥åˆ†ä¸ºä¸‰å¤§ç±»ï¼Œåˆ†åˆ«ä¸ºåˆ›å»ºå‹æ¨¡å¼ã€ç»“æ„å‹æ¨¡å¼å’Œè¡Œä¸ºå‹æ¨¡å¼ã€‚</p><p>æœ‰ä¸€äº›é‡è¦çš„è®¾è®¡åŸåˆ™åœ¨å¼€ç¯‡å’Œå¤§å®¶åˆ†äº«ä¸‹ï¼Œè¿™äº›åŸåˆ™å°†è´¯é€šå…¨æ–‡ï¼š</p><ol><li>é¢å‘æ¥å£ç¼–ç¨‹ï¼Œè€Œä¸æ˜¯é¢å‘å®ç°ã€‚è¿™ä¸ªå¾ˆé‡è¦ï¼Œä¹Ÿæ˜¯ä¼˜é›…çš„ã€å¯æ‰©å±•çš„ä»£ç çš„ç¬¬ä¸€æ­¥ï¼Œè¿™å°±ä¸éœ€è¦å¤šè¯´äº†å§ã€‚</li><li>èŒè´£å•ä¸€åŸåˆ™ã€‚æ¯ä¸ªç±»éƒ½åº”è¯¥åªæœ‰ä¸€ä¸ªå•ä¸€çš„åŠŸèƒ½ï¼Œå¹¶ä¸”è¯¥åŠŸèƒ½åº”è¯¥ç”±è¿™ä¸ªç±»å®Œå…¨å°è£…èµ·æ¥ã€‚</li><li>å¯¹ä¿®æ”¹å…³é—­ï¼Œå¯¹æ‰©å±•å¼€æ”¾ã€‚å¯¹ä¿®æ”¹å…³é—­æ˜¯è¯´ï¼Œæˆ‘ä»¬è¾›è¾›è‹¦è‹¦åŠ ç­å†™å‡ºæ¥çš„ä»£ç ï¼Œè¯¥å®ç°çš„åŠŸèƒ½å’Œè¯¥ä¿®å¤çš„ bug éƒ½å®Œæˆäº†ï¼Œåˆ«äººå¯ä¸èƒ½è¯´æ”¹å°±æ”¹ï¼›å¯¹æ‰©å±•å¼€æ”¾å°±æ¯”è¾ƒå¥½ç†è§£äº†ï¼Œä¹Ÿå°±æ˜¯è¯´åœ¨æˆ‘ä»¬å†™å¥½çš„ä»£ç åŸºç¡€ä¸Šï¼Œå¾ˆå®¹æ˜“å®ç°æ‰©å±•ã€‚</li></ol><p><strong>åˆ›å»ºå‹æ¨¡å¼æ¯”è¾ƒç®€å•ï¼Œä½†æ˜¯ä¼šæ¯”è¾ƒæ²¡æœ‰æ„æ€ï¼Œç»“æ„å‹å’Œè¡Œä¸ºå‹æ¯”è¾ƒæœ‰æ„æ€ã€‚</strong></p><h2 id="åˆ›å»ºå‹æ¨¡å¼"><a href="#åˆ›å»ºå‹æ¨¡å¼" class="headerlink" title="åˆ›å»ºå‹æ¨¡å¼"></a>åˆ›å»ºå‹æ¨¡å¼</h2><p>åˆ›å»ºå‹æ¨¡å¼çš„ä½œç”¨å°±æ˜¯åˆ›å»ºå¯¹è±¡ï¼Œè¯´åˆ°åˆ›å»ºä¸€ä¸ªå¯¹è±¡ï¼Œæœ€ç†Ÿæ‚‰çš„å°±æ˜¯ new ä¸€ä¸ªå¯¹è±¡ï¼Œç„¶å set ç›¸å…³å±æ€§ã€‚ä½†æ˜¯ï¼Œåœ¨å¾ˆå¤šåœºæ™¯ä¸‹ï¼Œæˆ‘ä»¬éœ€è¦ç»™å®¢æˆ·ç«¯æä¾›æ›´åŠ å‹å¥½çš„åˆ›å»ºå¯¹è±¡çš„æ–¹å¼ï¼Œå°¤å…¶æ˜¯é‚£ç§æˆ‘ä»¬å®šä¹‰äº†ç±»ï¼Œä½†æ˜¯éœ€è¦æä¾›ç»™å…¶ä»–å¼€å‘è€…ç”¨çš„æ—¶å€™ã€‚</p><h3 id="ç®€å•å·¥å‚æ¨¡å¼"><a href="#ç®€å•å·¥å‚æ¨¡å¼" class="headerlink" title="ç®€å•å·¥å‚æ¨¡å¼"></a>ç®€å•å·¥å‚æ¨¡å¼</h3><p>å’Œåå­—ä¸€æ ·ç®€å•ï¼Œéå¸¸ç®€å•ï¼Œç›´æ¥ä¸Šä»£ç å§ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">FoodFactory</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> Food <span class="title">makeFood</span><span class="params">(String name)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (name.equals(<span class="string">&quot;noodle&quot;</span>)) &#123;</span><br><span class="line">            Food noodle = <span class="keyword">new</span> LanZhouNoodle();</span><br><span class="line">            noodle.addSpicy(<span class="string">&quot;more&quot;</span>);</span><br><span class="line">            <span class="keyword">return</span> noodle;</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (name.equals(<span class="string">&quot;chicken&quot;</span>)) &#123;</span><br><span class="line">            Food chicken = <span class="keyword">new</span> HuangMenChicken();</span><br><span class="line">            chicken.addCondiment(<span class="string">&quot;potato&quot;</span>);</span><br><span class="line">            <span class="keyword">return</span> chicken;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><em>å…¶ä¸­ï¼ŒLanZhouNoodle å’Œ HuangMenChicken éƒ½ç»§æ‰¿è‡ª Foodã€‚</em></p><p>ç®€å•åœ°è¯´ï¼Œç®€å•å·¥å‚æ¨¡å¼é€šå¸¸å°±æ˜¯è¿™æ ·ï¼Œä¸€ä¸ªå·¥å‚ç±» XxxFactoryï¼Œé‡Œé¢æœ‰ä¸€ä¸ªé™æ€æ–¹æ³•ï¼Œæ ¹æ®æˆ‘ä»¬ä¸åŒçš„å‚æ•°ï¼Œè¿”å›ä¸åŒçš„æ´¾ç”Ÿè‡ªåŒä¸€ä¸ªçˆ¶ç±»ï¼ˆæˆ–å®ç°åŒä¸€æ¥å£ï¼‰çš„å®ä¾‹å¯¹è±¡ã€‚</p><a id="more"></a><blockquote><p>æˆ‘ä»¬å¼ºè°ƒ<strong>èŒè´£å•ä¸€</strong>åŸåˆ™ï¼Œä¸€ä¸ªç±»åªæä¾›ä¸€ç§åŠŸèƒ½ï¼ŒFoodFactory çš„åŠŸèƒ½å°±æ˜¯åªè¦è´Ÿè´£ç”Ÿäº§å„ç§ Foodã€‚</p></blockquote><h3 id="å·¥å‚æ¨¡å¼"><a href="#å·¥å‚æ¨¡å¼" class="headerlink" title="å·¥å‚æ¨¡å¼"></a>å·¥å‚æ¨¡å¼</h3><p>ç®€å•å·¥å‚æ¨¡å¼å¾ˆç®€å•ï¼Œå¦‚æœå®ƒèƒ½æ»¡è¶³æˆ‘ä»¬çš„éœ€è¦ï¼Œæˆ‘è§‰å¾—å°±ä¸è¦æŠ˜è…¾äº†ã€‚ä¹‹æ‰€ä»¥éœ€è¦å¼•å…¥å·¥å‚æ¨¡å¼ï¼Œæ˜¯å› ä¸ºæˆ‘ä»¬å¾€å¾€éœ€è¦ä½¿ç”¨ä¸¤ä¸ªæˆ–ä¸¤ä¸ªä»¥ä¸Šçš„å·¥å‚ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">FoodFactory</span> </span>&#123;</span><br><span class="line">    <span class="function">Food <span class="title">makeFood</span><span class="params">(String name)</span></span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ChineseFoodFactory</span> <span class="keyword">implements</span> <span class="title">FoodFactory</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Food <span class="title">makeFood</span><span class="params">(String name)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (name.equals(<span class="string">&quot;A&quot;</span>)) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">new</span> ChineseFoodA();</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (name.equals(<span class="string">&quot;B&quot;</span>)) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">new</span> ChineseFoodB();</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">AmericanFoodFactory</span> <span class="keyword">implements</span> <span class="title">FoodFactory</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Food <span class="title">makeFood</span><span class="params">(String name)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (name.equals(<span class="string">&quot;A&quot;</span>)) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">new</span> AmericanFoodA();</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (name.equals(<span class="string">&quot;B&quot;</span>)) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">new</span> AmericanFoodB();</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å…¶ä¸­ï¼ŒChineseFoodAã€ChineseFoodBã€AmericanFoodAã€AmericanFoodB éƒ½æ´¾ç”Ÿè‡ª Foodã€‚</p><p>å®¢æˆ·ç«¯è°ƒç”¨ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">APP</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="comment">// å…ˆé€‰æ‹©ä¸€ä¸ªå…·ä½“çš„å·¥å‚</span></span><br><span class="line">        FoodFactory factory = <span class="keyword">new</span> ChineseFoodFactory();</span><br><span class="line">        <span class="comment">// ç”±ç¬¬ä¸€æ­¥çš„å·¥å‚äº§ç”Ÿå…·ä½“çš„å¯¹è±¡ï¼Œä¸åŒçš„å·¥å‚é€ å‡ºä¸ä¸€æ ·çš„å¯¹è±¡</span></span><br><span class="line">        Food food = factory.makeFood(<span class="string">&quot;A&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è™½ç„¶éƒ½æ˜¯è°ƒç”¨ makeFood(â€œAâ€)  åˆ¶ä½œ A ç±»é£Ÿç‰©ï¼Œä½†æ˜¯ï¼Œä¸åŒçš„å·¥å‚ç”Ÿäº§å‡ºæ¥çš„å®Œå…¨ä¸ä¸€æ ·ã€‚</p><p>ç¬¬ä¸€æ­¥ï¼Œæˆ‘ä»¬éœ€è¦é€‰å–åˆé€‚çš„å·¥å‚ï¼Œç„¶åç¬¬äºŒæ­¥åŸºæœ¬ä¸Šå’Œç®€å•å·¥å‚ä¸€æ ·ã€‚</p><p><strong>æ ¸å¿ƒåœ¨äºï¼Œæˆ‘ä»¬éœ€è¦åœ¨ç¬¬ä¸€æ­¥é€‰å¥½æˆ‘ä»¬éœ€è¦çš„å·¥å‚</strong>ã€‚æ¯”å¦‚ï¼Œæˆ‘ä»¬æœ‰ LogFactory æ¥å£ï¼Œå®ç°ç±»æœ‰ FileLogFactory å’Œ KafkaLogFactoryï¼Œåˆ†åˆ«å¯¹åº”å°†æ—¥å¿—å†™å…¥æ–‡ä»¶å’Œå†™å…¥ Kafka ä¸­ï¼Œæ˜¾ç„¶ï¼Œæˆ‘ä»¬å®¢æˆ·ç«¯ç¬¬ä¸€æ­¥å°±éœ€è¦å†³å®šåˆ°åº•è¦å®ä¾‹åŒ– FileLogFactory è¿˜æ˜¯ KafkaLogFactoryï¼Œè¿™å°†å†³å®šä¹‹åçš„æ‰€æœ‰çš„æ“ä½œã€‚</p><p>è™½ç„¶ç®€å•ï¼Œä¸è¿‡æˆ‘ä¹ŸæŠŠæ‰€æœ‰çš„æ„ä»¶éƒ½ç”»åˆ°ä¸€å¼ å›¾ä¸Šï¼Œè¿™æ ·è¯»è€…çœ‹ç€æ¯”è¾ƒæ¸…æ™°ï¼š</p><p><img src="https://www.javadoop.com/blogimages/design-pattern/factory-1.png" alt="factory-1"></p><h3 id="æŠ½è±¡å·¥å‚æ¨¡å¼"><a href="#æŠ½è±¡å·¥å‚æ¨¡å¼" class="headerlink" title="æŠ½è±¡å·¥å‚æ¨¡å¼"></a>æŠ½è±¡å·¥å‚æ¨¡å¼</h3><p>å½“æ¶‰åŠåˆ°<strong>äº§å“æ—</strong>çš„æ—¶å€™ï¼Œå°±éœ€è¦å¼•å…¥æŠ½è±¡å·¥å‚æ¨¡å¼äº†ã€‚</p><p>ä¸€ä¸ªç»å…¸çš„ä¾‹å­æ˜¯é€ ä¸€å°ç”µè„‘ã€‚æˆ‘ä»¬å…ˆä¸å¼•å…¥æŠ½è±¡å·¥å‚æ¨¡å¼ï¼Œçœ‹çœ‹æ€ä¹ˆå®ç°ã€‚</p><p>å› ä¸ºç”µè„‘æ˜¯ç”±è®¸å¤šçš„æ„ä»¶ç»„æˆçš„ï¼Œæˆ‘ä»¬å°† CPU å’Œä¸»æ¿è¿›è¡ŒæŠ½è±¡ï¼Œç„¶å CPU ç”± CPUFactory ç”Ÿäº§ï¼Œä¸»æ¿ç”± MainBoardFactory ç”Ÿäº§ï¼Œç„¶åï¼Œæˆ‘ä»¬å†å°† CPU å’Œä¸»æ¿æ­é…èµ·æ¥ç»„åˆåœ¨ä¸€èµ·ï¼Œå¦‚ä¸‹å›¾ï¼š</p><p><img src="https://www.javadoop.com/blogimages/design-pattern/abstract-factory-1.png" alt="factory-1"></p><p>è¿™ä¸ªæ—¶å€™çš„å®¢æˆ·ç«¯è°ƒç”¨æ˜¯è¿™æ ·çš„ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å¾—åˆ° Intel çš„ CPU</span></span><br><span class="line">CPUFactory cpuFactory = <span class="keyword">new</span> IntelCPUFactory();</span><br><span class="line">CPU cpu = intelCPUFactory.makeCPU();</span><br><span class="line"></span><br><span class="line"><span class="comment">// å¾—åˆ° AMD çš„ä¸»æ¿</span></span><br><span class="line">MainBoardFactory mainBoardFactory = <span class="keyword">new</span> AmdMainBoardFactory();</span><br><span class="line">MainBoard mainBoard = mainBoardFactory.make();</span><br><span class="line"></span><br><span class="line"><span class="comment">// ç»„è£… CPU å’Œä¸»æ¿</span></span><br><span class="line">Computer computer = <span class="keyword">new</span> Computer(cpu, mainBoard);</span><br></pre></td></tr></table></figure><p>å•ç‹¬çœ‹ CPU å·¥å‚å’Œä¸»æ¿å·¥å‚ï¼Œå®ƒä»¬åˆ†åˆ«æ˜¯å‰é¢æˆ‘ä»¬è¯´çš„<strong>å·¥å‚æ¨¡å¼</strong>ã€‚è¿™ç§æ–¹å¼ä¹Ÿå®¹æ˜“æ‰©å±•ï¼Œå› ä¸ºè¦ç»™ç”µè„‘åŠ ç¡¬ç›˜çš„è¯ï¼Œåªéœ€è¦åŠ ä¸€ä¸ª HardDiskFactory å’Œç›¸åº”çš„å®ç°å³å¯ï¼Œä¸éœ€è¦ä¿®æ”¹ç°æœ‰çš„å·¥å‚ã€‚</p><p>ä½†æ˜¯ï¼Œè¿™ç§æ–¹å¼æœ‰ä¸€ä¸ªé—®é¢˜ï¼Œé‚£å°±æ˜¯å¦‚æœ <strong>Intel å®¶äº§çš„ CPU å’Œ AMD äº§çš„ä¸»æ¿ä¸èƒ½å…¼å®¹ä½¿ç”¨</strong>ï¼Œé‚£ä¹ˆè¿™ä»£ç å°±å®¹æ˜“å‡ºé”™ï¼Œå› ä¸ºå®¢æˆ·ç«¯å¹¶ä¸çŸ¥é“å®ƒä»¬ä¸å…¼å®¹ï¼Œä¹Ÿå°±ä¼šé”™è¯¯åœ°å‡ºç°éšæ„ç»„åˆã€‚</p><p>ä¸‹é¢å°±æ˜¯æˆ‘ä»¬è¦è¯´çš„<strong>äº§å“æ—</strong>çš„æ¦‚å¿µï¼Œå®ƒä»£è¡¨äº†ç»„æˆæŸä¸ªäº§å“çš„ä¸€ç³»åˆ—é™„ä»¶çš„é›†åˆï¼š</p><p><img src="https://www.javadoop.com/blogimages/design-pattern/abstract-factory-2.png" alt="abstract-factory-2"></p><p>å½“æ¶‰åŠåˆ°è¿™ç§äº§å“æ—çš„é—®é¢˜çš„æ—¶å€™ï¼Œå°±éœ€è¦æŠ½è±¡å·¥å‚æ¨¡å¼æ¥æ”¯æŒäº†ã€‚æˆ‘ä»¬ä¸å†å®šä¹‰ CPU å·¥å‚ã€ä¸»æ¿å·¥å‚ã€ç¡¬ç›˜å·¥å‚ã€æ˜¾ç¤ºå±å·¥å‚ç­‰ç­‰ï¼Œæˆ‘ä»¬ç›´æ¥å®šä¹‰ç”µè„‘å·¥å‚ï¼Œæ¯ä¸ªç”µè„‘å·¥å‚è´Ÿè´£ç”Ÿäº§æ‰€æœ‰çš„è®¾å¤‡ï¼Œè¿™æ ·èƒ½ä¿è¯è‚¯å®šä¸å­˜åœ¨å…¼å®¹é—®é¢˜ã€‚</p><p><img src="https://www.javadoop.com/blogimages/design-pattern/abstract-factory-3.png" alt="abstract-factory-3"></p><p>è¿™ä¸ªæ—¶å€™ï¼Œå¯¹äºå®¢æˆ·ç«¯æ¥è¯´ï¼Œä¸å†éœ€è¦å•ç‹¬æŒ‘é€‰ CPUå‚å•†ã€ä¸»æ¿å‚å•†ã€ç¡¬ç›˜å‚å•†ç­‰ï¼Œç›´æ¥é€‰æ‹©ä¸€å®¶å“ç‰Œå·¥å‚ï¼Œå“ç‰Œå·¥å‚ä¼šè´Ÿè´£ç”Ÿäº§æ‰€æœ‰çš„ä¸œè¥¿ï¼Œè€Œä¸”èƒ½ä¿è¯è‚¯å®šæ˜¯å…¼å®¹å¯ç”¨çš„ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">    <span class="comment">// ç¬¬ä¸€æ­¥å°±è¦é€‰å®šä¸€ä¸ªâ€œå¤§å‚â€</span></span><br><span class="line">    ComputerFactory cf = <span class="keyword">new</span> AmdFactory();</span><br><span class="line">    <span class="comment">// ä»è¿™ä¸ªå¤§å‚é€  CPU</span></span><br><span class="line">    CPU cpu = cf.makeCPU();</span><br><span class="line">    <span class="comment">// ä»è¿™ä¸ªå¤§å‚é€ ä¸»æ¿</span></span><br><span class="line">    MainBoard board = cf.makeMainBoard();</span><br><span class="line">      <span class="comment">// ä»è¿™ä¸ªå¤§å‚é€ ç¡¬ç›˜</span></span><br><span class="line">      HardDisk hardDisk = cf.makeHardDisk();</span><br><span class="line">  </span><br><span class="line">    <span class="comment">// å°†åŒä¸€ä¸ªå‚å­å‡ºæ¥çš„ CPUã€ä¸»æ¿ã€ç¡¬ç›˜ç»„è£…åœ¨ä¸€èµ·</span></span><br><span class="line">    Computer result = <span class="keyword">new</span> Computer(cpu, board, hardDisk);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å½“ç„¶ï¼ŒæŠ½è±¡å·¥å‚çš„é—®é¢˜ä¹Ÿæ˜¯æ˜¾è€Œæ˜“è§çš„ï¼Œæ¯”å¦‚æˆ‘ä»¬è¦åŠ ä¸ªæ˜¾ç¤ºå™¨ï¼Œå°±éœ€è¦ä¿®æ”¹æ‰€æœ‰çš„å·¥å‚ï¼Œç»™æ‰€æœ‰çš„å·¥å‚éƒ½åŠ ä¸Šåˆ¶é€ æ˜¾ç¤ºå™¨çš„æ–¹æ³•ã€‚è¿™æœ‰ç‚¹è¿åäº†<strong>å¯¹ä¿®æ”¹å…³é—­ï¼Œå¯¹æ‰©å±•å¼€æ”¾</strong>è¿™ä¸ªè®¾è®¡åŸåˆ™ã€‚</p><h3 id="å•ä¾‹æ¨¡å¼"><a href="#å•ä¾‹æ¨¡å¼" class="headerlink" title="å•ä¾‹æ¨¡å¼"></a>å•ä¾‹æ¨¡å¼</h3><p>å•ä¾‹æ¨¡å¼ç”¨å¾—æœ€å¤šï¼Œé”™å¾—æœ€å¤šã€‚</p><p>é¥¿æ±‰æ¨¡å¼æœ€ç®€å•ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Singleton</span> </span>&#123;</span><br><span class="line">    <span class="comment">// é¦–å…ˆï¼Œå°† new Singleton() å µæ­»</span></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="title">Singleton</span><span class="params">()</span> </span>&#123;&#125;;</span><br><span class="line">    <span class="comment">// åˆ›å»ºç§æœ‰é™æ€å®ä¾‹ï¼Œæ„å‘³ç€è¿™ä¸ªç±»ç¬¬ä¸€æ¬¡ä½¿ç”¨çš„æ—¶å€™å°±ä¼šè¿›è¡Œåˆ›å»º</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> Singleton instance = <span class="keyword">new</span> Singleton();</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> Singleton <span class="title">getInstance</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> instance;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// çå†™ä¸€ä¸ªé™æ€æ–¹æ³•ã€‚è¿™é‡Œæƒ³è¯´çš„æ˜¯ï¼Œå¦‚æœæˆ‘ä»¬åªæ˜¯è¦è°ƒç”¨ Singleton.getDate(...)ï¼Œ</span></span><br><span class="line">    <span class="comment">// æœ¬æ¥æ˜¯ä¸æƒ³è¦ç”Ÿæˆ Singleton å®ä¾‹çš„ï¼Œä¸è¿‡æ²¡åŠæ³•ï¼Œå·²ç»ç”Ÿæˆäº†</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> Date <span class="title">getDate</span><span class="params">(String mode)</span> </span>&#123;<span class="keyword">return</span> <span class="keyword">new</span> Date();&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>å¾ˆå¤šäººéƒ½èƒ½è¯´å‡ºé¥¿æ±‰æ¨¡å¼çš„ç¼ºç‚¹ï¼Œå¯æ˜¯æˆ‘è§‰å¾—ç”Ÿäº§è¿‡ç¨‹ä¸­ï¼Œå¾ˆå°‘ç¢°åˆ°è¿™ç§æƒ…å†µï¼šä½ å®šä¹‰äº†ä¸€ä¸ªå•ä¾‹çš„ç±»ï¼Œä¸éœ€è¦å…¶å®ä¾‹ï¼Œå¯æ˜¯ä½ å´æŠŠä¸€ä¸ªæˆ–å‡ ä¸ªä½ ä¼šç”¨åˆ°çš„é™æ€æ–¹æ³•å¡åˆ°è¿™ä¸ªç±»ä¸­ã€‚</p></blockquote><p>é¥±æ±‰æ¨¡å¼æœ€å®¹æ˜“å‡ºé”™ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Singleton</span> </span>&#123;</span><br><span class="line">    <span class="comment">// é¦–å…ˆï¼Œä¹Ÿæ˜¯å…ˆå µæ­» new Singleton() è¿™æ¡è·¯</span></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="title">Singleton</span><span class="params">()</span> </span>&#123;&#125;</span><br><span class="line">    <span class="comment">// å’Œé¥¿æ±‰æ¨¡å¼ç›¸æ¯”ï¼Œè¿™è¾¹ä¸éœ€è¦å…ˆå®ä¾‹åŒ–å‡ºæ¥ï¼Œæ³¨æ„è¿™é‡Œçš„ volatileï¼Œå®ƒæ˜¯å¿…é¡»çš„</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">volatile</span> Singleton instance = <span class="keyword">null</span>;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> Singleton <span class="title">getInstance</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (instance == <span class="keyword">null</span>) &#123;</span><br><span class="line">            <span class="comment">// åŠ é”</span></span><br><span class="line">            <span class="keyword">synchronized</span> (Singleton.class) &#123;</span><br><span class="line">                <span class="comment">// è¿™ä¸€æ¬¡åˆ¤æ–­ä¹Ÿæ˜¯å¿…é¡»çš„ï¼Œä¸ç„¶ä¼šæœ‰å¹¶å‘é—®é¢˜</span></span><br><span class="line">                <span class="keyword">if</span> (instance == <span class="keyword">null</span>) &#123;</span><br><span class="line">                    instance = <span class="keyword">new</span> Singleton();</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> instance;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>åŒé‡æ£€æŸ¥ï¼ŒæŒ‡çš„æ˜¯ä¸¤æ¬¡æ£€æŸ¥ instance æ˜¯å¦ä¸º nullã€‚</p><p>volatile åœ¨è¿™é‡Œæ˜¯éœ€è¦çš„ï¼Œå¸Œæœ›èƒ½å¼•èµ·è¯»è€…çš„å…³æ³¨ã€‚</p><p>å¾ˆå¤šäººä¸çŸ¥é“æ€ä¹ˆå†™ï¼Œç›´æ¥å°±åœ¨ getInstance() æ–¹æ³•ç­¾åä¸ŠåŠ ä¸Š synchronizedï¼Œè¿™å°±ä¸å¤šè¯´äº†ï¼Œæ€§èƒ½å¤ªå·®ã€‚</p></blockquote><p>åµŒå¥—ç±»æœ€ç»å…¸ï¼Œä»¥åå¤§å®¶å°±ç”¨å®ƒå§ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Singleton3</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="title">Singleton3</span><span class="params">()</span> </span>&#123;&#125;</span><br><span class="line">    <span class="comment">// ä¸»è¦æ˜¯ä½¿ç”¨äº† åµŒå¥—ç±»å¯ä»¥è®¿é—®å¤–éƒ¨ç±»çš„é™æ€å±æ€§å’Œé™æ€æ–¹æ³• çš„ç‰¹æ€§</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="class"><span class="keyword">class</span> <span class="title">Holder</span> </span>&#123;</span><br><span class="line">        <span class="keyword">private</span> <span class="keyword">static</span> Singleton3 instance = <span class="keyword">new</span> Singleton3();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> Singleton3 <span class="title">getInstance</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> Holder.instance;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>æ³¨æ„ï¼Œå¾ˆå¤šäººéƒ½ä¼šæŠŠè¿™ä¸ª<strong>åµŒå¥—ç±»</strong>è¯´æˆæ˜¯<strong>é™æ€å†…éƒ¨ç±»</strong>ï¼Œä¸¥æ ¼åœ°è¯´ï¼Œå†…éƒ¨ç±»å’ŒåµŒå¥—ç±»æ˜¯ä¸ä¸€æ ·çš„ï¼Œå®ƒä»¬èƒ½è®¿é—®çš„å¤–éƒ¨ç±»æƒé™ä¹Ÿæ˜¯ä¸ä¸€æ ·çš„ã€‚</p></blockquote><p>æœ€åï¼Œæˆ‘ä»¬è¯´ä¸€ä¸‹æšä¸¾ï¼Œæšä¸¾å¾ˆç‰¹æ®Šï¼Œå®ƒåœ¨ç±»åŠ è½½çš„æ—¶å€™ä¼šåˆå§‹åŒ–é‡Œé¢çš„æ‰€æœ‰çš„å®ä¾‹ï¼Œè€Œä¸” JVM ä¿è¯äº†å®ƒä»¬ä¸ä¼šå†è¢«å®ä¾‹åŒ–ï¼Œæ‰€ä»¥å®ƒå¤©ç”Ÿå°±æ˜¯å•ä¾‹çš„ã€‚</p><p>è™½ç„¶æˆ‘ä»¬å¹³æ—¶å¾ˆå°‘çœ‹åˆ°ç”¨æšä¸¾æ¥å®ç°å•ä¾‹ï¼Œä½†æ˜¯åœ¨ RxJava çš„æºç ä¸­ï¼Œæœ‰å¾ˆå¤šåœ°æ–¹éƒ½ç”¨äº†æšä¸¾æ¥å®ç°å•ä¾‹ã€‚</p><h3 id="å»ºé€ è€…æ¨¡å¼"><a href="#å»ºé€ è€…æ¨¡å¼" class="headerlink" title="å»ºé€ è€…æ¨¡å¼"></a>å»ºé€ è€…æ¨¡å¼</h3><p>ç»å¸¸ç¢°è§çš„ XxxBuilder çš„ç±»ï¼Œé€šå¸¸éƒ½æ˜¯å»ºé€ è€…æ¨¡å¼çš„äº§ç‰©ã€‚å»ºé€ è€…æ¨¡å¼å…¶å®æœ‰å¾ˆå¤šçš„å˜ç§ï¼Œä½†æ˜¯å¯¹äºå®¢æˆ·ç«¯æ¥è¯´ï¼Œæˆ‘ä»¬çš„ä½¿ç”¨é€šå¸¸éƒ½æ˜¯ä¸€ä¸ªæ¨¡å¼çš„ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Food food = <span class="keyword">new</span> FoodBuilder().a().b().c().build();</span><br><span class="line">Food food = Food.builder().a().b().c().build();</span><br></pre></td></tr></table></figure><p>å¥—è·¯å°±æ˜¯å…ˆ new ä¸€ä¸ª Builderï¼Œç„¶åå¯ä»¥é“¾å¼åœ°è°ƒç”¨ä¸€å †æ–¹æ³•ï¼Œæœ€åå†è°ƒç”¨ä¸€æ¬¡ build() æ–¹æ³•ï¼Œæˆ‘ä»¬éœ€è¦çš„å¯¹è±¡å°±æœ‰äº†ã€‚</p><p>æ¥ä¸€ä¸ªä¸­è§„ä¸­çŸ©çš„å»ºé€ è€…æ¨¡å¼ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">User</span> </span>&#123;</span><br><span class="line">    <span class="comment">// ä¸‹é¢æ˜¯â€œä¸€å †â€çš„å±æ€§</span></span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">private</span> String password;</span><br><span class="line">    <span class="keyword">private</span> String nickName;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> age;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// æ„é€ æ–¹æ³•ç§æœ‰åŒ–ï¼Œä¸ç„¶å®¢æˆ·ç«¯å°±ä¼šç›´æ¥è°ƒç”¨æ„é€ æ–¹æ³•äº†</span></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="title">User</span><span class="params">(String name, String password, String nickName, <span class="keyword">int</span> age)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.name = name;</span><br><span class="line">        <span class="keyword">this</span>.password = password;</span><br><span class="line">        <span class="keyword">this</span>.nickName = nickName;</span><br><span class="line">        <span class="keyword">this</span>.age = age;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// é™æ€æ–¹æ³•ï¼Œç”¨äºç”Ÿæˆä¸€ä¸ª Builderï¼Œè¿™ä¸ªä¸ä¸€å®šè¦æœ‰ï¼Œä¸è¿‡å†™è¿™ä¸ªæ–¹æ³•æ˜¯ä¸€ä¸ªå¾ˆå¥½çš„ä¹ æƒ¯ï¼Œ</span></span><br><span class="line">    <span class="comment">// æœ‰äº›ä»£ç è¦æ±‚åˆ«äººå†™ new User.UserBuilder().a()...build() çœ‹ä¸Šå»å°±æ²¡é‚£ä¹ˆå¥½</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> UserBuilder <span class="title">builder</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> UserBuilder();</span><br><span class="line">    &#125;</span><br><span class="line">   </span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="class"><span class="keyword">class</span> <span class="title">UserBuilder</span> </span>&#123;</span><br><span class="line">        <span class="comment">// ä¸‹é¢æ˜¯å’Œ User ä¸€æ¨¡ä¸€æ ·çš„ä¸€å †å±æ€§</span></span><br><span class="line">        <span class="keyword">private</span> String  name;</span><br><span class="line">        <span class="keyword">private</span> String password;</span><br><span class="line">        <span class="keyword">private</span> String nickName;</span><br><span class="line">        <span class="keyword">private</span> <span class="keyword">int</span> age;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">private</span> <span class="title">UserBuilder</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// é“¾å¼è°ƒç”¨è®¾ç½®å„ä¸ªå±æ€§å€¼ï¼Œè¿”å› thisï¼Œå³ UserBuilder</span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> UserBuilder <span class="title">name</span><span class="params">(String name)</span> </span>&#123;</span><br><span class="line">            <span class="keyword">this</span>.name = name;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">this</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">public</span> UserBuilder <span class="title">password</span><span class="params">(String password)</span> </span>&#123;</span><br><span class="line">            <span class="keyword">this</span>.password = password;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">this</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">public</span> UserBuilder <span class="title">nickName</span><span class="params">(String nickName)</span> </span>&#123;</span><br><span class="line">            <span class="keyword">this</span>.nickName = nickName;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">this</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">public</span> UserBuilder <span class="title">age</span><span class="params">(<span class="keyword">int</span> age)</span> </span>&#123;</span><br><span class="line">            <span class="keyword">this</span>.age = age;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">this</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// build() æ–¹æ³•è´Ÿè´£å°† UserBuilder ä¸­è®¾ç½®å¥½çš„å±æ€§â€œå¤åˆ¶â€åˆ° User ä¸­ã€‚</span></span><br><span class="line">        <span class="comment">// å½“ç„¶ï¼Œå¯ä»¥åœ¨ â€œå¤åˆ¶â€ ä¹‹å‰åšç‚¹æ£€éªŒ</span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> User <span class="title">build</span><span class="params">()</span> </span>&#123;</span><br><span class="line">            <span class="keyword">if</span> (name == <span class="keyword">null</span> || password == <span class="keyword">null</span>) &#123;</span><br><span class="line">                <span class="keyword">throw</span> <span class="keyword">new</span> RuntimeException(<span class="string">&quot;ç”¨æˆ·åå’Œå¯†ç å¿…å¡«&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (age &lt;= <span class="number">0</span> || age &gt;= <span class="number">150</span>) &#123;</span><br><span class="line">                <span class="keyword">throw</span> <span class="keyword">new</span> RuntimeException(<span class="string">&quot;å¹´é¾„ä¸åˆæ³•&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">// è¿˜å¯ä»¥åšèµ‹äºˆâ€é»˜è®¤å€¼â€œçš„åŠŸèƒ½</span></span><br><span class="line">              <span class="keyword">if</span> (nickName == <span class="keyword">null</span>) &#123;</span><br><span class="line">                nickName = name;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">new</span> User(name, password, nickName, age);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ ¸å¿ƒæ˜¯ï¼šå…ˆæŠŠæ‰€æœ‰çš„å±æ€§éƒ½è®¾ç½®ç»™ Builderï¼Œç„¶å build() æ–¹æ³•çš„æ—¶å€™ï¼Œå°†è¿™äº›å±æ€§<strong>å¤åˆ¶</strong>ç»™å®é™…äº§ç”Ÿçš„å¯¹è±¡ã€‚</p><p>çœ‹çœ‹å®¢æˆ·ç«¯çš„è°ƒç”¨ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">APP</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        User d = User.builder()</span><br><span class="line">                .name(<span class="string">&quot;foo&quot;</span>)</span><br><span class="line">                .password(<span class="string">&quot;pAss12345&quot;</span>)</span><br><span class="line">                .age(<span class="number">25</span>)</span><br><span class="line">                .build();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¯´å®è¯ï¼Œå»ºé€ è€…æ¨¡å¼çš„<strong>é“¾å¼</strong>å†™æ³•å¾ˆå¸å¼•äººï¼Œä½†æ˜¯ï¼Œå¤šå†™äº†å¾ˆå¤šâ€œæ— ç”¨â€çš„ builder çš„ä»£ç ï¼Œæ„Ÿè§‰è¿™ä¸ªæ¨¡å¼æ²¡ä»€ä¹ˆç”¨ã€‚ä¸è¿‡ï¼Œå½“å±æ€§å¾ˆå¤šï¼Œè€Œä¸”æœ‰äº›å¿…å¡«ï¼Œæœ‰äº›é€‰å¡«çš„æ—¶å€™ï¼Œè¿™ä¸ªæ¨¡å¼ä¼šä½¿ä»£ç æ¸…æ™°å¾ˆå¤šã€‚æˆ‘ä»¬å¯ä»¥åœ¨ <strong>Builder çš„æ„é€ æ–¹æ³•</strong>ä¸­å¼ºåˆ¶è®©è°ƒç”¨è€…æä¾›å¿…å¡«å­—æ®µï¼Œè¿˜æœ‰ï¼Œåœ¨ build() æ–¹æ³•ä¸­æ ¡éªŒå„ä¸ªå‚æ•°æ¯”åœ¨ User çš„æ„é€ æ–¹æ³•ä¸­æ ¡éªŒï¼Œä»£ç è¦ä¼˜é›…ä¸€äº›ã€‚</p><blockquote><p>é¢˜å¤–è¯ï¼Œå¼ºçƒˆå»ºè®®è¯»è€…ä½¿ç”¨ lombokï¼Œç”¨äº† lombok ä»¥åï¼Œä¸Šé¢çš„ä¸€å¤§å †ä»£ç ä¼šå˜æˆå¦‚ä¸‹è¿™æ ·:</p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Builder</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">User</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> String  name;</span><br><span class="line">    <span class="keyword">private</span> String password;</span><br><span class="line">    <span class="keyword">private</span> String nickName;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> age;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>æ€ä¹ˆæ ·ï¼Œçœä¸‹æ¥çš„æ—¶é—´æ˜¯ä¸æ˜¯åˆå¯ä»¥å¹²ç‚¹åˆ«çš„äº†ã€‚</p></blockquote><p>å½“ç„¶ï¼Œå¦‚æœä½ åªæ˜¯æƒ³è¦é“¾å¼å†™æ³•ï¼Œä¸æƒ³è¦å»ºé€ è€…æ¨¡å¼ï¼Œæœ‰ä¸ªå¾ˆç®€å•çš„åŠæ³•ï¼ŒUser çš„ getter æ–¹æ³•ä¸å˜ï¼Œæ‰€æœ‰çš„ setter æ–¹æ³•éƒ½è®©å…¶ <strong>return this</strong> å°±å¯ä»¥äº†ï¼Œç„¶åå°±å¯ä»¥åƒä¸‹é¢è¿™æ ·è°ƒç”¨ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">User user = <span class="keyword">new</span> User().setName(<span class="string">&quot;&quot;</span>).setPassword(<span class="string">&quot;&quot;</span>).setAge(<span class="number">20</span>);</span><br></pre></td></tr></table></figure><blockquote><p>å¾ˆå¤šäººæ˜¯è¿™ä¹ˆç”¨çš„ï¼Œä½†æ˜¯ç¬”è€…è§‰å¾—å…¶å®è¿™ç§å†™æ³•éå¸¸åœ°ä¸ä¼˜é›…ï¼Œä¸æ˜¯å¾ˆæ¨èä½¿ç”¨ã€‚</p></blockquote><h3 id="åŸå‹æ¨¡å¼"><a href="#åŸå‹æ¨¡å¼" class="headerlink" title="åŸå‹æ¨¡å¼"></a>åŸå‹æ¨¡å¼</h3><p>è¿™æ˜¯æˆ‘è¦è¯´çš„åˆ›å»ºå‹æ¨¡å¼çš„æœ€åä¸€ä¸ªè®¾è®¡æ¨¡å¼äº†ã€‚</p><p>åŸå‹æ¨¡å¼å¾ˆç®€å•ï¼šæœ‰ä¸€ä¸ªåŸå‹<strong>å®ä¾‹</strong>ï¼ŒåŸºäºè¿™ä¸ªåŸå‹å®ä¾‹äº§ç”Ÿæ–°çš„å®ä¾‹ï¼Œä¹Ÿå°±æ˜¯â€œå…‹éš†â€äº†ã€‚</p><p>Object ç±»ä¸­æœ‰ä¸€ä¸ª clone() æ–¹æ³•ï¼Œå®ƒç”¨äºç”Ÿæˆä¸€ä¸ªæ–°çš„å¯¹è±¡ï¼Œå½“ç„¶ï¼Œå¦‚æœæˆ‘ä»¬è¦è°ƒç”¨è¿™ä¸ªæ–¹æ³•ï¼Œjava è¦æ±‚æˆ‘ä»¬çš„ç±»å¿…é¡»å…ˆ<strong>å®ç° Cloneable æ¥å£</strong>ï¼Œæ­¤æ¥å£æ²¡æœ‰å®šä¹‰ä»»ä½•æ–¹æ³•ï¼Œä½†æ˜¯ä¸è¿™ä¹ˆåšçš„è¯ï¼Œåœ¨ clone() çš„æ—¶å€™ï¼Œä¼šæŠ›å‡º CloneNotSupportedException å¼‚å¸¸ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">protected</span> <span class="keyword">native</span> Object <span class="title">clone</span><span class="params">()</span> <span class="keyword">throws</span> CloneNotSupportedException</span>;</span><br></pre></td></tr></table></figure><blockquote><p>java çš„å…‹éš†æ˜¯æµ…å…‹éš†ï¼Œç¢°åˆ°å¯¹è±¡å¼•ç”¨çš„æ—¶å€™ï¼Œå…‹éš†å‡ºæ¥çš„å¯¹è±¡å’ŒåŸå¯¹è±¡ä¸­çš„å¼•ç”¨å°†æŒ‡å‘åŒä¸€ä¸ªå¯¹è±¡ã€‚é€šå¸¸å®ç°æ·±å…‹éš†çš„æ–¹æ³•æ˜¯å°†å¯¹è±¡è¿›è¡Œåºåˆ—åŒ–ï¼Œç„¶åå†è¿›è¡Œååºåˆ—åŒ–ã€‚</p></blockquote><p>åŸå‹æ¨¡å¼äº†è§£åˆ°è¿™é‡Œæˆ‘è§‰å¾—å°±å¤Ÿäº†ï¼Œå„ç§å˜ç€æ³•å­è¯´è¿™ç§ä»£ç æˆ–é‚£ç§ä»£ç æ˜¯åŸå‹æ¨¡å¼ï¼Œæ²¡ä»€ä¹ˆæ„ä¹‰ã€‚</p><h3 id="åˆ›å»ºå‹æ¨¡å¼æ€»ç»“"><a href="#åˆ›å»ºå‹æ¨¡å¼æ€»ç»“" class="headerlink" title="åˆ›å»ºå‹æ¨¡å¼æ€»ç»“"></a>åˆ›å»ºå‹æ¨¡å¼æ€»ç»“</h3><p>åˆ›å»ºå‹æ¨¡å¼æ€»ä½“ä¸Šæ¯”è¾ƒç®€å•ï¼Œå®ƒä»¬çš„ä½œç”¨å°±æ˜¯ä¸ºäº†äº§ç”Ÿå®ä¾‹å¯¹è±¡ï¼Œç®—æ˜¯å„ç§å·¥ä½œçš„ç¬¬ä¸€æ­¥äº†ï¼Œå› ä¸ºæˆ‘ä»¬å†™çš„æ˜¯<strong>é¢å‘å¯¹è±¡</strong>çš„ä»£ç ï¼Œæ‰€ä»¥æˆ‘ä»¬ç¬¬ä¸€æ­¥å½“ç„¶æ˜¯éœ€è¦åˆ›å»ºä¸€ä¸ªå¯¹è±¡äº†ã€‚</p><p>ç®€å•å·¥å‚æ¨¡å¼æœ€ç®€å•ï¼›å·¥å‚æ¨¡å¼åœ¨ç®€å•å·¥å‚æ¨¡å¼çš„åŸºç¡€ä¸Šå¢åŠ äº†é€‰æ‹©å·¥å‚çš„ç»´åº¦ï¼Œéœ€è¦ç¬¬ä¸€æ­¥é€‰æ‹©åˆé€‚çš„å·¥å‚ï¼›æŠ½è±¡å·¥å‚æ¨¡å¼æœ‰äº§å“æ—çš„æ¦‚å¿µï¼Œå¦‚æœå„ä¸ªäº§å“æ˜¯å­˜åœ¨å…¼å®¹æ€§é—®é¢˜çš„ï¼Œå°±è¦ç”¨æŠ½è±¡å·¥å‚æ¨¡å¼ã€‚å•ä¾‹æ¨¡å¼å°±ä¸è¯´äº†ï¼Œä¸ºäº†ä¿è¯å…¨å±€ä½¿ç”¨çš„æ˜¯åŒä¸€å¯¹è±¡ï¼Œä¸€æ–¹é¢æ˜¯å®‰å…¨æ€§è€ƒè™‘ï¼Œä¸€æ–¹é¢æ˜¯ä¸ºäº†èŠ‚çœèµ„æºï¼›å»ºé€ è€…æ¨¡å¼ä¸“é—¨å¯¹ä»˜å±æ€§å¾ˆå¤šçš„é‚£ç§ç±»ï¼Œä¸ºäº†è®©ä»£ç æ›´ä¼˜ç¾ï¼›åŸå‹æ¨¡å¼ç”¨å¾—æœ€å°‘ï¼Œäº†è§£å’Œ Object ç±»ä¸­çš„ clone() æ–¹æ³•ç›¸å…³çš„çŸ¥è¯†å³å¯ã€‚</p><h2 id="ç»“æ„å‹æ¨¡å¼"><a href="#ç»“æ„å‹æ¨¡å¼" class="headerlink" title="ç»“æ„å‹æ¨¡å¼"></a>ç»“æ„å‹æ¨¡å¼</h2><p>å‰é¢åˆ›å»ºå‹æ¨¡å¼ä»‹ç»äº†åˆ›å»ºå¯¹è±¡çš„ä¸€äº›è®¾è®¡æ¨¡å¼ï¼Œè¿™èŠ‚ä»‹ç»çš„ç»“æ„å‹æ¨¡å¼æ—¨åœ¨é€šè¿‡æ”¹å˜ä»£ç ç»“æ„æ¥è¾¾åˆ°è§£è€¦çš„ç›®çš„ï¼Œä½¿å¾—æˆ‘ä»¬çš„ä»£ç å®¹æ˜“ç»´æŠ¤å’Œæ‰©å±•ã€‚</p><h3 id="ä»£ç†æ¨¡å¼"><a href="#ä»£ç†æ¨¡å¼" class="headerlink" title="ä»£ç†æ¨¡å¼"></a>ä»£ç†æ¨¡å¼</h3><p>ç¬¬ä¸€ä¸ªè¦ä»‹ç»çš„ä»£ç†æ¨¡å¼æ˜¯æœ€å¸¸ä½¿ç”¨çš„æ¨¡å¼ä¹‹ä¸€äº†ï¼Œç”¨ä¸€ä¸ªä»£ç†æ¥éšè—å…·ä½“å®ç°ç±»çš„å®ç°ç»†èŠ‚ï¼Œé€šå¸¸è¿˜ç”¨äºåœ¨çœŸå®çš„å®ç°çš„å‰åæ·»åŠ ä¸€éƒ¨åˆ†é€»è¾‘ã€‚</p><p>æ—¢ç„¶è¯´æ˜¯<strong>ä»£ç†</strong>ï¼Œé‚£å°±è¦å¯¹å®¢æˆ·ç«¯éšè—çœŸå®å®ç°ï¼Œç”±ä»£ç†æ¥è´Ÿè´£å®¢æˆ·ç«¯çš„æ‰€æœ‰è¯·æ±‚ã€‚å½“ç„¶ï¼Œä»£ç†åªæ˜¯ä¸ªä»£ç†ï¼Œå®ƒä¸ä¼šå®Œæˆå®é™…çš„ä¸šåŠ¡é€»è¾‘ï¼Œè€Œæ˜¯ä¸€å±‚çš®è€Œå·²ï¼Œä½†æ˜¯å¯¹äºå®¢æˆ·ç«¯æ¥è¯´ï¼Œå®ƒå¿…é¡»è¡¨ç°å¾—å°±æ˜¯å®¢æˆ·ç«¯éœ€è¦çš„çœŸå®å®ç°ã€‚</p><blockquote><p>ç†è§£<strong>ä»£ç†</strong>è¿™ä¸ªè¯ï¼Œè¿™ä¸ªæ¨¡å¼å…¶å®å°±ç®€å•äº†ã€‚</p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">FoodService</span> </span>&#123;</span><br><span class="line">    <span class="function">Food <span class="title">makeChicken</span><span class="params">()</span></span>;</span><br><span class="line">    <span class="function">Food <span class="title">makeNoodle</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">FoodServiceImpl</span> <span class="keyword">implements</span> <span class="title">FoodService</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> Food <span class="title">makeChicken</span><span class="params">()</span> </span>&#123;</span><br><span class="line">          Food f = <span class="keyword">new</span> Chicken()</span><br><span class="line">        f.setChicken(<span class="string">&quot;1kg&quot;</span>);</span><br><span class="line">          f.setSpicy(<span class="string">&quot;1g&quot;</span>);</span><br><span class="line">          f.setSalt(<span class="string">&quot;3g&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> f;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> Food <span class="title">makeNoodle</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        Food f = <span class="keyword">new</span> Noodle();</span><br><span class="line">        f.setNoodle(<span class="string">&quot;500g&quot;</span>);</span><br><span class="line">        f.setSalt(<span class="string">&quot;5g&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> f;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ä»£ç†è¦è¡¨ç°å¾—â€œå°±åƒæ˜¯â€çœŸå®å®ç°ç±»ï¼Œæ‰€ä»¥éœ€è¦å®ç° FoodService</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">FoodServiceProxy</span> <span class="keyword">implements</span> <span class="title">FoodService</span> </span>&#123;</span><br><span class="line">  </span><br><span class="line">    <span class="comment">// å†…éƒ¨ä¸€å®šè¦æœ‰ä¸€ä¸ªçœŸå®çš„å®ç°ç±»ï¼Œå½“ç„¶ä¹Ÿå¯ä»¥é€šè¿‡æ„é€ æ–¹æ³•æ³¨å…¥</span></span><br><span class="line">    <span class="keyword">private</span> FoodService foodService = <span class="keyword">new</span> FoodServiceImpl();</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> Food <span class="title">makeChicken</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;æˆ‘ä»¬é©¬ä¸Šè¦å¼€å§‹åˆ¶ä½œé¸¡è‚‰äº†&quot;</span>);</span><br><span class="line">      </span><br><span class="line">        <span class="comment">// å¦‚æœæˆ‘ä»¬å®šä¹‰è¿™å¥ä¸ºæ ¸å¿ƒä»£ç çš„è¯ï¼Œé‚£ä¹ˆï¼Œæ ¸å¿ƒä»£ç æ˜¯çœŸå®å®ç°ç±»åšçš„ï¼Œ</span></span><br><span class="line">        <span class="comment">// ä»£ç†åªæ˜¯åœ¨æ ¸å¿ƒä»£ç å‰ååšäº›â€œæ— è¶³è½»é‡â€çš„äº‹æƒ…</span></span><br><span class="line">        Food food = foodService.makeChicken();</span><br><span class="line">      </span><br><span class="line">        System.out.println(<span class="string">&quot;é¸¡è‚‰åˆ¶ä½œå®Œæˆå•¦ï¼ŒåŠ ç‚¹èƒ¡æ¤’ç²‰&quot;</span>); <span class="comment">// å¢å¼º</span></span><br><span class="line">          food.addCondiment(<span class="string">&quot;pepper&quot;</span>);</span><br><span class="line">      </span><br><span class="line">        <span class="keyword">return</span> food;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> Food <span class="title">makeNoodle</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;å‡†å¤‡åˆ¶ä½œæ‹‰é¢~&quot;</span>);</span><br><span class="line">        Food food = foodService.makeNoodle();</span><br><span class="line">        System.out.println(<span class="string">&quot;åˆ¶ä½œå®Œæˆå•¦&quot;</span>)</span><br><span class="line">        <span class="keyword">return</span> food;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å®¢æˆ·ç«¯è°ƒç”¨ï¼Œæ³¨æ„ï¼Œæˆ‘ä»¬è¦ç”¨ä»£ç†æ¥å®ä¾‹åŒ–æ¥å£ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// è¿™é‡Œç”¨ä»£ç†ç±»æ¥å®ä¾‹åŒ–</span></span><br><span class="line">FoodService foodService = <span class="keyword">new</span> FoodServiceProxy();</span><br><span class="line">foodService.makeChicken();</span><br></pre></td></tr></table></figure><p><img src="https://www.javadoop.com/blogimages/design-pattern/proxy-1.png" alt="proxy"></p><p>æˆ‘ä»¬å‘ç°æ²¡æœ‰ï¼Œä»£ç†æ¨¡å¼è¯´ç™½äº†å°±æ˜¯åš <strong>â€œæ–¹æ³•åŒ…è£…â€</strong> æˆ–åš <strong>â€œæ–¹æ³•å¢å¼ºâ€</strong>ã€‚åœ¨é¢å‘åˆ‡é¢ç¼–ç¨‹ä¸­ï¼Œå…¶å®å°±æ˜¯åŠ¨æ€ä»£ç†çš„è¿‡ç¨‹ã€‚æ¯”å¦‚ Spring ä¸­ï¼Œæˆ‘ä»¬è‡ªå·±ä¸å®šä¹‰ä»£ç†ç±»ï¼Œä½†æ˜¯ Spring ä¼šå¸®æˆ‘ä»¬åŠ¨æ€æ¥å®šä¹‰ä»£ç†ï¼Œç„¶åæŠŠæˆ‘ä»¬å®šä¹‰åœ¨ @Beforeã€@Afterã€@Around ä¸­çš„ä»£ç é€»è¾‘åŠ¨æ€æ·»åŠ åˆ°ä»£ç†ä¸­ã€‚</p><p>è¯´åˆ°åŠ¨æ€ä»£ç†ï¼Œåˆå¯ä»¥å±•å¼€è¯´ï¼ŒSpring ä¸­å®ç°åŠ¨æ€ä»£ç†æœ‰ä¸¤ç§ï¼Œä¸€ç§æ˜¯å¦‚æœæˆ‘ä»¬çš„ç±»å®šä¹‰äº†æ¥å£ï¼Œå¦‚ UserService æ¥å£å’Œ UserServiceImpl å®ç°ï¼Œé‚£ä¹ˆé‡‡ç”¨ JDK çš„åŠ¨æ€ä»£ç†ï¼Œæ„Ÿå…´è¶£çš„è¯»è€…å¯ä»¥å»çœ‹çœ‹ java.lang.reflect.Proxy ç±»çš„æºç ï¼›å¦ä¸€ç§æ˜¯æˆ‘ä»¬è‡ªå·±æ²¡æœ‰å®šä¹‰æ¥å£çš„ï¼ŒSpring ä¼šé‡‡ç”¨ CGLIB è¿›è¡ŒåŠ¨æ€ä»£ç†ï¼Œå®ƒæ˜¯ä¸€ä¸ª jar åŒ…ï¼Œæ€§èƒ½è¿˜ä¸é”™ã€‚</p><h3 id="é€‚é…å™¨æ¨¡å¼"><a href="#é€‚é…å™¨æ¨¡å¼" class="headerlink" title="é€‚é…å™¨æ¨¡å¼"></a>é€‚é…å™¨æ¨¡å¼</h3><p>è¯´å®Œä»£ç†æ¨¡å¼ï¼Œè¯´é€‚é…å™¨æ¨¡å¼ï¼Œæ˜¯å› ä¸ºå®ƒä»¬å¾ˆç›¸ä¼¼ï¼Œè¿™é‡Œå¯ä»¥åšä¸ªæ¯”è¾ƒã€‚</p><p>é€‚é…å™¨æ¨¡å¼åšçš„å°±æ˜¯ï¼Œæœ‰ä¸€ä¸ªæ¥å£éœ€è¦å®ç°ï¼Œä½†æ˜¯æˆ‘ä»¬ç°æˆçš„å¯¹è±¡éƒ½ä¸æ»¡è¶³ï¼Œéœ€è¦åŠ ä¸€å±‚é€‚é…å™¨æ¥è¿›è¡Œé€‚é…ã€‚</p><p>é€‚é…å™¨æ¨¡å¼æ€»ä½“æ¥è¯´åˆ†ä¸‰ç§ï¼šé»˜è®¤é€‚é…å™¨æ¨¡å¼ã€å¯¹è±¡é€‚é…å™¨æ¨¡å¼ã€ç±»é€‚é…å™¨æ¨¡å¼ã€‚å…ˆä¸æ€¥ç€åˆ†æ¸…æ¥šè¿™å‡ ä¸ªï¼Œå…ˆçœ‹çœ‹ä¾‹å­å†è¯´ã€‚</p><h4 id="é»˜è®¤é€‚é…å™¨æ¨¡å¼"><a href="#é»˜è®¤é€‚é…å™¨æ¨¡å¼" class="headerlink" title="é»˜è®¤é€‚é…å™¨æ¨¡å¼"></a>é»˜è®¤é€‚é…å™¨æ¨¡å¼</h4><p>é¦–å…ˆï¼Œæˆ‘ä»¬å…ˆçœ‹çœ‹æœ€ç®€å•çš„é€‚é…å™¨æ¨¡å¼**é»˜è®¤é€‚é…å™¨æ¨¡å¼(Default Adapter)**æ˜¯æ€ä¹ˆæ ·çš„ã€‚</p><p>æˆ‘ä»¬ç”¨ Appache commons-io åŒ…ä¸­çš„ FileAlterationListener åšä¾‹å­ï¼Œæ­¤æ¥å£å®šä¹‰äº†å¾ˆå¤šçš„æ–¹æ³•ï¼Œç”¨äºå¯¹æ–‡ä»¶æˆ–æ–‡ä»¶å¤¹è¿›è¡Œç›‘æ§ï¼Œä¸€æ—¦å‘ç”Ÿäº†å¯¹åº”çš„æ“ä½œï¼Œå°±ä¼šè§¦å‘ç›¸åº”çš„æ–¹æ³•ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">FileAlterationListener</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">onStart</span><span class="params">(<span class="keyword">final</span> FileAlterationObserver observer)</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">onDirectoryCreate</span><span class="params">(<span class="keyword">final</span> File directory)</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">onDirectoryChange</span><span class="params">(<span class="keyword">final</span> File directory)</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">onDirectoryDelete</span><span class="params">(<span class="keyword">final</span> File directory)</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">onFileCreate</span><span class="params">(<span class="keyword">final</span> File file)</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">onFileChange</span><span class="params">(<span class="keyword">final</span> File file)</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">onFileDelete</span><span class="params">(<span class="keyword">final</span> File file)</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">onStop</span><span class="params">(<span class="keyword">final</span> FileAlterationObserver observer)</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ­¤æ¥å£çš„ä¸€å¤§é—®é¢˜æ˜¯æŠ½è±¡æ–¹æ³•å¤ªå¤šäº†ï¼Œå¦‚æœæˆ‘ä»¬è¦ç”¨è¿™ä¸ªæ¥å£ï¼Œæ„å‘³ç€æˆ‘ä»¬è¦å®ç°æ¯ä¸€ä¸ªæŠ½è±¡æ–¹æ³•ï¼Œå¦‚æœæˆ‘ä»¬åªæ˜¯æƒ³è¦ç›‘æ§æ–‡ä»¶å¤¹ä¸­çš„<strong>æ–‡ä»¶åˆ›å»º</strong>å’Œ<strong>æ–‡ä»¶åˆ é™¤</strong>äº‹ä»¶ï¼Œå¯æ˜¯æˆ‘ä»¬è¿˜æ˜¯ä¸å¾—ä¸å®ç°æ‰€æœ‰çš„æ–¹æ³•ï¼Œå¾ˆæ˜æ˜¾ï¼Œè¿™ä¸æ˜¯æˆ‘ä»¬æƒ³è¦çš„ã€‚</p><p>æ‰€ä»¥ï¼Œæˆ‘ä»¬éœ€è¦ä¸‹é¢çš„ä¸€ä¸ª<strong>é€‚é…å™¨</strong>ï¼Œå®ƒç”¨äºå®ç°ä¸Šé¢çš„æ¥å£ï¼Œä½†æ˜¯<strong>æ‰€æœ‰çš„æ–¹æ³•éƒ½æ˜¯ç©ºæ–¹æ³•</strong>ï¼Œè¿™æ ·ï¼Œæˆ‘ä»¬å°±å¯ä»¥è½¬è€Œå®šä¹‰è‡ªå·±çš„ç±»æ¥ç»§æ‰¿ä¸‹é¢è¿™ä¸ªç±»å³å¯ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">FileAlterationListenerAdaptor</span> <span class="keyword">implements</span> <span class="title">FileAlterationListener</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onStart</span><span class="params">(<span class="keyword">final</span> FileAlterationObserver observer)</span> </span>&#123;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onDirectoryCreate</span><span class="params">(<span class="keyword">final</span> File directory)</span> </span>&#123;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onDirectoryChange</span><span class="params">(<span class="keyword">final</span> File directory)</span> </span>&#123;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onDirectoryDelete</span><span class="params">(<span class="keyword">final</span> File directory)</span> </span>&#123;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onFileCreate</span><span class="params">(<span class="keyword">final</span> File file)</span> </span>&#123;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onFileChange</span><span class="params">(<span class="keyword">final</span> File file)</span> </span>&#123;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onFileDelete</span><span class="params">(<span class="keyword">final</span> File file)</span> </span>&#123;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onStop</span><span class="params">(<span class="keyword">final</span> FileAlterationObserver observer)</span> </span>&#123;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ¯”å¦‚æˆ‘ä»¬å¯ä»¥å®šä¹‰ä»¥ä¸‹ç±»ï¼Œæˆ‘ä»¬ä»…ä»…éœ€è¦å®ç°æˆ‘ä»¬æƒ³å®ç°çš„æ–¹æ³•å°±å¯ä»¥äº†ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">FileMonitor</span> <span class="keyword">extends</span> <span class="title">FileAlterationListenerAdaptor</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onFileCreate</span><span class="params">(<span class="keyword">final</span> File file)</span> </span>&#123;</span><br><span class="line">        <span class="comment">// æ–‡ä»¶åˆ›å»º</span></span><br><span class="line">        doSomething();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onFileDelete</span><span class="params">(<span class="keyword">final</span> File file)</span> </span>&#123;</span><br><span class="line">        <span class="comment">// æ–‡ä»¶åˆ é™¤</span></span><br><span class="line">        doSomething();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å½“ç„¶ï¼Œä¸Šé¢è¯´çš„åªæ˜¯é€‚é…å™¨æ¨¡å¼çš„å…¶ä¸­ä¸€ç§ï¼Œä¹Ÿæ˜¯æœ€ç®€å•çš„ä¸€ç§ï¼Œæ— éœ€å¤šè¨€ã€‚ä¸‹é¢ï¼Œå†ä»‹ç»<strong>â€œæ­£ç»Ÿçš„â€</strong>é€‚é…å™¨æ¨¡å¼ã€‚</p><h4 id="å¯¹è±¡é€‚é…å™¨æ¨¡å¼"><a href="#å¯¹è±¡é€‚é…å™¨æ¨¡å¼" class="headerlink" title="å¯¹è±¡é€‚é…å™¨æ¨¡å¼"></a>å¯¹è±¡é€‚é…å™¨æ¨¡å¼</h4><p>æ¥çœ‹ä¸€ä¸ªã€ŠHead First è®¾è®¡æ¨¡å¼ã€‹ä¸­çš„ä¸€ä¸ªä¾‹å­ï¼Œæˆ‘ç¨å¾®ä¿®æ”¹äº†ä¸€ä¸‹ï¼Œçœ‹çœ‹æ€ä¹ˆå°†é¸¡é€‚é…æˆé¸­ï¼Œè¿™æ ·é¸¡ä¹Ÿèƒ½å½“é¸­æ¥ç”¨ã€‚å› ä¸ºï¼Œç°åœ¨é¸­è¿™ä¸ªæ¥å£ï¼Œæˆ‘ä»¬æ²¡æœ‰åˆé€‚çš„å®ç°ç±»å¯ä»¥ç”¨ï¼Œæ‰€ä»¥éœ€è¦é€‚é…å™¨ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">Duck</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">quack</span><span class="params">()</span></span>; <span class="comment">// é¸­çš„å‘±å‘±å«</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">fly</span><span class="params">()</span></span>; <span class="comment">// é£</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">Cock</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">gobble</span><span class="params">()</span></span>; <span class="comment">// é¸¡çš„å’•å’•å«</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">fly</span><span class="params">()</span></span>; <span class="comment">// é£</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">WildCock</span> <span class="keyword">implements</span> <span class="title">Cock</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">gobble</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;å’•å’•å«&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">fly</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;é¸¡ä¹Ÿä¼šé£å“¦&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>é¸­æ¥å£æœ‰ fly() å’Œ quare() ä¸¤ä¸ªæ–¹æ³•ï¼Œé¸¡ Cock å¦‚æœè¦å†’å……é¸­ï¼Œfly() æ–¹æ³•æ˜¯ç°æˆçš„ï¼Œä½†æ˜¯é¸¡ä¸ä¼šé¸­çš„å‘±å‘±å«ï¼Œæ²¡æœ‰ quack() æ–¹æ³•ã€‚è¿™ä¸ªæ—¶å€™å°±éœ€è¦é€‚é…äº†ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æ¯«æ— ç–‘é—®ï¼Œé¦–å…ˆï¼Œè¿™ä¸ªé€‚é…å™¨è‚¯å®šéœ€è¦ implements Duckï¼Œè¿™æ ·æ‰èƒ½å½“åšé¸­æ¥ç”¨</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">CockAdapter</span> <span class="keyword">implements</span> <span class="title">Duck</span> </span>&#123;</span><br><span class="line">  </span><br><span class="line">    Cock cock;</span><br><span class="line">    <span class="comment">// æ„é€ æ–¹æ³•ä¸­éœ€è¦ä¸€ä¸ªé¸¡çš„å®ä¾‹ï¼Œæ­¤ç±»å°±æ˜¯å°†è¿™åªé¸¡é€‚é…æˆé¸­æ¥ç”¨</span></span><br><span class="line">      <span class="function"><span class="keyword">public</span> <span class="title">CockAdapter</span><span class="params">(Cock cock)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.cock = cock;</span><br><span class="line">    &#125;</span><br><span class="line">  </span><br><span class="line">    <span class="comment">// å®ç°é¸­çš„å‘±å‘±å«æ–¹æ³•</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">      <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">quack</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="comment">// å†…éƒ¨å…¶å®æ˜¯ä¸€åªé¸¡çš„å’•å’•å«</span></span><br><span class="line">        cock.gobble();</span><br><span class="line">    &#125;</span><br><span class="line">  </span><br><span class="line">      <span class="meta">@Override</span></span><br><span class="line">      <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">fly</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        cock.fly();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å®¢æˆ·ç«¯è°ƒç”¨å¾ˆç®€å•äº†ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">    <span class="comment">// æœ‰ä¸€åªé‡é¸¡</span></span><br><span class="line">      Cock wildCock = <span class="keyword">new</span> WildCock();</span><br><span class="line">      <span class="comment">// æˆåŠŸå°†é‡é¸¡é€‚é…æˆé¸­</span></span><br><span class="line">      Duck duck = <span class="keyword">new</span> CockAdapter(wildCock);</span><br><span class="line">      ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>åˆ°è¿™é‡Œï¼Œå¤§å®¶ä¹Ÿå°±çŸ¥é“äº†é€‚é…å™¨æ¨¡å¼æ˜¯æ€ä¹ˆå›äº‹äº†ã€‚æ— éæ˜¯æˆ‘ä»¬éœ€è¦ä¸€åªé¸­ï¼Œä½†æ˜¯æˆ‘ä»¬åªæœ‰ä¸€åªé¸¡ï¼Œè¿™ä¸ªæ—¶å€™å°±éœ€è¦å®šä¹‰ä¸€ä¸ªé€‚é…å™¨ï¼Œç”±è¿™ä¸ªé€‚é…å™¨æ¥å……å½“é¸­ï¼Œä½†æ˜¯é€‚é…å™¨é‡Œé¢çš„æ–¹æ³•è¿˜æ˜¯ç”±é¸¡æ¥å®ç°çš„ã€‚</p><p>æˆ‘ä»¬ç”¨ä¸€ä¸ªå›¾æ¥ç®€å•è¯´æ˜ä¸‹ï¼š</p><p><img src="https://www.javadoop.com/blogimages/design-pattern/adapter-1.png" alt="adapter-1"></p><p>ä¸Šå›¾åº”è¯¥è¿˜æ˜¯å¾ˆå®¹æ˜“ç†è§£çš„ï¼Œæˆ‘å°±ä¸åšæ›´å¤šçš„è§£é‡Šäº†ã€‚ä¸‹é¢ï¼Œæˆ‘ä»¬çœ‹çœ‹ç±»é€‚é…æ¨¡å¼æ€ä¹ˆæ ·çš„ã€‚</p><h4 id="ç±»é€‚é…å™¨æ¨¡å¼"><a href="#ç±»é€‚é…å™¨æ¨¡å¼" class="headerlink" title="ç±»é€‚é…å™¨æ¨¡å¼"></a>ç±»é€‚é…å™¨æ¨¡å¼</h4><p>åºŸè¯å°‘è¯´ï¼Œç›´æ¥ä¸Šå›¾ï¼š</p><p><img src="https://www.javadoop.com/blogimages/design-pattern/adapter-2.png" alt="adapter-1"></p><p>çœ‹åˆ°è¿™ä¸ªå›¾ï¼Œå¤§å®¶åº”è¯¥å¾ˆå®¹æ˜“ç†è§£çš„å§ï¼Œé€šè¿‡ç»§æ‰¿çš„æ–¹æ³•ï¼Œé€‚é…å™¨è‡ªåŠ¨è·å¾—äº†æ‰€éœ€è¦çš„å¤§éƒ¨åˆ†æ–¹æ³•ã€‚è¿™ä¸ªæ—¶å€™ï¼Œå®¢æˆ·ç«¯ä½¿ç”¨æ›´åŠ ç®€å•ï¼Œç›´æ¥ <code>Target t = new SomeAdapter();</code> å°±å¯ä»¥äº†ã€‚</p><h4 id="é€‚é…å™¨æ¨¡å¼æ€»ç»“"><a href="#é€‚é…å™¨æ¨¡å¼æ€»ç»“" class="headerlink" title="é€‚é…å™¨æ¨¡å¼æ€»ç»“"></a>é€‚é…å™¨æ¨¡å¼æ€»ç»“</h4><ol><li><p>ç±»é€‚é…å’Œå¯¹è±¡é€‚é…çš„å¼‚åŒ</p><blockquote><p>ä¸€ä¸ªé‡‡ç”¨ç»§æ‰¿ï¼Œä¸€ä¸ªé‡‡ç”¨ç»„åˆï¼›</p><p>ç±»é€‚é…å±äºé™æ€å®ç°ï¼Œå¯¹è±¡é€‚é…å±äºç»„åˆçš„åŠ¨æ€å®ç°ï¼Œå¯¹è±¡é€‚é…éœ€è¦å¤šå®ä¾‹åŒ–ä¸€ä¸ªå¯¹è±¡ã€‚</p><p>æ€»ä½“æ¥è¯´ï¼Œå¯¹è±¡é€‚é…ç”¨å¾—æ¯”è¾ƒå¤šã€‚</p></blockquote></li><li><p>é€‚é…å™¨æ¨¡å¼å’Œä»£ç†æ¨¡å¼çš„å¼‚åŒ</p><p>æ¯”è¾ƒè¿™ä¸¤ç§æ¨¡å¼ï¼Œå…¶å®æ˜¯æ¯”è¾ƒå¯¹è±¡é€‚é…å™¨æ¨¡å¼å’Œä»£ç†æ¨¡å¼ï¼Œåœ¨ä»£ç ç»“æ„ä¸Šï¼Œå®ƒä»¬å¾ˆç›¸ä¼¼ï¼Œéƒ½éœ€è¦ä¸€ä¸ªå…·ä½“çš„å®ç°ç±»çš„å®ä¾‹ã€‚ä½†æ˜¯å®ƒä»¬çš„ç›®çš„ä¸ä¸€æ ·ï¼Œä»£ç†æ¨¡å¼åšçš„æ˜¯å¢å¼ºåŸæ–¹æ³•çš„æ´»ï¼›é€‚é…å™¨åšçš„æ˜¯é€‚é…çš„æ´»ï¼Œä¸ºçš„æ˜¯æä¾›â€œæŠŠé¸¡åŒ…è£…æˆé¸­ï¼Œç„¶åå½“åšé¸­æ¥ä½¿ç”¨â€ï¼Œè€Œé¸¡å’Œé¸­å®ƒä»¬ä¹‹é—´åŸæœ¬æ²¡æœ‰ç»§æ‰¿å…³ç³»ã€‚</p><p><img src="https://www.javadoop.com/blogimages/design-pattern/adapter-5.png" alt="adapter-5"></p></li></ol><h3 id="æ¡¥æ¢æ¨¡å¼"><a href="#æ¡¥æ¢æ¨¡å¼" class="headerlink" title="æ¡¥æ¢æ¨¡å¼"></a>æ¡¥æ¢æ¨¡å¼</h3><p>ç†è§£æ¡¥æ¢æ¨¡å¼ï¼Œå…¶å®å°±æ˜¯ç†è§£ä»£ç æŠ½è±¡å’Œè§£è€¦ã€‚</p><p>æˆ‘ä»¬é¦–å…ˆéœ€è¦ä¸€ä¸ªæ¡¥æ¢ï¼Œå®ƒæ˜¯ä¸€ä¸ªæ¥å£ï¼Œå®šä¹‰æä¾›çš„æ¥å£æ–¹æ³•ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">DrawAPI</span> </span>&#123;</span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">draw</span><span class="params">(<span class="keyword">int</span> radius, <span class="keyword">int</span> x, <span class="keyword">int</span> y)</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç„¶åæ˜¯ä¸€ç³»åˆ—å®ç°ç±»ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">RedPen</span> <span class="keyword">implements</span> <span class="title">DrawAPI</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">draw</span><span class="params">(<span class="keyword">int</span> radius, <span class="keyword">int</span> x, <span class="keyword">int</span> y)</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;ç”¨çº¢è‰²ç¬”ç”»å›¾ï¼Œradius:&quot;</span> + radius + <span class="string">&quot;, x:&quot;</span> + x + <span class="string">&quot;, y:&quot;</span> + y);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">GreenPen</span> <span class="keyword">implements</span> <span class="title">DrawAPI</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">draw</span><span class="params">(<span class="keyword">int</span> radius, <span class="keyword">int</span> x, <span class="keyword">int</span> y)</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;ç”¨ç»¿è‰²ç¬”ç”»å›¾ï¼Œradius:&quot;</span> + radius + <span class="string">&quot;, x:&quot;</span> + x + <span class="string">&quot;, y:&quot;</span> + y);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">BluePen</span> <span class="keyword">implements</span> <span class="title">DrawAPI</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">draw</span><span class="params">(<span class="keyword">int</span> radius, <span class="keyword">int</span> x, <span class="keyword">int</span> y)</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;ç”¨è“è‰²ç¬”ç”»å›¾ï¼Œradius:&quot;</span> + radius + <span class="string">&quot;, x:&quot;</span> + x + <span class="string">&quot;, y:&quot;</span> + y);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å®šä¹‰ä¸€ä¸ªæŠ½è±¡ç±»ï¼Œæ­¤ç±»çš„å®ç°ç±»éƒ½éœ€è¦ä½¿ç”¨ DrawAPIï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="class"><span class="keyword">class</span> <span class="title">Shape</span> </span>&#123;</span><br><span class="line">    <span class="keyword">protected</span> DrawAPI drawAPI;</span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="title">Shape</span><span class="params">(DrawAPI drawAPI)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.drawAPI = drawAPI;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">void</span> <span class="title">draw</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å®šä¹‰æŠ½è±¡ç±»çš„å­ç±»ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// åœ†å½¢</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Circle</span> <span class="keyword">extends</span> <span class="title">Shape</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> radius;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Circle</span><span class="params">(<span class="keyword">int</span> radius, DrawAPI drawAPI)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">super</span>(drawAPI);</span><br><span class="line">        <span class="keyword">this</span>.radius = radius;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">draw</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        drawAPI.draw(radius, <span class="number">0</span>, <span class="number">0</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// é•¿æ–¹å½¢</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Rectangle</span> <span class="keyword">extends</span> <span class="title">Shape</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> x;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> y;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Rectangle</span><span class="params">(<span class="keyword">int</span> x, <span class="keyword">int</span> y, DrawAPI drawAPI)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">super</span>(drawAPI);</span><br><span class="line">        <span class="keyword">this</span>.x = x;</span><br><span class="line">        <span class="keyword">this</span>.y = y;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">draw</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        drawAPI.draw(<span class="number">0</span>, x, y);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æœ€åï¼Œæˆ‘ä»¬æ¥çœ‹å®¢æˆ·ç«¯æ¼”ç¤ºï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">    Shape greenCircle = <span class="keyword">new</span> Circle(<span class="number">10</span>, <span class="keyword">new</span> GreenPen());</span><br><span class="line">    Shape redRectangle = <span class="keyword">new</span> Rectangle(<span class="number">4</span>, <span class="number">8</span>, <span class="keyword">new</span> RedPen());</span><br><span class="line">    greenCircle.draw();</span><br><span class="line">    redRectangle.draw();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å¯èƒ½å¤§å®¶çœ‹ä¸Šé¢ä¸€æ­¥æ­¥è¿˜ä¸æ˜¯ç‰¹åˆ«æ¸…æ™°ï¼Œæˆ‘æŠŠæ‰€æœ‰çš„ä¸œè¥¿æ•´åˆåˆ°ä¸€å¼ å›¾ä¸Šï¼š</p><p><img src="https://www.javadoop.com/blogimages/design-pattern/bridge-1.png" alt="bridge-1"></p><p>è¿™å›å¤§å®¶åº”è¯¥å°±çŸ¥é“æŠ½è±¡åœ¨å“ªé‡Œï¼Œæ€ä¹ˆè§£è€¦äº†å§ã€‚æ¡¥æ¢æ¨¡å¼çš„ä¼˜ç‚¹ä¹Ÿæ˜¯æ˜¾è€Œæ˜“è§çš„ï¼Œå°±æ˜¯éå¸¸å®¹æ˜“è¿›è¡Œæ‰©å±•ã€‚</p><blockquote><p>æœ¬èŠ‚å¼•ç”¨äº†<a href="https://www.tutorialspoint.com/design_pattern/bridge_pattern.htm">è¿™é‡Œ</a>çš„ä¾‹å­ï¼Œå¹¶å¯¹å…¶è¿›è¡Œäº†ä¿®æ”¹ã€‚</p></blockquote><h3 id="è£…é¥°æ¨¡å¼"><a href="#è£…é¥°æ¨¡å¼" class="headerlink" title="è£…é¥°æ¨¡å¼"></a>è£…é¥°æ¨¡å¼</h3><p>è¦æŠŠè£…é¥°æ¨¡å¼è¯´æ¸…æ¥šæ˜ç™½ï¼Œä¸æ˜¯ä»¶å®¹æ˜“çš„äº‹æƒ…ã€‚ä¹Ÿè®¸è¯»è€…çŸ¥é“ <strong>Java IO</strong> ä¸­çš„å‡ ä¸ªç±»æ˜¯å…¸å‹çš„è£…é¥°æ¨¡å¼çš„åº”ç”¨ï¼Œä½†æ˜¯è¯»è€…ä¸ä¸€å®šæ¸…æ¥šå…¶ä¸­çš„å…³ç³»ï¼Œä¹Ÿè®¸çœ‹å®Œå°±å¿˜äº†ï¼Œå¸Œæœ›çœ‹å®Œè¿™èŠ‚åï¼Œè¯»è€…å¯ä»¥å¯¹å…¶æœ‰æ›´æ·±çš„æ„Ÿæ‚Ÿã€‚</p><p>é¦–å…ˆï¼Œæˆ‘ä»¬å…ˆçœ‹ä¸€ä¸ªç®€å•çš„å›¾ï¼Œçœ‹è¿™ä¸ªå›¾çš„æ—¶å€™ï¼Œäº†è§£ä¸‹å±‚æ¬¡ç»“æ„å°±å¯ä»¥äº†ï¼š</p><p><img src="https://www.javadoop.com/blogimages/design-pattern/decorator-1.png" alt="decorator-1"></p><p>æˆ‘ä»¬æ¥è¯´è¯´è£…é¥°æ¨¡å¼çš„å‡ºå‘ç‚¹ï¼Œä»å›¾ä¸­å¯ä»¥çœ‹åˆ°ï¼Œæ¥å£ <code>Component</code> å…¶å®å·²ç»æœ‰äº† <code>ConcreteComponentA</code> å’Œ <code>ConcreteComponentB</code> ä¸¤ä¸ªå®ç°ç±»äº†ï¼Œä½†æ˜¯ï¼Œå¦‚æœæˆ‘ä»¬è¦<strong>å¢å¼º</strong>è¿™ä¸¤ä¸ªå®ç°ç±»çš„è¯ï¼Œæˆ‘ä»¬å°±å¯ä»¥é‡‡ç”¨è£…é¥°æ¨¡å¼ï¼Œç”¨å…·ä½“çš„è£…é¥°å™¨æ¥<strong>è£…é¥°</strong>å®ç°ç±»ï¼Œä»¥è¾¾åˆ°å¢å¼ºçš„ç›®çš„ã€‚</p><blockquote><p>ä»åå­—æ¥ç®€å•è§£é‡Šä¸‹è£…é¥°å™¨ã€‚æ—¢ç„¶è¯´æ˜¯è£…é¥°ï¼Œé‚£ä¹ˆå¾€å¾€å°±æ˜¯<strong>æ·»åŠ å°åŠŸèƒ½</strong>è¿™ç§ï¼Œè€Œä¸”ï¼Œæˆ‘ä»¬è¦æ»¡è¶³å¯ä»¥æ·»åŠ å¤šä¸ªå°åŠŸèƒ½ã€‚æœ€ç®€å•çš„ï¼Œä»£ç†æ¨¡å¼å°±å¯ä»¥å®ç°åŠŸèƒ½çš„å¢å¼ºï¼Œä½†æ˜¯ä»£ç†ä¸å®¹æ˜“å®ç°å¤šä¸ªåŠŸèƒ½çš„å¢å¼ºï¼Œå½“ç„¶ä½ å¯ä»¥è¯´ç”¨ä»£ç†åŒ…è£…ä»£ç†çš„å¤šå±‚åŒ…è£…æ–¹å¼ï¼Œä½†æ˜¯é‚£æ ·çš„è¯ä»£ç å°±å¤æ‚äº†ã€‚</p></blockquote><p>é¦–å…ˆæ˜ç™½ä¸€äº›ç®€å•çš„æ¦‚å¿µï¼Œä»å›¾ä¸­æˆ‘ä»¬çœ‹åˆ°ï¼Œæ‰€æœ‰çš„å…·ä½“è£…é¥°è€…ä»¬ <strong>ConcreteDecorator*** éƒ½å¯ä»¥ä½œä¸º Component æ¥ä½¿ç”¨ï¼Œå› ä¸ºå®ƒä»¬éƒ½å®ç°äº† Component ä¸­çš„æ‰€æœ‰æ¥å£ã€‚å®ƒä»¬å’Œ Component å®ç°ç±» ConcreteComponent* çš„åŒºåˆ«æ˜¯ï¼Œå®ƒä»¬åªæ˜¯è£…é¥°è€…ï¼Œèµ·</strong>è£…é¥°<strong>ä½œç”¨ï¼Œä¹Ÿå°±æ˜¯å³ä½¿å®ƒä»¬çœ‹ä¸Šå»ç‰›é€¼è½°è½°ï¼Œä½†æ˜¯å®ƒä»¬éƒ½åªæ˜¯åœ¨å…·ä½“çš„å®ç°ä¸­</strong>åŠ äº†å±‚çš®æ¥è£…é¥°**è€Œå·²ã€‚</p><blockquote><p>æ³¨æ„è¿™æ®µè¯ä¸­æ··æ‚åœ¨å„ä¸ªåè¯ä¸­çš„ Component å’Œ Decoratorï¼Œåˆ«ææ··äº†ã€‚</p></blockquote><p>ä¸‹é¢æ¥çœ‹çœ‹ä¸€ä¸ªä¾‹å­ï¼Œå…ˆæŠŠè£…é¥°æ¨¡å¼å¼„æ¸…æ¥šï¼Œç„¶åå†ä»‹ç»ä¸‹ java io ä¸­çš„è£…é¥°æ¨¡å¼çš„åº”ç”¨ã€‚</p><p>æœ€è¿‘å¤§è¡—ä¸Šæµè¡Œèµ·æ¥äº†â€œå¿«ä¹æŸ æª¬â€ï¼Œæˆ‘ä»¬æŠŠå¿«ä¹æŸ æª¬çš„é¥®æ–™åˆ†ä¸ºä¸‰ç±»ï¼šçº¢èŒ¶ã€ç»¿èŒ¶ã€å’–å•¡ï¼Œåœ¨è¿™ä¸‰å¤§ç±»çš„åŸºç¡€ä¸Šï¼Œåˆå¢åŠ äº†è®¸å¤šçš„å£å‘³ï¼Œä»€ä¹ˆé‡‘æ¡”æŸ æª¬çº¢èŒ¶ã€é‡‘æ¡”æŸ æª¬çç ç»¿èŒ¶ã€èŠ’æœçº¢èŒ¶ã€èŠ’æœç»¿èŒ¶ã€èŠ’æœçç çº¢èŒ¶ã€çƒ¤çç çº¢èŒ¶ã€çƒ¤çç èŠ’æœç»¿èŒ¶ã€æ¤°é¦™èƒšèŠ½å’–å•¡ã€ç„¦ç³–å¯å¯å’–å•¡ç­‰ç­‰ï¼Œæ¯å®¶åº—éƒ½æœ‰å¾ˆé•¿çš„èœå•ï¼Œä½†æ˜¯ä»”ç»†çœ‹ä¸‹ï¼Œå…¶å®åŸæ–™ä¹Ÿæ²¡å‡ æ ·ï¼Œä½†æ˜¯å¯ä»¥æ­é…å‡ºå¾ˆå¤šç»„åˆï¼Œå¦‚æœé¡¾å®¢éœ€è¦ï¼Œå¾ˆå¤šæ²¡å‡ºç°åœ¨èœå•ä¸­çš„é¥®æ–™ä»–ä»¬ä¹Ÿæ˜¯å¯ä»¥åšçš„ã€‚</p><p>åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œçº¢èŒ¶ã€ç»¿èŒ¶ã€å’–å•¡æ˜¯æœ€åŸºç¡€çš„é¥®æ–™ï¼Œå…¶ä»–çš„åƒé‡‘æ¡”æŸ æª¬ã€èŠ’æœã€çç ã€æ¤°æœã€ç„¦ç³–ç­‰éƒ½å±äºè£…é¥°ç”¨çš„ã€‚å½“ç„¶ï¼Œåœ¨å¼€å‘ä¸­ï¼Œæˆ‘ä»¬ç¡®å®å¯ä»¥åƒé—¨åº—ä¸€æ ·ï¼Œå¼€å‘è¿™äº›ç±»ï¼šLemonBlackTeaã€LemonGreenTeaã€MangoBlackTeaã€MangoLemonGreenTeaâ€¦â€¦ä½†æ˜¯ï¼Œå¾ˆå¿«æˆ‘ä»¬å°±å‘ç°ï¼Œè¿™æ ·å­å¹²è‚¯å®šæ˜¯ä¸è¡Œçš„ï¼Œè¿™ä¼šå¯¼è‡´æˆ‘ä»¬éœ€è¦ç»„åˆå‡ºæ‰€æœ‰çš„å¯èƒ½ï¼Œè€Œä¸”å¦‚æœå®¢äººéœ€è¦åœ¨çº¢èŒ¶ä¸­åŠ åŒä»½æŸ æª¬æ€ä¹ˆåŠï¼Ÿä¸‰ä»½æŸ æª¬æ€ä¹ˆåŠï¼Ÿ</p><p>ä¸è¯´åºŸè¯äº†ï¼Œä¸Šä»£ç ã€‚</p><p>é¦–å…ˆï¼Œå®šä¹‰é¥®æ–™æŠ½è±¡åŸºç±»ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="class"><span class="keyword">class</span> <span class="title">Beverage</span> </span>&#123;</span><br><span class="line">      <span class="comment">// è¿”å›æè¿°</span></span><br><span class="line">      <span class="function"><span class="keyword">public</span> <span class="keyword">abstract</span> String <span class="title">getDescription</span><span class="params">()</span></span>;</span><br><span class="line">      <span class="comment">// è¿”å›ä»·æ ¼</span></span><br><span class="line">      <span class="function"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">double</span> <span class="title">cost</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç„¶åæ˜¯ä¸‰ä¸ªåŸºç¡€é¥®æ–™å®ç°ç±»ï¼Œçº¢èŒ¶ã€ç»¿èŒ¶å’Œå’–å•¡ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">BlackTea</span> <span class="keyword">extends</span> <span class="title">Beverage</span> </span>&#123;</span><br><span class="line">      <span class="function"><span class="keyword">public</span> String <span class="title">getDescription</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;çº¢èŒ¶&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">      <span class="function"><span class="keyword">public</span> <span class="keyword">double</span> <span class="title">cost</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">10</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">GreenTea</span> <span class="keyword">extends</span> <span class="title">Beverage</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getDescription</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;ç»¿èŒ¶&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">      <span class="function"><span class="keyword">public</span> <span class="keyword">double</span> <span class="title">cost</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">11</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">...<span class="comment">// å’–å•¡çœç•¥</span></span><br></pre></td></tr></table></figure><p>å®šä¹‰è°ƒæ–™ï¼Œä¹Ÿå°±æ˜¯è£…é¥°è€…çš„åŸºç±»ï¼Œæ­¤ç±»å¿…é¡»ç»§æ‰¿è‡ª Beverageï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// è°ƒæ–™</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="class"><span class="keyword">class</span> <span class="title">Condiment</span> <span class="keyword">extends</span> <span class="title">Beverage</span> </span>&#123;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç„¶åæˆ‘ä»¬æ¥å®šä¹‰æŸ æª¬ã€èŠ’æœç­‰å…·ä½“çš„è°ƒæ–™ï¼Œå®ƒä»¬å±äºè£…é¥°è€…ï¼Œæ¯«æ— ç–‘é—®ï¼Œè¿™äº›è°ƒæ–™è‚¯å®šéƒ½éœ€è¦ç»§æ‰¿è°ƒæ–™ Condiment ç±»ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Lemon</span> <span class="keyword">extends</span> <span class="title">Condiment</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> Beverage bevarage;</span><br><span class="line">    <span class="comment">// è¿™é‡Œå¾ˆå…³é”®ï¼Œéœ€è¦ä¼ å…¥å…·ä½“çš„é¥®æ–™ï¼Œå¦‚éœ€è¦ä¼ å…¥æ²¡æœ‰è¢«è£…é¥°çš„çº¢èŒ¶æˆ–ç»¿èŒ¶ï¼Œ</span></span><br><span class="line">    <span class="comment">// å½“ç„¶ä¹Ÿå¯ä»¥ä¼ å…¥å·²ç»è£…é¥°å¥½çš„èŠ’æœç»¿èŒ¶ï¼Œè¿™æ ·å¯ä»¥åšèŠ’æœæŸ æª¬ç»¿èŒ¶</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Lemon</span><span class="params">(Beverage bevarage)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.bevarage = bevarage;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getDescription</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="comment">// è£…é¥°</span></span><br><span class="line">        <span class="keyword">return</span> bevarage.getDescription() + <span class="string">&quot;, åŠ æŸ æª¬&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">double</span> <span class="title">cost</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="comment">// è£…é¥°</span></span><br><span class="line">        <span class="keyword">return</span> beverage.cost() + <span class="number">2</span>; <span class="comment">// åŠ æŸ æª¬éœ€è¦ 2 å…ƒ</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Mango</span> <span class="keyword">extends</span> <span class="title">Condiment</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> Beverage bevarage;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Mango</span><span class="params">(Beverage bevarage)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.bevarage = bevarage;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getDescription</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> bevarage.getDescription() + <span class="string">&quot;, åŠ èŠ’æœ&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">double</span> <span class="title">cost</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> beverage.cost() + <span class="number">3</span>; <span class="comment">// åŠ èŠ’æœéœ€è¦ 3 å…ƒ</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">...<span class="comment">// ç»™æ¯ä¸€ç§è°ƒæ–™éƒ½åŠ ä¸€ä¸ªç±»</span></span><br></pre></td></tr></table></figure><p>çœ‹å®¢æˆ·ç«¯è°ƒç”¨ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">    <span class="comment">// é¦–å…ˆï¼Œæˆ‘ä»¬éœ€è¦ä¸€ä¸ªåŸºç¡€é¥®æ–™ï¼Œçº¢èŒ¶ã€ç»¿èŒ¶æˆ–å’–å•¡</span></span><br><span class="line">    Beverage beverage = <span class="keyword">new</span> GreenTea();</span><br><span class="line">    <span class="comment">// å¼€å§‹è£…é¥°</span></span><br><span class="line">    beverage = <span class="keyword">new</span> Lemon(beverage); <span class="comment">// å…ˆåŠ ä¸€ä»½æŸ æª¬</span></span><br><span class="line">    beverage = <span class="keyword">new</span> Mongo(beverage); <span class="comment">// å†åŠ ä¸€ä»½èŠ’æœ</span></span><br><span class="line"></span><br><span class="line">    System.out.println(beverage.getDescription() + <span class="string">&quot; ä»·æ ¼ï¼šï¿¥&quot;</span> + beverage.cost());</span><br><span class="line">    <span class="comment">//&quot;ç»¿èŒ¶, åŠ æŸ æª¬, åŠ èŠ’æœ ä»·æ ¼ï¼šï¿¥16&quot;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å¦‚æœæˆ‘ä»¬éœ€è¦ <strong>èŠ’æœ-çç -åŒä»½æŸ æª¬-çº¢èŒ¶</strong>ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Beverage beverage = <span class="keyword">new</span> Mongo(<span class="keyword">new</span> Pearl(<span class="keyword">new</span> Lemon(<span class="keyword">new</span> Lemon(<span class="keyword">new</span> BlackTea()))));</span><br></pre></td></tr></table></figure><p>æ˜¯ä¸æ˜¯å¾ˆå˜æ€ï¼Ÿ</p><p>çœ‹çœ‹ä¸‹å›¾å¯èƒ½ä¼šæ¸…æ™°ä¸€äº›ï¼š</p><p><img src="https://www.javadoop.com/blogimages/design-pattern/decorator-2.png" alt="decorator-2"></p><p>åˆ°è¿™é‡Œï¼Œå¤§å®¶åº”è¯¥å·²ç»æ¸…æ¥šè£…é¥°æ¨¡å¼äº†å§ã€‚</p><p>ä¸‹é¢ï¼Œæˆ‘ä»¬å†æ¥è¯´è¯´ java IO ä¸­çš„è£…é¥°æ¨¡å¼ã€‚çœ‹ä¸‹å›¾ InputStream æ´¾ç”Ÿå‡ºæ¥çš„éƒ¨åˆ†ç±»ï¼š</p><p><img src="https://www.javadoop.com/blogimages/design-pattern/decorator-3.png" alt="decorator-3"></p><p>æˆ‘ä»¬çŸ¥é“ InputStream ä»£è¡¨äº†è¾“å…¥æµï¼Œå…·ä½“çš„è¾“å…¥æ¥æºå¯ä»¥æ˜¯æ–‡ä»¶ï¼ˆFileInputStreamï¼‰ã€ç®¡é“ï¼ˆPipedInputStreamï¼‰ã€æ•°ç»„ï¼ˆByteArrayInputStreamï¼‰ç­‰ï¼Œè¿™äº›å°±åƒå‰é¢å¥¶èŒ¶çš„ä¾‹å­ä¸­çš„çº¢èŒ¶ã€ç»¿èŒ¶ï¼Œå±äºåŸºç¡€è¾“å…¥æµã€‚</p><p>FilterInputStream æ‰¿æ¥äº†è£…é¥°æ¨¡å¼çš„å…³é”®èŠ‚ç‚¹ï¼Œå®ƒçš„å®ç°ç±»æ˜¯ä¸€ç³»åˆ—è£…é¥°å™¨ï¼Œæ¯”å¦‚ BufferedInputStream ä»£è¡¨ç”¨ç¼“å†²æ¥è£…é¥°ï¼Œä¹Ÿå°±ä½¿å¾—è¾“å…¥æµå…·æœ‰äº†ç¼“å†²çš„åŠŸèƒ½ï¼ŒLineNumberInputStream ä»£è¡¨ç”¨è¡Œå·æ¥è£…é¥°ï¼Œåœ¨æ“ä½œçš„æ—¶å€™å°±å¯ä»¥å–å¾—è¡Œå·äº†ï¼ŒDataInputStream çš„è£…é¥°ï¼Œä½¿å¾—æˆ‘ä»¬å¯ä»¥ä»è¾“å…¥æµè½¬æ¢ä¸º java ä¸­çš„åŸºæœ¬ç±»å‹å€¼ã€‚</p><p>å½“ç„¶ï¼Œåœ¨ java IO ä¸­ï¼Œå¦‚æœæˆ‘ä»¬ä½¿ç”¨è£…é¥°å™¨çš„è¯ï¼Œå°±ä¸å¤ªé€‚åˆé¢å‘æ¥å£ç¼–ç¨‹äº†ï¼Œå¦‚ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">InputStream inputStream = <span class="keyword">new</span> LineNumberInputStream(<span class="keyword">new</span> BufferedInputStream(<span class="keyword">new</span> FileInputStream(<span class="string">&quot;&quot;</span>)));</span><br></pre></td></tr></table></figure><p>è¿™æ ·çš„ç»“æœæ˜¯ï¼ŒInputStream è¿˜æ˜¯ä¸å…·æœ‰è¯»å–è¡Œå·çš„åŠŸèƒ½ï¼Œå› ä¸ºè¯»å–è¡Œå·çš„æ–¹æ³•å®šä¹‰åœ¨ LineNumberInputStream ç±»ä¸­ã€‚</p><p>æˆ‘ä»¬åº”è¯¥åƒä¸‹é¢è¿™æ ·ä½¿ç”¨ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">DataInputStream is = <span class="keyword">new</span> DataInputStream(</span><br><span class="line">                              <span class="keyword">new</span> BufferedInputStream(</span><br><span class="line">                                  <span class="keyword">new</span> FileInputStream(<span class="string">&quot;&quot;</span>)));</span><br></pre></td></tr></table></figure><blockquote><p>æ‰€ä»¥è¯´å˜›ï¼Œè¦æ‰¾åˆ°çº¯çš„ä¸¥æ ¼ç¬¦åˆè®¾è®¡æ¨¡å¼çš„ä»£ç è¿˜æ˜¯æ¯”è¾ƒéš¾çš„ã€‚</p></blockquote><h3 id="é—¨é¢æ¨¡å¼"><a href="#é—¨é¢æ¨¡å¼" class="headerlink" title="é—¨é¢æ¨¡å¼"></a>é—¨é¢æ¨¡å¼</h3><p>é—¨é¢æ¨¡å¼ï¼ˆä¹Ÿå«å¤–è§‚æ¨¡å¼ï¼ŒFacade Patternï¼‰åœ¨è®¸å¤šæºç ä¸­æœ‰ä½¿ç”¨ï¼Œæ¯”å¦‚ slf4j å°±å¯ä»¥ç†è§£ä¸ºæ˜¯é—¨é¢æ¨¡å¼çš„åº”ç”¨ã€‚è¿™æ˜¯ä¸€ä¸ªç®€å•çš„è®¾è®¡æ¨¡å¼ï¼Œæˆ‘ä»¬ç›´æ¥ä¸Šä»£ç å†è¯´å§ã€‚</p><p>é¦–å…ˆï¼Œæˆ‘ä»¬å®šä¹‰ä¸€ä¸ªæ¥å£ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">Shape</span> </span>&#123;</span><br><span class="line">   <span class="function"><span class="keyword">void</span> <span class="title">draw</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å®šä¹‰å‡ ä¸ªå®ç°ç±»ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Circle</span> <span class="keyword">implements</span> <span class="title">Shape</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">draw</span><span class="params">()</span> </span>&#123;</span><br><span class="line">       System.out.println(<span class="string">&quot;Circle::draw()&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Rectangle</span> <span class="keyword">implements</span> <span class="title">Shape</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">draw</span><span class="params">()</span> </span>&#123;</span><br><span class="line">       System.out.println(<span class="string">&quot;Rectangle::draw()&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å®¢æˆ·ç«¯è°ƒç”¨ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">    <span class="comment">// ç”»ä¸€ä¸ªåœ†å½¢</span></span><br><span class="line">      Shape circle = <span class="keyword">new</span> Circle();</span><br><span class="line">      circle.draw();</span><br><span class="line">  </span><br><span class="line">      <span class="comment">// ç”»ä¸€ä¸ªé•¿æ–¹å½¢</span></span><br><span class="line">      Shape rectangle = <span class="keyword">new</span> Rectangle();</span><br><span class="line">      rectangle.draw();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä»¥ä¸Šæ˜¯æˆ‘ä»¬å¸¸å†™çš„ä»£ç ï¼Œæˆ‘ä»¬éœ€è¦ç”»åœ†å°±è¦å…ˆå®ä¾‹åŒ–åœ†ï¼Œç”»é•¿æ–¹å½¢å°±éœ€è¦å…ˆå®ä¾‹åŒ–ä¸€ä¸ªé•¿æ–¹å½¢ï¼Œç„¶åå†è°ƒç”¨ç›¸åº”çš„ draw() æ–¹æ³•ã€‚</p><p>ä¸‹é¢ï¼Œæˆ‘ä»¬çœ‹çœ‹æ€ä¹ˆç”¨é—¨é¢æ¨¡å¼æ¥è®©å®¢æˆ·ç«¯è°ƒç”¨æ›´åŠ å‹å¥½ä¸€äº›ã€‚</p><p>æˆ‘ä»¬å…ˆå®šä¹‰ä¸€ä¸ªé—¨é¢ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ShapeMaker</span> </span>&#123;</span><br><span class="line">   <span class="keyword">private</span> Shape circle;</span><br><span class="line">   <span class="keyword">private</span> Shape rectangle;</span><br><span class="line">   <span class="keyword">private</span> Shape square;</span><br><span class="line"></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="title">ShapeMaker</span><span class="params">()</span> </span>&#123;</span><br><span class="line">      circle = <span class="keyword">new</span> Circle();</span><br><span class="line">      rectangle = <span class="keyword">new</span> Rectangle();</span><br><span class="line">      square = <span class="keyword">new</span> Square();</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">/**</span></span><br><span class="line"><span class="comment">   * ä¸‹é¢å®šä¹‰ä¸€å †æ–¹æ³•ï¼Œå…·ä½“åº”è¯¥è°ƒç”¨ä»€ä¹ˆæ–¹æ³•ï¼Œç”±è¿™ä¸ªé—¨é¢æ¥å†³å®š</span></span><br><span class="line"><span class="comment">   */</span></span><br><span class="line">  </span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">drawCircle</span><span class="params">()</span></span>&#123;</span><br><span class="line">      circle.draw();</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">drawRectangle</span><span class="params">()</span></span>&#123;</span><br><span class="line">      rectangle.draw();</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">drawSquare</span><span class="params">()</span></span>&#123;</span><br><span class="line">      square.draw();</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>çœ‹çœ‹ç°åœ¨å®¢æˆ·ç«¯æ€ä¹ˆè°ƒç”¨ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">  ShapeMaker shapeMaker = <span class="keyword">new</span> ShapeMaker();</span><br><span class="line"></span><br><span class="line">  <span class="comment">// å®¢æˆ·ç«¯è°ƒç”¨ç°åœ¨æ›´åŠ æ¸…æ™°äº†</span></span><br><span class="line">  shapeMaker.drawCircle();</span><br><span class="line">  shapeMaker.drawRectangle();</span><br><span class="line">  shapeMaker.drawSquare();        </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>é—¨é¢æ¨¡å¼çš„ä¼˜ç‚¹æ˜¾è€Œæ˜“è§ï¼Œå®¢æˆ·ç«¯ä¸å†éœ€è¦å…³æ³¨å®ä¾‹åŒ–æ—¶åº”è¯¥ä½¿ç”¨å“ªä¸ªå®ç°ç±»ï¼Œç›´æ¥è°ƒç”¨é—¨é¢æä¾›çš„æ–¹æ³•å°±å¯ä»¥äº†ï¼Œå› ä¸ºé—¨é¢ç±»æä¾›çš„æ–¹æ³•çš„æ–¹æ³•åå¯¹äºå®¢æˆ·ç«¯æ¥è¯´å·²ç»å¾ˆå‹å¥½äº†ã€‚</p><h3 id="ç»„åˆæ¨¡å¼"><a href="#ç»„åˆæ¨¡å¼" class="headerlink" title="ç»„åˆæ¨¡å¼"></a>ç»„åˆæ¨¡å¼</h3><p>ç»„åˆæ¨¡å¼ç”¨äºè¡¨ç¤ºå…·æœ‰å±‚æ¬¡ç»“æ„çš„æ•°æ®ï¼Œä½¿å¾—æˆ‘ä»¬å¯¹å•ä¸ªå¯¹è±¡å’Œç»„åˆå¯¹è±¡çš„è®¿é—®å…·æœ‰ä¸€è‡´æ€§ã€‚</p><p>ç›´æ¥çœ‹ä¸€ä¸ªä¾‹å­å§ï¼Œæ¯ä¸ªå‘˜å·¥éƒ½æœ‰å§“åã€éƒ¨é—¨ã€è–ªæ°´è¿™äº›å±æ€§ï¼ŒåŒæ—¶è¿˜æœ‰ä¸‹å±å‘˜å·¥é›†åˆï¼ˆè™½ç„¶å¯èƒ½é›†åˆä¸ºç©ºï¼‰ï¼Œè€Œä¸‹å±å‘˜å·¥å’Œè‡ªå·±çš„ç»“æ„æ˜¯ä¸€æ ·çš„ï¼Œä¹Ÿæœ‰å§“åã€éƒ¨é—¨è¿™äº›å±æ€§ï¼ŒåŒæ—¶ä¹Ÿæœ‰ä»–ä»¬çš„ä¸‹å±å‘˜å·¥é›†åˆã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Employee</span> </span>&#123;</span><br><span class="line">   <span class="keyword">private</span> String name;</span><br><span class="line">   <span class="keyword">private</span> String dept;</span><br><span class="line">   <span class="keyword">private</span> <span class="keyword">int</span> salary;</span><br><span class="line">   <span class="keyword">private</span> List&lt;Employee&gt; subordinates; <span class="comment">// ä¸‹å±</span></span><br><span class="line"></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="title">Employee</span><span class="params">(String name,String dept, <span class="keyword">int</span> sal)</span> </span>&#123;</span><br><span class="line">      <span class="keyword">this</span>.name = name;</span><br><span class="line">      <span class="keyword">this</span>.dept = dept;</span><br><span class="line">      <span class="keyword">this</span>.salary = sal;</span><br><span class="line">      subordinates = <span class="keyword">new</span> ArrayList&lt;Employee&gt;();</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">add</span><span class="params">(Employee e)</span> </span>&#123;</span><br><span class="line">      subordinates.add(e);</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">remove</span><span class="params">(Employee e)</span> </span>&#123;</span><br><span class="line">      subordinates.remove(e);</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   <span class="function"><span class="keyword">public</span> List&lt;Employee&gt; <span class="title">getSubordinates</span><span class="params">()</span></span>&#123;</span><br><span class="line">     <span class="keyword">return</span> subordinates;</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   <span class="function"><span class="keyword">public</span> String <span class="title">toString</span><span class="params">()</span></span>&#123;</span><br><span class="line">      <span class="keyword">return</span> (<span class="string">&quot;Employee :[ Name : &quot;</span> + name + <span class="string">&quot;, dept : &quot;</span> + dept + <span class="string">&quot;, salary :&quot;</span> + salary+<span class="string">&quot; ]&quot;</span>);</span><br><span class="line">   &#125;   </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>é€šå¸¸ï¼Œè¿™ç§ç±»éœ€è¦å®šä¹‰ add(node)ã€remove(node)ã€getChildren() è¿™äº›æ–¹æ³•ã€‚</p><p>è¿™è¯´çš„å…¶å®å°±æ˜¯ç»„åˆæ¨¡å¼ï¼Œè¿™ç§ç®€å•çš„æ¨¡å¼æˆ‘å°±ä¸åšè¿‡å¤šä»‹ç»äº†ï¼Œç›¸ä¿¡å„ä½è¯»è€…ä¹Ÿä¸å–œæ¬¢çœ‹æˆ‘å†™åºŸè¯ã€‚</p><h3 id="äº«å…ƒæ¨¡å¼"><a href="#äº«å…ƒæ¨¡å¼" class="headerlink" title="äº«å…ƒæ¨¡å¼"></a>äº«å…ƒæ¨¡å¼</h3><p>è‹±æ–‡æ˜¯ Flyweight Patternï¼Œä¸çŸ¥é“æ˜¯è°æœ€å…ˆç¿»è¯‘çš„è¿™ä¸ªè¯ï¼Œæ„Ÿè§‰è¿™ç¿»è¯‘çœŸçš„ä¸å¥½ç†è§£ï¼Œæˆ‘ä»¬è¯•ç€å¼ºè¡Œå…³è”èµ·æ¥å§ã€‚Flyweight æ˜¯è½»é‡çº§çš„æ„æ€ï¼Œäº«å…ƒåˆ†å¼€æ¥è¯´å°±æ˜¯ å…±äº« å…ƒå™¨ä»¶ï¼Œä¹Ÿå°±æ˜¯å¤ç”¨å·²ç»ç”Ÿæˆçš„å¯¹è±¡ï¼Œè¿™ç§åšæ³•å½“ç„¶ä¹Ÿå°±æ˜¯è½»é‡çº§çš„äº†ã€‚</p><p>å¤ç”¨å¯¹è±¡æœ€ç®€å•çš„æ–¹å¼æ˜¯ï¼Œç”¨ä¸€ä¸ª HashMap æ¥å­˜æ”¾æ¯æ¬¡æ–°ç”Ÿæˆçš„å¯¹è±¡ã€‚æ¯æ¬¡éœ€è¦ä¸€ä¸ªå¯¹è±¡çš„æ—¶å€™ï¼Œå…ˆåˆ° HashMap ä¸­çœ‹çœ‹æœ‰æ²¡æœ‰ï¼Œå¦‚æœæ²¡æœ‰ï¼Œå†ç”Ÿæˆæ–°çš„å¯¹è±¡ï¼Œç„¶åå°†è¿™ä¸ªå¯¹è±¡æ”¾å…¥ HashMap ä¸­ã€‚</p><p>è¿™ç§ç®€å•çš„ä»£ç æˆ‘å°±ä¸æ¼”ç¤ºäº†ã€‚</p><h3 id="ç»“æ„å‹æ¨¡å¼æ€»ç»“"><a href="#ç»“æ„å‹æ¨¡å¼æ€»ç»“" class="headerlink" title="ç»“æ„å‹æ¨¡å¼æ€»ç»“"></a>ç»“æ„å‹æ¨¡å¼æ€»ç»“</h3><p>å‰é¢ï¼Œæˆ‘ä»¬è¯´äº†ä»£ç†æ¨¡å¼ã€é€‚é…å™¨æ¨¡å¼ã€æ¡¥æ¢æ¨¡å¼ã€è£…é¥°æ¨¡å¼ã€é—¨é¢æ¨¡å¼ã€ç»„åˆæ¨¡å¼å’Œäº«å…ƒæ¨¡å¼ã€‚è¯»è€…æ˜¯å¦å¯ä»¥åˆ†åˆ«æŠŠè¿™å‡ ä¸ªæ¨¡å¼è¯´æ¸…æ¥šäº†å‘¢ï¼Ÿåœ¨è¯´åˆ°è¿™äº›æ¨¡å¼çš„æ—¶å€™ï¼Œå¿ƒä¸­æ˜¯å¦æœ‰ä¸€ä¸ªæ¸…æ™°çš„å›¾æˆ–å¤„ç†æµç¨‹åœ¨è„‘æµ·é‡Œå‘¢ï¼Ÿ</p><p>ä»£ç†æ¨¡å¼æ˜¯åšæ–¹æ³•å¢å¼ºçš„ï¼Œé€‚é…å™¨æ¨¡å¼æ˜¯æŠŠé¸¡åŒ…è£…æˆé¸­è¿™ç§ç”¨æ¥é€‚é…æ¥å£çš„ï¼Œæ¡¥æ¢æ¨¡å¼åšåˆ°äº†å¾ˆå¥½çš„è§£è€¦ï¼Œè£…é¥°æ¨¡å¼ä»åå­—ä¸Šå°±çœ‹å¾—å‡ºæ¥ï¼Œé€‚åˆäºè£…é¥°ç±»æˆ–è€…è¯´æ˜¯å¢å¼ºç±»çš„åœºæ™¯ï¼Œé—¨é¢æ¨¡å¼çš„ä¼˜ç‚¹æ˜¯å®¢æˆ·ç«¯ä¸éœ€è¦å…³å¿ƒå®ä¾‹åŒ–è¿‡ç¨‹ï¼Œåªè¦è°ƒç”¨éœ€è¦çš„æ–¹æ³•å³å¯ï¼Œç»„åˆæ¨¡å¼ç”¨äºæè¿°å…·æœ‰å±‚æ¬¡ç»“æ„çš„æ•°æ®ï¼Œäº«å…ƒæ¨¡å¼æ˜¯ä¸ºäº†åœ¨ç‰¹å®šçš„åœºæ™¯ä¸­ç¼“å­˜å·²ç»åˆ›å»ºçš„å¯¹è±¡ï¼Œç”¨äºæé«˜æ€§èƒ½ã€‚</p><h2 id="è¡Œä¸ºå‹æ¨¡å¼"><a href="#è¡Œä¸ºå‹æ¨¡å¼" class="headerlink" title="è¡Œä¸ºå‹æ¨¡å¼"></a>è¡Œä¸ºå‹æ¨¡å¼</h2><p>è¡Œä¸ºå‹æ¨¡å¼å…³æ³¨çš„æ˜¯å„ä¸ªç±»ä¹‹é—´çš„ç›¸äº’ä½œç”¨ï¼Œå°†èŒè´£åˆ’åˆ†æ¸…æ¥šï¼Œä½¿å¾—æˆ‘ä»¬çš„ä»£ç æ›´åŠ åœ°æ¸…æ™°ã€‚</p><h3 id="ç­–ç•¥æ¨¡å¼"><a href="#ç­–ç•¥æ¨¡å¼" class="headerlink" title="ç­–ç•¥æ¨¡å¼"></a>ç­–ç•¥æ¨¡å¼</h3><p>ç­–ç•¥æ¨¡å¼å¤ªå¸¸ç”¨äº†ï¼Œæ‰€ä»¥æŠŠå®ƒæ”¾åˆ°æœ€å‰é¢è¿›è¡Œä»‹ç»ã€‚å®ƒæ¯”è¾ƒç®€å•ï¼Œæˆ‘å°±ä¸åºŸè¯ï¼Œç›´æ¥ç”¨ä»£ç è¯´äº‹å§ã€‚</p><p>ä¸‹é¢è®¾è®¡çš„åœºæ™¯æ˜¯ï¼Œæˆ‘ä»¬éœ€è¦ç”»ä¸€ä¸ªå›¾å½¢ï¼Œå¯é€‰çš„ç­–ç•¥å°±æ˜¯ç”¨çº¢è‰²ç¬”æ¥ç”»ï¼Œè¿˜æ˜¯ç»¿è‰²ç¬”æ¥ç”»ï¼Œæˆ–è€…è“è‰²ç¬”æ¥ç”»ã€‚</p><p>é¦–å…ˆï¼Œå…ˆå®šä¹‰ä¸€ä¸ªç­–ç•¥æ¥å£ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">Strategy</span> </span>&#123;</span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">draw</span><span class="params">(<span class="keyword">int</span> radius, <span class="keyword">int</span> x, <span class="keyword">int</span> y)</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç„¶åæˆ‘ä»¬å®šä¹‰å…·ä½“çš„å‡ ä¸ªç­–ç•¥ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">RedPen</span> <span class="keyword">implements</span> <span class="title">Strategy</span> </span>&#123;</span><br><span class="line">   <span class="meta">@Override</span></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">draw</span><span class="params">(<span class="keyword">int</span> radius, <span class="keyword">int</span> x, <span class="keyword">int</span> y)</span> </span>&#123;</span><br><span class="line">      System.out.println(<span class="string">&quot;ç”¨çº¢è‰²ç¬”ç”»å›¾ï¼Œradius:&quot;</span> + radius + <span class="string">&quot;, x:&quot;</span> + x + <span class="string">&quot;, y:&quot;</span> + y);</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">GreenPen</span> <span class="keyword">implements</span> <span class="title">Strategy</span> </span>&#123;</span><br><span class="line">   <span class="meta">@Override</span></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">draw</span><span class="params">(<span class="keyword">int</span> radius, <span class="keyword">int</span> x, <span class="keyword">int</span> y)</span> </span>&#123;</span><br><span class="line">      System.out.println(<span class="string">&quot;ç”¨ç»¿è‰²ç¬”ç”»å›¾ï¼Œradius:&quot;</span> + radius + <span class="string">&quot;, x:&quot;</span> + x + <span class="string">&quot;, y:&quot;</span> + y);</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">BluePen</span> <span class="keyword">implements</span> <span class="title">Strategy</span> </span>&#123;</span><br><span class="line">   <span class="meta">@Override</span></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">draw</span><span class="params">(<span class="keyword">int</span> radius, <span class="keyword">int</span> x, <span class="keyword">int</span> y)</span> </span>&#123;</span><br><span class="line">      System.out.println(<span class="string">&quot;ç”¨è“è‰²ç¬”ç”»å›¾ï¼Œradius:&quot;</span> + radius + <span class="string">&quot;, x:&quot;</span> + x + <span class="string">&quot;, y:&quot;</span> + y);</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä½¿ç”¨ç­–ç•¥çš„ç±»ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Context</span> </span>&#123;</span><br><span class="line">   <span class="keyword">private</span> Strategy strategy;</span><br><span class="line"></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="title">Context</span><span class="params">(Strategy strategy)</span></span>&#123;</span><br><span class="line">      <span class="keyword">this</span>.strategy = strategy;</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">executeDraw</span><span class="params">(<span class="keyword">int</span> radius, <span class="keyword">int</span> x, <span class="keyword">int</span> y)</span></span>&#123;</span><br><span class="line">      <span class="keyword">return</span> strategy.draw(radius, x, y);</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å®¢æˆ·ç«¯æ¼”ç¤ºï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">    Context context = <span class="keyword">new</span> Context(<span class="keyword">new</span> BluePen()); <span class="comment">// ä½¿ç”¨ç»¿è‰²ç¬”æ¥ç”»</span></span><br><span class="line">      context.executeDraw(<span class="number">10</span>, <span class="number">0</span>, <span class="number">0</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ”¾åˆ°ä¸€å¼ å›¾ä¸Šï¼Œè®©å¤§å®¶çœ‹å¾—æ¸…æ™°äº›ï¼š</p><p><img src="https://www.javadoop.com/blogimages/design-pattern/strategy-1.png" alt="strategy-1"></p><p>è¿™ä¸ªæ—¶å€™ï¼Œå¤§å®¶æœ‰æ²¡æœ‰è”æƒ³åˆ°ç»“æ„å‹æ¨¡å¼ä¸­çš„æ¡¥æ¢æ¨¡å¼ï¼Œå®ƒä»¬å…¶å®éå¸¸ç›¸ä¼¼ï¼Œæˆ‘æŠŠæ¡¥æ¢æ¨¡å¼çš„å›¾æ‹¿è¿‡æ¥å¤§å®¶å¯¹æ¯”ä¸‹ï¼š</p><p><img src="https://www.javadoop.com/blogimages/design-pattern/bridge-1.png" alt="bridge-1"></p><p>è¦æˆ‘è¯´çš„è¯ï¼Œå®ƒä»¬éå¸¸ç›¸ä¼¼ï¼Œæ¡¥æ¢æ¨¡å¼åœ¨å·¦ä¾§åŠ äº†ä¸€å±‚æŠ½è±¡è€Œå·²ã€‚æ¡¥æ¢æ¨¡å¼çš„è€¦åˆæ›´ä½ï¼Œç»“æ„æ›´å¤æ‚ä¸€äº›ã€‚</p><h3 id="è§‚å¯Ÿè€…æ¨¡å¼"><a href="#è§‚å¯Ÿè€…æ¨¡å¼" class="headerlink" title="è§‚å¯Ÿè€…æ¨¡å¼"></a>è§‚å¯Ÿè€…æ¨¡å¼</h3><p>è§‚å¯Ÿè€…æ¨¡å¼å¯¹äºæˆ‘ä»¬æ¥è¯´ï¼ŒçœŸæ˜¯å†ç®€å•ä¸è¿‡äº†ã€‚æ— å¤–ä¹ä¸¤ä¸ªæ“ä½œï¼Œè§‚å¯Ÿè€…è®¢é˜…è‡ªå·±å…³å¿ƒçš„ä¸»é¢˜å’Œä¸»é¢˜æœ‰æ•°æ®å˜åŒ–åé€šçŸ¥è§‚å¯Ÿè€…ä»¬ã€‚</p><p>é¦–å…ˆï¼Œéœ€è¦å®šä¹‰ä¸»é¢˜ï¼Œæ¯ä¸ªä¸»é¢˜éœ€è¦æŒæœ‰è§‚å¯Ÿè€…åˆ—è¡¨çš„å¼•ç”¨ï¼Œç”¨äºåœ¨æ•°æ®å˜æ›´çš„æ—¶å€™é€šçŸ¥å„ä¸ªè§‚å¯Ÿè€…ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Subject</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> List&lt;Observer&gt; observers = <span class="keyword">new</span> ArrayList&lt;Observer&gt;();</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> state;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getState</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> state;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setState</span><span class="params">(<span class="keyword">int</span> state)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.state = state;</span><br><span class="line">        <span class="comment">// æ•°æ®å·²å˜æ›´ï¼Œé€šçŸ¥è§‚å¯Ÿè€…ä»¬</span></span><br><span class="line">        notifyAllObservers();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// æ³¨å†Œè§‚å¯Ÿè€…</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">attach</span><span class="params">(Observer observer)</span> </span>&#123;</span><br><span class="line">        observers.add(observer);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// é€šçŸ¥è§‚å¯Ÿè€…ä»¬</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">notifyAllObservers</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">for</span> (Observer observer : observers) &#123;</span><br><span class="line">            observer.update();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å®šä¹‰è§‚å¯Ÿè€…æ¥å£ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="class"><span class="keyword">class</span> <span class="title">Observer</span> </span>&#123;</span><br><span class="line">    <span class="keyword">protected</span> Subject subject;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">void</span> <span class="title">update</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å…¶å®å¦‚æœåªæœ‰ä¸€ä¸ªè§‚å¯Ÿè€…ç±»çš„è¯ï¼Œæ¥å£éƒ½ä¸ç”¨å®šä¹‰äº†ï¼Œä¸è¿‡ï¼Œé€šå¸¸åœºæ™¯ä¸‹ï¼Œæ—¢ç„¶ç”¨åˆ°äº†è§‚å¯Ÿè€…æ¨¡å¼ï¼Œæˆ‘ä»¬å°±æ˜¯å¸Œæœ›ä¸€ä¸ªäº‹ä»¶å‡ºæ¥äº†ï¼Œä¼šæœ‰å¤šä¸ªä¸åŒçš„ç±»éœ€è¦å¤„ç†ç›¸åº”çš„ä¿¡æ¯ã€‚æ¯”å¦‚ï¼Œè®¢å•ä¿®æ”¹æˆåŠŸäº‹ä»¶ï¼Œæˆ‘ä»¬å¸Œæœ›å‘çŸ­ä¿¡çš„ç±»å¾—åˆ°é€šçŸ¥ã€å‘é‚®ä»¶çš„ç±»å¾—åˆ°é€šçŸ¥ã€å¤„ç†ç‰©æµä¿¡æ¯çš„ç±»å¾—åˆ°é€šçŸ¥ç­‰ã€‚</p><p>æˆ‘ä»¬æ¥å®šä¹‰å…·ä½“çš„å‡ ä¸ªè§‚å¯Ÿè€…ç±»ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">BinaryObserver</span> <span class="keyword">extends</span> <span class="title">Observer</span> </span>&#123;</span><br><span class="line">    <span class="comment">// åœ¨æ„é€ æ–¹æ³•ä¸­è¿›è¡Œè®¢é˜…ä¸»é¢˜</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">BinaryObserver</span><span class="params">(Subject subject)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.subject = subject;</span><br><span class="line">        <span class="comment">// é€šå¸¸åœ¨æ„é€ æ–¹æ³•ä¸­å°† this å‘å¸ƒå‡ºå»çš„æ“ä½œä¸€å®šè¦å°å¿ƒ</span></span><br><span class="line">        <span class="keyword">this</span>.subject.attach(<span class="keyword">this</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// è¯¥æ–¹æ³•ç”±ä¸»é¢˜ç±»åœ¨æ•°æ®å˜æ›´çš„æ—¶å€™è¿›è¡Œè°ƒç”¨</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">update</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        String result = Integer.toBinaryString(subject.getState());</span><br><span class="line">        System.out.println(<span class="string">&quot;è®¢é˜…çš„æ•°æ®å‘ç”Ÿå˜åŒ–ï¼Œæ–°çš„æ•°æ®å¤„ç†ä¸ºäºŒè¿›åˆ¶å€¼ä¸ºï¼š&quot;</span> + result);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">HexaObserver</span> <span class="keyword">extends</span> <span class="title">Observer</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">HexaObserver</span><span class="params">(Subject subject)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.subject = subject;</span><br><span class="line">        <span class="keyword">this</span>.subject.attach(<span class="keyword">this</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">update</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        String result = Integer.toHexString(subject.getState()).toUpperCase();</span><br><span class="line">        System.out.println(<span class="string">&quot;è®¢é˜…çš„æ•°æ®å‘ç”Ÿå˜åŒ–ï¼Œæ–°çš„æ•°æ®å¤„ç†ä¸ºåå…­è¿›åˆ¶å€¼ä¸ºï¼š&quot;</span> + result);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å®¢æˆ·ç«¯ä½¿ç”¨ä¹Ÿéå¸¸ç®€å•ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">    <span class="comment">// å…ˆå®šä¹‰ä¸€ä¸ªä¸»é¢˜</span></span><br><span class="line">    Subject subject1 = <span class="keyword">new</span> Subject();</span><br><span class="line">    <span class="comment">// å®šä¹‰è§‚å¯Ÿè€…</span></span><br><span class="line">    <span class="keyword">new</span> BinaryObserver(subject1);</span><br><span class="line">    <span class="keyword">new</span> HexaObserver(subject1);</span><br><span class="line">  </span><br><span class="line">    <span class="comment">// æ¨¡æ‹Ÿæ•°æ®å˜æ›´ï¼Œè¿™ä¸ªæ—¶å€™ï¼Œè§‚å¯Ÿè€…ä»¬çš„ update æ–¹æ³•å°†ä¼šè¢«è°ƒç”¨</span></span><br><span class="line">    subject.setState(<span class="number">11</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>output:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è®¢é˜…çš„æ•°æ®å‘ç”Ÿå˜åŒ–ï¼Œæ–°çš„æ•°æ®å¤„ç†ä¸ºäºŒè¿›åˆ¶å€¼ä¸ºï¼š1011</span><br><span class="line">è®¢é˜…çš„æ•°æ®å‘ç”Ÿå˜åŒ–ï¼Œæ–°çš„æ•°æ®å¤„ç†ä¸ºåå…­è¿›åˆ¶å€¼ä¸ºï¼šB</span><br></pre></td></tr></table></figure><p>å½“ç„¶ï¼Œjdk ä¹Ÿæä¾›äº†ç›¸ä¼¼çš„æ”¯æŒï¼Œå…·ä½“çš„å¤§å®¶å¯ä»¥å‚è€ƒ java.util.Observable å’Œ java.util.Observer è¿™ä¸¤ä¸ªç±»ã€‚</p><p>å®é™…ç”Ÿäº§è¿‡ç¨‹ä¸­ï¼Œè§‚å¯Ÿè€…æ¨¡å¼å¾€å¾€ç”¨æ¶ˆæ¯ä¸­é—´ä»¶æ¥å®ç°ï¼Œå¦‚æœè¦å®ç°å•æœºè§‚å¯Ÿè€…æ¨¡å¼ï¼Œç¬”è€…å»ºè®®è¯»è€…ä½¿ç”¨ Guava ä¸­çš„ EventBusï¼Œå®ƒæœ‰åŒæ­¥å®ç°ä¹Ÿæœ‰å¼‚æ­¥å®ç°ï¼Œæœ¬æ–‡ä¸»è¦ä»‹ç»è®¾è®¡æ¨¡å¼ï¼Œå°±ä¸å±•å¼€è¯´äº†ã€‚</p><p>è¿˜æœ‰ï¼Œå³ä½¿æ˜¯ä¸Šé¢çš„è¿™ä¸ªä»£ç ï¼Œä¹Ÿä¼šæœ‰å¾ˆå¤šå˜ç§ï¼Œå¤§å®¶åªè¦è®°ä½æ ¸å¿ƒçš„éƒ¨åˆ†ï¼Œé‚£å°±æ˜¯ä¸€å®šæœ‰ä¸€ä¸ªåœ°æ–¹å­˜æ”¾äº†æ‰€æœ‰çš„è§‚å¯Ÿè€…ï¼Œç„¶ååœ¨äº‹ä»¶å‘ç”Ÿçš„æ—¶å€™ï¼Œéå†è§‚å¯Ÿè€…ï¼Œè°ƒç”¨å®ƒä»¬çš„å›è°ƒå‡½æ•°ã€‚</p><h3 id="è´£ä»»é“¾æ¨¡å¼"><a href="#è´£ä»»é“¾æ¨¡å¼" class="headerlink" title="è´£ä»»é“¾æ¨¡å¼"></a>è´£ä»»é“¾æ¨¡å¼</h3><p>è´£ä»»é“¾é€šå¸¸éœ€è¦å…ˆå»ºç«‹ä¸€ä¸ªå•å‘é“¾è¡¨ï¼Œç„¶åè°ƒç”¨æ–¹åªéœ€è¦è°ƒç”¨å¤´éƒ¨èŠ‚ç‚¹å°±å¯ä»¥äº†ï¼Œåé¢ä¼šè‡ªåŠ¨æµè½¬ä¸‹å»ã€‚æ¯”å¦‚æµç¨‹å®¡æ‰¹å°±æ˜¯ä¸€ä¸ªå¾ˆå¥½çš„ä¾‹å­ï¼Œåªè¦ç»ˆç«¯ç”¨æˆ·æäº¤ç”³è¯·ï¼Œæ ¹æ®ç”³è¯·çš„å†…å®¹ä¿¡æ¯ï¼Œè‡ªåŠ¨å»ºç«‹ä¸€æ¡è´£ä»»é“¾ï¼Œç„¶åå°±å¯ä»¥å¼€å§‹æµè½¬äº†ã€‚</p><p>æœ‰è¿™ä¹ˆä¸€ä¸ªåœºæ™¯ï¼Œç”¨æˆ·å‚åŠ ä¸€ä¸ªæ´»åŠ¨å¯ä»¥é¢†å–å¥–å“ï¼Œä½†æ˜¯æ´»åŠ¨éœ€è¦è¿›è¡Œå¾ˆå¤šçš„è§„åˆ™æ ¡éªŒç„¶åæ‰èƒ½æ”¾è¡Œï¼Œæ¯”å¦‚é¦–å…ˆéœ€è¦æ ¡éªŒç”¨æˆ·æ˜¯å¦æ˜¯æ–°ç”¨æˆ·ã€ä»Šæ—¥å‚ä¸äººæ•°æ˜¯å¦æœ‰é™é¢ã€å…¨åœºå‚ä¸äººæ•°æ˜¯å¦æœ‰é™é¢ç­‰ç­‰ã€‚è®¾å®šçš„è§„åˆ™éƒ½é€šè¿‡åï¼Œæ‰èƒ½è®©ç”¨æˆ·é¢†èµ°å¥–å“ã€‚</p><blockquote><p>å¦‚æœäº§å“ç»™ä½ è¿™ä¸ªéœ€æ±‚çš„è¯ï¼Œæˆ‘æƒ³å¤§éƒ¨åˆ†äººä¸€å¼€å§‹è‚¯å®šæƒ³çš„å°±æ˜¯ï¼Œç”¨ä¸€ä¸ª List æ¥å­˜æ”¾æ‰€æœ‰çš„è§„åˆ™ï¼Œç„¶å foreach æ‰§è¡Œä¸€ä¸‹æ¯ä¸ªè§„åˆ™å°±å¥½äº†ã€‚ä¸è¿‡ï¼Œè¯»è€…ä¹Ÿå…ˆåˆ«æ€¥ï¼Œçœ‹çœ‹è´£ä»»é“¾æ¨¡å¼å’Œæˆ‘ä»¬è¯´çš„è¿™ä¸ªæœ‰ä»€ä¹ˆä¸ä¸€æ ·ï¼Ÿ</p></blockquote><p>é¦–å…ˆï¼Œæˆ‘ä»¬è¦å®šä¹‰æµç¨‹ä¸ŠèŠ‚ç‚¹çš„åŸºç±»ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="class"><span class="keyword">class</span> <span class="title">RuleHandler</span> </span>&#123;</span><br><span class="line">    <span class="comment">// åç»§èŠ‚ç‚¹</span></span><br><span class="line">    <span class="keyword">protected</span> RuleHandler successor;</span><br><span class="line">  </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">void</span> <span class="title">apply</span><span class="params">(Context context)</span></span>;</span><br><span class="line">  </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setSuccessor</span><span class="params">(RuleHandler successor)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.successor = successor;</span><br><span class="line">    &#125;</span><br><span class="line">  </span><br><span class="line">    <span class="function"><span class="keyword">public</span> RuleHandler <span class="title">getSuccessor</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> successor;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬éœ€è¦å®šä¹‰å…·ä½“çš„æ¯ä¸ªèŠ‚ç‚¹äº†ã€‚</p><p>æ ¡éªŒç”¨æˆ·æ˜¯å¦æ˜¯æ–°ç”¨æˆ·ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">NewUserRuleHandler</span> <span class="keyword">extends</span> <span class="title">RuleHandler</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">apply</span><span class="params">(Context context)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (context.isNewUser()) &#123;</span><br><span class="line">            <span class="comment">// å¦‚æœæœ‰åç»§èŠ‚ç‚¹çš„è¯ï¼Œä¼ é€’ä¸‹å»</span></span><br><span class="line">            <span class="keyword">if</span> (<span class="keyword">this</span>.getSuccessor() != <span class="keyword">null</span>) &#123;</span><br><span class="line">                <span class="keyword">this</span>.getSuccessor().apply(context);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> RuntimeException(<span class="string">&quot;è¯¥æ´»åŠ¨ä»…é™æ–°ç”¨æˆ·å‚ä¸&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ ¡éªŒç”¨æˆ·æ‰€åœ¨åœ°åŒºæ˜¯å¦å¯ä»¥å‚ä¸ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">LocationRuleHandler</span> <span class="keyword">extends</span> <span class="title">RuleHandler</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">apply</span><span class="params">(Context context)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">boolean</span> allowed = activityService.isSupportedLocation(context.getLocation);</span><br><span class="line">        <span class="keyword">if</span> (allowed) &#123;</span><br><span class="line">            <span class="keyword">if</span> (<span class="keyword">this</span>.getSuccessor() != <span class="keyword">null</span>) &#123;</span><br><span class="line">                <span class="keyword">this</span>.getSuccessor().apply(context);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> RuntimeException(<span class="string">&quot;éå¸¸æŠ±æ­‰ï¼Œæ‚¨æ‰€åœ¨çš„åœ°åŒºæ— æ³•å‚ä¸æœ¬æ¬¡æ´»åŠ¨&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ ¡éªŒå¥–å“æ˜¯å¦å·²é¢†å®Œï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">LimitRuleHandler</span> <span class="keyword">extends</span> <span class="title">RuleHandler</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">apply</span><span class="params">(Context context)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> remainedTimes = activityService.queryRemainedTimes(context); <span class="comment">// æŸ¥è¯¢å‰©ä½™å¥–å“</span></span><br><span class="line">        <span class="keyword">if</span> (remainedTimes &gt; <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="keyword">if</span> (<span class="keyword">this</span>.getSuccessor() != <span class="keyword">null</span>) &#123;</span><br><span class="line">                <span class="keyword">this</span>.getSuccessor().apply(userInfo);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> RuntimeException(<span class="string">&quot;æ‚¨æ¥å¾—å¤ªæ™šäº†ï¼Œå¥–å“è¢«é¢†å®Œäº†&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å®¢æˆ·ç«¯ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">    RuleHandler newUserHandler = <span class="keyword">new</span> NewUserRuleHandler();</span><br><span class="line">    RuleHandler locationHandler = <span class="keyword">new</span> LocationRuleHandler();</span><br><span class="line">    RuleHandler limitHandler = <span class="keyword">new</span> LimitRuleHandler();</span><br><span class="line">  </span><br><span class="line">    <span class="comment">// å‡è®¾æœ¬æ¬¡æ´»åŠ¨ä»…æ ¡éªŒåœ°åŒºå’Œå¥–å“æ•°é‡ï¼Œä¸æ ¡éªŒæ–°è€ç”¨æˆ·</span></span><br><span class="line">    locationHandler.setSuccessor(limitHandler);</span><br><span class="line">  </span><br><span class="line">    locationHandler.apply(context);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä»£ç å…¶å®å¾ˆç®€å•ï¼Œå°±æ˜¯å…ˆå®šä¹‰å¥½ä¸€ä¸ªé“¾è¡¨ï¼Œç„¶ååœ¨é€šè¿‡ä»»æ„ä¸€èŠ‚ç‚¹åï¼Œå¦‚æœæ­¤èŠ‚ç‚¹æœ‰åç»§èŠ‚ç‚¹ï¼Œé‚£ä¹ˆä¼ é€’ä¸‹å»ã€‚</p><p>è‡³äºå®ƒå’Œæˆ‘ä»¬å‰é¢è¯´çš„ç”¨ä¸€ä¸ª List å­˜æ”¾éœ€è¦æ‰§è¡Œçš„è§„åˆ™çš„åšæ³•æœ‰ä»€ä¹ˆå¼‚åŒï¼Œç•™ç»™è¯»è€…è‡ªå·±ç¢ç£¨å§ã€‚</p><h3 id="æ¨¡æ¿æ–¹æ³•æ¨¡å¼"><a href="#æ¨¡æ¿æ–¹æ³•æ¨¡å¼" class="headerlink" title="æ¨¡æ¿æ–¹æ³•æ¨¡å¼"></a>æ¨¡æ¿æ–¹æ³•æ¨¡å¼</h3><p>åœ¨å«æœ‰ç»§æ‰¿ç»“æ„çš„ä»£ç ä¸­ï¼Œæ¨¡æ¿æ–¹æ³•æ¨¡å¼æ˜¯éå¸¸å¸¸ç”¨çš„ã€‚</p><p>é€šå¸¸ä¼šæœ‰ä¸€ä¸ªæŠ½è±¡ç±»ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="class"><span class="keyword">class</span> <span class="title">AbstractTemplate</span> </span>&#123;</span><br><span class="line">    <span class="comment">// è¿™å°±æ˜¯æ¨¡æ¿æ–¹æ³•</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">templateMethod</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        init();</span><br><span class="line">        apply(); <span class="comment">// è¿™ä¸ªæ˜¯é‡ç‚¹</span></span><br><span class="line">        end(); <span class="comment">// å¯ä»¥ä½œä¸ºé’©å­æ–¹æ³•</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">init</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;init æŠ½è±¡å±‚å·²ç»å®ç°ï¼Œå­ç±»ä¹Ÿå¯ä»¥é€‰æ‹©è¦†å†™&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// ç•™ç»™å­ç±»å®ç°</span></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">abstract</span> <span class="keyword">void</span> <span class="title">apply</span><span class="params">()</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">end</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ¨¡æ¿æ–¹æ³•ä¸­è°ƒç”¨äº† 3 ä¸ªæ–¹æ³•ï¼Œå…¶ä¸­ apply() æ˜¯æŠ½è±¡æ–¹æ³•ï¼Œå­ç±»å¿…é¡»å®ç°å®ƒï¼Œå…¶å®æ¨¡æ¿æ–¹æ³•ä¸­æœ‰å‡ ä¸ªæŠ½è±¡æ–¹æ³•å®Œå…¨æ˜¯è‡ªç”±çš„ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥å°†ä¸‰ä¸ªæ–¹æ³•éƒ½è®¾ç½®ä¸ºæŠ½è±¡æ–¹æ³•ï¼Œè®©å­ç±»æ¥å®ç°ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œæ¨¡æ¿æ–¹æ³•åªè´Ÿè´£å®šä¹‰ç¬¬ä¸€æ­¥åº”è¯¥è¦åšä»€ä¹ˆï¼Œç¬¬äºŒæ­¥åº”è¯¥åšä»€ä¹ˆï¼Œç¬¬ä¸‰æ­¥åº”è¯¥åšä»€ä¹ˆï¼Œè‡³äºæ€ä¹ˆåšï¼Œç”±å­ç±»æ¥å®ç°ã€‚</p><p>æˆ‘ä»¬å†™ä¸€ä¸ªå®ç°ç±»ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ConcreteTemplate</span> <span class="keyword">extends</span> <span class="title">AbstractTemplate</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">apply</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;å­ç±»å®ç°æŠ½è±¡æ–¹æ³• apply&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">end</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;æˆ‘ä»¬å¯ä»¥æŠŠ method3 å½“åšé’©å­æ–¹æ³•æ¥ä½¿ç”¨ï¼Œéœ€è¦çš„æ—¶å€™è¦†å†™å°±å¯ä»¥äº†&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å®¢æˆ·ç«¯è°ƒç”¨æ¼”ç¤ºï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">    AbstractTemplate t = <span class="keyword">new</span> ConcreteTemplate();</span><br><span class="line">    <span class="comment">// è°ƒç”¨æ¨¡æ¿æ–¹æ³•</span></span><br><span class="line">    t.templateMethod();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä»£ç å…¶å®å¾ˆç®€å•ï¼ŒåŸºæœ¬ä¸Šçœ‹åˆ°å°±æ‡‚äº†ï¼Œå…³é”®æ˜¯è¦å­¦ä¼šç”¨åˆ°è‡ªå·±çš„ä»£ç ä¸­ã€‚</p><h3 id="çŠ¶æ€æ¨¡å¼"><a href="#çŠ¶æ€æ¨¡å¼" class="headerlink" title="çŠ¶æ€æ¨¡å¼"></a>çŠ¶æ€æ¨¡å¼</h3><p>update: 2017-10-19</p><p>åºŸè¯æˆ‘å°±ä¸è¯´äº†ï¼Œæˆ‘ä»¬è¯´ä¸€ä¸ªç®€å•çš„ä¾‹å­ã€‚å•†å“åº“å­˜ä¸­å¿ƒæœ‰ä¸ªæœ€åŸºæœ¬çš„éœ€æ±‚æ˜¯å‡åº“å­˜å’Œè¡¥åº“å­˜ï¼Œæˆ‘ä»¬çœ‹çœ‹æ€ä¹ˆç”¨çŠ¶æ€æ¨¡å¼æ¥å†™ã€‚</p><p>æ ¸å¿ƒåœ¨äºï¼Œæˆ‘ä»¬çš„å…³æ³¨ç‚¹ä¸å†æ˜¯ Context æ˜¯è¯¥è¿›è¡Œå“ªç§æ“ä½œï¼Œè€Œæ˜¯å…³æ³¨åœ¨è¿™ä¸ª Context ä¼šæœ‰å“ªäº›æ“ä½œã€‚</p><p>å®šä¹‰çŠ¶æ€æ¥å£ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">State</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">doAction</span><span class="params">(Context context)</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å®šä¹‰å‡åº“å­˜çš„çŠ¶æ€ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">DeductState</span> <span class="keyword">implements</span> <span class="title">State</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">doAction</span><span class="params">(Context context)</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;å•†å“å–å‡ºï¼Œå‡†å¤‡å‡åº“å­˜&quot;</span>);</span><br><span class="line">        context.setState(<span class="keyword">this</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//... æ‰§è¡Œå‡åº“å­˜çš„å…·ä½“æ“ä½œ</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">toString</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;Deduct State&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125; </span><br></pre></td></tr></table></figure><p>å®šä¹‰è¡¥åº“å­˜çŠ¶æ€ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">RevertState</span> <span class="keyword">implements</span> <span class="title">State</span> </span>&#123;</span><br><span class="line">  </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">doAction</span><span class="params">(Context context)</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;ç»™æ­¤å•†å“è¡¥åº“å­˜&quot;</span>);</span><br><span class="line">        context.setState(<span class="keyword">this</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//... æ‰§è¡ŒåŠ åº“å­˜çš„å…·ä½“æ“ä½œ</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">toString</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;Revert State&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å‰é¢ç”¨åˆ°äº† context.setState(this)ï¼Œæˆ‘ä»¬æ¥çœ‹çœ‹æ€ä¹ˆå®šä¹‰ Context ç±»ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Context</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> State state;</span><br><span class="line">      <span class="keyword">private</span> String name;</span><br><span class="line">      <span class="function"><span class="keyword">public</span> <span class="title">Context</span><span class="params">(String name)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.name = name;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">      <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setState</span><span class="params">(State state)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.state = state;</span><br><span class="line">    &#125;</span><br><span class="line">      <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">getState</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">this</span>.state;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æˆ‘ä»¬æ¥çœ‹ä¸‹å®¢æˆ·ç«¯è°ƒç”¨ï¼Œå¤§å®¶å°±ä¸€æ¸…äºŒæ¥šäº†ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">    <span class="comment">// æˆ‘ä»¬éœ€è¦æ“ä½œçš„æ˜¯ iPhone X</span></span><br><span class="line">    Context context = <span class="keyword">new</span> Context(<span class="string">&quot;iPhone X&quot;</span>);</span><br><span class="line">      </span><br><span class="line">    <span class="comment">// çœ‹çœ‹æ€ä¹ˆè¿›è¡Œè¡¥åº“å­˜æ“ä½œ</span></span><br><span class="line">      State revertState = <span class="keyword">new</span> RevertState();</span><br><span class="line">      revertState.doAction(context);</span><br><span class="line">  </span><br><span class="line">    <span class="comment">// åŒæ ·çš„ï¼Œå‡åº“å­˜æ“ä½œä¹Ÿéå¸¸ç®€å•</span></span><br><span class="line">      State deductState = <span class="keyword">new</span> DeductState();</span><br><span class="line">      deductState.doAction(context);</span><br><span class="line">  </span><br><span class="line">      <span class="comment">// å¦‚æœéœ€è¦æˆ‘ä»¬å¯ä»¥è·å–å½“å‰çš„çŠ¶æ€</span></span><br><span class="line">    <span class="comment">// context.getState().toString();</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¯»è€…å¯èƒ½ä¼šå‘ç°ï¼Œåœ¨ä¸Šé¢è¿™ä¸ªä¾‹å­ä¸­ï¼Œå¦‚æœæˆ‘ä»¬ä¸å…³å¿ƒå½“å‰ context å¤„äºä»€ä¹ˆçŠ¶æ€ï¼Œé‚£ä¹ˆ Context å°±å¯ä»¥ä¸ç”¨ç»´æŠ¤ state å±æ€§äº†ï¼Œé‚£æ ·ä»£ç ä¼šç®€å•å¾ˆå¤šã€‚</p><p>ä¸è¿‡ï¼Œå•†å“åº“å­˜è¿™ä¸ªä¾‹å­æ¯•ç«Ÿåªæ˜¯ä¸ªä¾‹ï¼Œæˆ‘ä»¬è¿˜æœ‰å¾ˆå¤šå®ä¾‹æ˜¯éœ€è¦çŸ¥é“å½“å‰ context å¤„äºä»€ä¹ˆçŠ¶æ€çš„ã€‚</p><h3 id="è¡Œä¸ºå‹æ¨¡å¼æ€»ç»“"><a href="#è¡Œä¸ºå‹æ¨¡å¼æ€»ç»“" class="headerlink" title="è¡Œä¸ºå‹æ¨¡å¼æ€»ç»“"></a>è¡Œä¸ºå‹æ¨¡å¼æ€»ç»“</h3><p>è¡Œä¸ºå‹æ¨¡å¼éƒ¨åˆ†ä»‹ç»äº†ç­–ç•¥æ¨¡å¼ã€è§‚å¯Ÿè€…æ¨¡å¼ã€è´£ä»»é“¾æ¨¡å¼ã€æ¨¡æ¿æ–¹æ³•æ¨¡å¼å’ŒçŠ¶æ€æ¨¡å¼ï¼Œå…¶å®ï¼Œç»å…¸çš„è¡Œä¸ºå‹æ¨¡å¼è¿˜åŒ…æ‹¬å¤‡å¿˜å½•æ¨¡å¼ã€å‘½ä»¤æ¨¡å¼ç­‰ï¼Œä½†æ˜¯å®ƒä»¬çš„ä½¿ç”¨åœºæ™¯æ¯”è¾ƒæœ‰é™ï¼Œè€Œä¸”æœ¬æ–‡ç¯‡å¹…ä¹ŸæŒºå¤§äº†ï¼Œæˆ‘å°±ä¸è¿›è¡Œä»‹ç»äº†ã€‚</p><h2 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h2><p> å­¦ä¹ è®¾è®¡æ¨¡å¼çš„ç›®çš„æ˜¯ä¸ºäº†è®©æˆ‘ä»¬çš„ä»£ç æ›´åŠ çš„ä¼˜é›…ã€æ˜“ç»´æŠ¤ã€æ˜“æ‰©å±•ã€‚è¿™æ¬¡æ•´ç†è¿™ç¯‡æ–‡ç« ï¼Œè®©æˆ‘é‡æ–°å®¡è§†äº†ä¸€ä¸‹å„ä¸ªè®¾è®¡æ¨¡å¼ï¼Œå¯¹æˆ‘è‡ªå·±è€Œè¨€æ”¶è·è¿˜æ˜¯æŒºå¤§çš„ã€‚æˆ‘æƒ³ï¼Œæ–‡ç« çš„æœ€å¤§æ”¶ç›Šè€…ä¸€èˆ¬éƒ½æ˜¯ä½œè€…æœ¬äººï¼Œä¸ºäº†å†™ä¸€ç¯‡æ–‡ç« ï¼Œéœ€è¦å·©å›ºè‡ªå·±çš„çŸ¥è¯†ï¼Œéœ€è¦å¯»æ‰¾å„ç§èµ„æ–™ï¼Œè€Œä¸”ï¼Œè‡ªå·±å†™è¿‡çš„æ‰æœ€å®¹æ˜“è®°ä½ï¼Œä¹Ÿç®—æ˜¯æˆ‘ç»™è¯»è€…çš„å»ºè®®å§ã€‚</p><p>ï¼ˆå…¨æ–‡å®Œï¼‰</p><h2 id="å‚è€ƒæ–‡ç« "><a href="#å‚è€ƒæ–‡ç« " class="headerlink" title="å‚è€ƒæ–‡ç« "></a>å‚è€ƒæ–‡ç« </h2><blockquote><p>è½¬è‡ª<a href="https://javadoop.com/post/design-pattern">https://javadoop.com/post/design-pattern</a></p></blockquote>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;ä¸€ç›´æƒ³å†™ä¸€ç¯‡ä»‹ç»è®¾è®¡æ¨¡å¼çš„æ–‡ç« ï¼Œè®©è¯»è€…å¯ä»¥å¾ˆå¿«çœ‹å®Œï¼Œè€Œä¸”ä¸€çœ‹å°±æ‡‚ï¼Œçœ‹æ‡‚å°±ä¼šç”¨ï¼ŒåŒæ—¶ä¸ä¼šå°†å„ä¸ªæ¨¡å¼ææ··ã€‚è‡ªè®¤ä¸ºæœ¬æ–‡è¿˜æ˜¯å†™å¾—ä¸é”™çš„ğŸ˜‚ğŸ˜‚ğŸ˜‚ï¼ŒèŠ±äº†ä¸å°‘å¿ƒæ€æ¥å†™è¿™æ–‡ç« å’Œåšå›¾ï¼ŒåŠ›æ±‚è®©è¯»è€…çœŸçš„èƒ½çœ‹ç€ç®€å•åŒæ—¶æœ‰æ‰€æ”¶è·ã€‚&lt;/p&gt;
&lt;p&gt;è®¾è®¡æ¨¡å¼æ˜¯å¯¹å¤§å®¶å®é™…å·¥ä½œä¸­å†™çš„å„ç§ä»£ç è¿›è¡Œé«˜å±‚æ¬¡æŠ½è±¡çš„æ€»ç»“ï¼Œå…¶ä¸­æœ€å‡ºåçš„å½“å± &lt;em&gt;Gang of Four&lt;/em&gt; (&lt;em&gt;GoF&lt;/em&gt;) çš„åˆ†ç±»äº†ï¼Œä»–ä»¬å°†è®¾è®¡æ¨¡å¼åˆ†ç±»ä¸º 23 ç§ç»å…¸çš„æ¨¡å¼ï¼Œæ ¹æ®ç”¨é€”æˆ‘ä»¬åˆå¯ä»¥åˆ†ä¸ºä¸‰å¤§ç±»ï¼Œåˆ†åˆ«ä¸ºåˆ›å»ºå‹æ¨¡å¼ã€ç»“æ„å‹æ¨¡å¼å’Œè¡Œä¸ºå‹æ¨¡å¼ã€‚&lt;/p&gt;
&lt;p&gt;æœ‰ä¸€äº›é‡è¦çš„è®¾è®¡åŸåˆ™åœ¨å¼€ç¯‡å’Œå¤§å®¶åˆ†äº«ä¸‹ï¼Œè¿™äº›åŸåˆ™å°†è´¯é€šå…¨æ–‡ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;é¢å‘æ¥å£ç¼–ç¨‹ï¼Œè€Œä¸æ˜¯é¢å‘å®ç°ã€‚è¿™ä¸ªå¾ˆé‡è¦ï¼Œä¹Ÿæ˜¯ä¼˜é›…çš„ã€å¯æ‰©å±•çš„ä»£ç çš„ç¬¬ä¸€æ­¥ï¼Œè¿™å°±ä¸éœ€è¦å¤šè¯´äº†å§ã€‚&lt;/li&gt;
&lt;li&gt;èŒè´£å•ä¸€åŸåˆ™ã€‚æ¯ä¸ªç±»éƒ½åº”è¯¥åªæœ‰ä¸€ä¸ªå•ä¸€çš„åŠŸèƒ½ï¼Œå¹¶ä¸”è¯¥åŠŸèƒ½åº”è¯¥ç”±è¿™ä¸ªç±»å®Œå…¨å°è£…èµ·æ¥ã€‚&lt;/li&gt;
&lt;li&gt;å¯¹ä¿®æ”¹å…³é—­ï¼Œå¯¹æ‰©å±•å¼€æ”¾ã€‚å¯¹ä¿®æ”¹å…³é—­æ˜¯è¯´ï¼Œæˆ‘ä»¬è¾›è¾›è‹¦è‹¦åŠ ç­å†™å‡ºæ¥çš„ä»£ç ï¼Œè¯¥å®ç°çš„åŠŸèƒ½å’Œè¯¥ä¿®å¤çš„ bug éƒ½å®Œæˆäº†ï¼Œåˆ«äººå¯ä¸èƒ½è¯´æ”¹å°±æ”¹ï¼›å¯¹æ‰©å±•å¼€æ”¾å°±æ¯”è¾ƒå¥½ç†è§£äº†ï¼Œä¹Ÿå°±æ˜¯è¯´åœ¨æˆ‘ä»¬å†™å¥½çš„ä»£ç åŸºç¡€ä¸Šï¼Œå¾ˆå®¹æ˜“å®ç°æ‰©å±•ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;strong&gt;åˆ›å»ºå‹æ¨¡å¼æ¯”è¾ƒç®€å•ï¼Œä½†æ˜¯ä¼šæ¯”è¾ƒæ²¡æœ‰æ„æ€ï¼Œç»“æ„å‹å’Œè¡Œä¸ºå‹æ¯”è¾ƒæœ‰æ„æ€ã€‚&lt;/strong&gt;&lt;/p&gt;
&lt;h2 id=&quot;åˆ›å»ºå‹æ¨¡å¼&quot;&gt;&lt;a href=&quot;#åˆ›å»ºå‹æ¨¡å¼&quot; class=&quot;headerlink&quot; title=&quot;åˆ›å»ºå‹æ¨¡å¼&quot;&gt;&lt;/a&gt;åˆ›å»ºå‹æ¨¡å¼&lt;/h2&gt;&lt;p&gt;åˆ›å»ºå‹æ¨¡å¼çš„ä½œç”¨å°±æ˜¯åˆ›å»ºå¯¹è±¡ï¼Œè¯´åˆ°åˆ›å»ºä¸€ä¸ªå¯¹è±¡ï¼Œæœ€ç†Ÿæ‚‰çš„å°±æ˜¯ new ä¸€ä¸ªå¯¹è±¡ï¼Œç„¶å set ç›¸å…³å±æ€§ã€‚ä½†æ˜¯ï¼Œåœ¨å¾ˆå¤šåœºæ™¯ä¸‹ï¼Œæˆ‘ä»¬éœ€è¦ç»™å®¢æˆ·ç«¯æä¾›æ›´åŠ å‹å¥½çš„åˆ›å»ºå¯¹è±¡çš„æ–¹å¼ï¼Œå°¤å…¶æ˜¯é‚£ç§æˆ‘ä»¬å®šä¹‰äº†ç±»ï¼Œä½†æ˜¯éœ€è¦æä¾›ç»™å…¶ä»–å¼€å‘è€…ç”¨çš„æ—¶å€™ã€‚&lt;/p&gt;
&lt;h3 id=&quot;ç®€å•å·¥å‚æ¨¡å¼&quot;&gt;&lt;a href=&quot;#ç®€å•å·¥å‚æ¨¡å¼&quot; class=&quot;headerlink&quot; title=&quot;ç®€å•å·¥å‚æ¨¡å¼&quot;&gt;&lt;/a&gt;ç®€å•å·¥å‚æ¨¡å¼&lt;/h3&gt;&lt;p&gt;å’Œåå­—ä¸€æ ·ç®€å•ï¼Œéå¸¸ç®€å•ï¼Œç›´æ¥ä¸Šä»£ç å§ï¼š&lt;/p&gt;
&lt;figure class=&quot;highlight java&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;class&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;FoodFactory&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;static&lt;/span&gt; Food &lt;span class=&quot;title&quot;&gt;makeFood&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(String name)&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (name.equals(&lt;span class=&quot;string&quot;&gt;&amp;quot;noodle&amp;quot;&lt;/span&gt;)) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            Food noodle = &lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; LanZhouNoodle();&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            noodle.addSpicy(&lt;span class=&quot;string&quot;&gt;&amp;quot;more&amp;quot;&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; noodle;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &amp;#125; &lt;span class=&quot;keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (name.equals(&lt;span class=&quot;string&quot;&gt;&amp;quot;chicken&amp;quot;&lt;/span&gt;)) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            Food chicken = &lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; HuangMenChicken();&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            chicken.addCondiment(&lt;span class=&quot;string&quot;&gt;&amp;quot;potato&amp;quot;&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; chicken;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &amp;#125; &lt;span class=&quot;keyword&quot;&gt;else&lt;/span&gt; &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;null&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;p&gt;&lt;em&gt;å…¶ä¸­ï¼ŒLanZhouNoodle å’Œ HuangMenChicken éƒ½ç»§æ‰¿è‡ª Foodã€‚&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;ç®€å•åœ°è¯´ï¼Œç®€å•å·¥å‚æ¨¡å¼é€šå¸¸å°±æ˜¯è¿™æ ·ï¼Œä¸€ä¸ªå·¥å‚ç±» XxxFactoryï¼Œé‡Œé¢æœ‰ä¸€ä¸ªé™æ€æ–¹æ³•ï¼Œæ ¹æ®æˆ‘ä»¬ä¸åŒçš„å‚æ•°ï¼Œè¿”å›ä¸åŒçš„æ´¾ç”Ÿè‡ªåŒä¸€ä¸ªçˆ¶ç±»ï¼ˆæˆ–å®ç°åŒä¸€æ¥å£ï¼‰çš„å®ä¾‹å¯¹è±¡ã€‚&lt;/p&gt;
    
    </summary>
    
    
    
      <category term="Java" scheme="http://yoursite.com/tags/Java/"/>
    
      <category term="è®¾è®¡æ¨¡å¼" scheme="http://yoursite.com/tags/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/"/>
    
  </entry>
  
  <entry>
    <title>PATåˆ·é¢˜æ€»ç»“</title>
    <link href="http://yoursite.com/2020/07/30/PAT/"/>
    <id>http://yoursite.com/2020/07/30/PAT/</id>
    <published>2020-07-30T10:30:00.000Z</published>
    <updated>2020-09-04T14:57:12.955Z</updated>
    
    <content type="html"><![CDATA[<h1 id="ç¬¬ä¸€éƒ¨åˆ†-ç¼–ç¨‹æŠ€å·§"><a href="#ç¬¬ä¸€éƒ¨åˆ†-ç¼–ç¨‹æŠ€å·§" class="headerlink" title="ç¬¬ä¸€éƒ¨åˆ† ç¼–ç¨‹æŠ€å·§"></a>ç¬¬ä¸€éƒ¨åˆ† ç¼–ç¨‹æŠ€å·§</h1><h2 id="1-å­—ç¬¦ä¸²"><a href="#1-å­—ç¬¦ä¸²" class="headerlink" title="1. å­—ç¬¦ä¸²"></a>1. å­—ç¬¦ä¸²</h2><h3 id="substr"><a href="#substr" class="headerlink" title="substr()"></a><code>substr()</code></h3><p>vs2008 å¯ä»¥ä½¿ç”¨<code>substr</code>, å…·ä½“ä½¿ç”¨æ–¹æ³•<code>substr(èµ·å§‹åœ°å€, æˆªå–é•¿åº¦)</code>  </p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">string</span> a = <span class="string">&quot;sdfsdfs&quot;</span>;</span><br><span class="line"><span class="built_in">string</span> sub_a = a.substr(<span class="number">2</span>,<span class="number">2</span>);<span class="comment">//è¾“å‡ºfs</span></span><br></pre></td></tr></table></figure><h3 id="string-èµ‹å€¼"><a href="#string-èµ‹å€¼" class="headerlink" title="string èµ‹å€¼"></a><code>string</code> èµ‹å€¼</h3><ol><li><code>=</code> å°† <code>a</code> èµ‹å€¼ç»™ <code>b</code><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">b = a;</span><br></pre></td></tr></table></figure></li><li><code>string</code> èµ‹å€¼ç”¨ <code>assign</code> å°† <code>a</code> èµ‹å€¼ç»™ <code>b</code><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">b.assign(a);</span><br></pre></td></tr></table></figure><h3 id="string-è¾“å…¥"><a href="#string-è¾“å…¥" class="headerlink" title="string è¾“å…¥"></a><code>string</code> è¾“å…¥</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">string</span> a;</span><br><span class="line"><span class="built_in">cin</span> &gt;&gt; a;</span><br></pre></td></tr></table></figure><h3 id="string-è¾“å‡º"><a href="#string-è¾“å‡º" class="headerlink" title="string è¾“å‡º"></a><code>string</code> è¾“å‡º</h3>ä¸æ ¼å¼åŒ–ï¼Œç”¨<code>cout</code>æ¯”è¾ƒæ–¹ä¾¿<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">string</span> a = <span class="string">&quot;12345&quot;</span>;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; a;</span><br></pre></td></tr></table></figure><h4 id="å½“-string-é‡åˆ°-printf-æ—¶"><a href="#å½“-string-é‡åˆ°-printf-æ—¶" class="headerlink" title="å½“ string é‡åˆ° printf æ—¶"></a>å½“ <code>string</code> é‡åˆ° <code>printf</code> æ—¶</h4>ä½¿ç”¨ <code>string</code> é…åˆ <code>printf(&quot;%s&quot;) </code>ä½¿ç”¨æ—¶ï¼Œè¦æ³¨æ„ä½¿ç”¨ <code>a.c_str()</code> å°† <code>string</code> è½¬åŒ–æˆ <code>char *</code><h3 id="è§£å†³åœ¨vs2008è¾ƒè€IDEä¸Šæ— æ³•ä½¿ç”¨stoi-çš„æ›¿ä»£æ–¹æ¡ˆ"><a href="#è§£å†³åœ¨vs2008è¾ƒè€IDEä¸Šæ— æ³•ä½¿ç”¨stoi-çš„æ›¿ä»£æ–¹æ¡ˆ" class="headerlink" title="è§£å†³åœ¨vs2008è¾ƒè€IDEä¸Šæ— æ³•ä½¿ç”¨stoi()çš„æ›¿ä»£æ–¹æ¡ˆ"></a>è§£å†³åœ¨vs2008è¾ƒè€IDEä¸Šæ— æ³•ä½¿ç”¨<code>stoi()</code>çš„æ›¿ä»£æ–¹æ¡ˆ</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">string</span> str = <span class="string">&quot;12345&quot;</span>;</span><br><span class="line"><span class="keyword">int</span> num = atoi(str.c_str());</span><br></pre></td></tr></table></figure><h3 id="æ•°å­—-lt-gt-å­—ç¬¦"><a href="#æ•°å­—-lt-gt-å­—ç¬¦" class="headerlink" title="æ•°å­—&lt;==&gt;å­—ç¬¦"></a>æ•°å­—&lt;==&gt;å­—ç¬¦</h3>å¯ä»¥ä½¿ç”¨ 1 = â€˜1â€™ - â€˜0â€™(â€˜1â€™ = 1 + â€˜0â€™)å®ç°<br>è‹±æ–‡åŒç†</li></ol><h3 id="æ•°å­—-lt-gt-å­—ç¬¦ä¸²ï¼ˆstringï¼‰"><a href="#æ•°å­—-lt-gt-å­—ç¬¦ä¸²ï¼ˆstringï¼‰" class="headerlink" title="æ•°å­—&lt;==&gt;å­—ç¬¦ä¸²ï¼ˆstringï¼‰"></a>æ•°å­—&lt;==&gt;å­—ç¬¦ä¸²ï¼ˆstringï¼‰</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">char str[10];    </span><br><span class="line">string s;</span><br><span class="line">int a &#x3D; 1234321;     </span><br><span class="line">sprintf(str, &quot;%d&quot;, a);&#x2F;&#x2F;é™¤äº†ç¬¬ä¸€ä¸ªè¾“å‡ºå‚æ•° åé¢ä¸¤ä¸ªå‚æ•°å’Œprintfä¸€æ ·</span><br><span class="line"></span><br><span class="line">s &#x3D; str;&#x2F;&#x2F;èµ‹å€¼å³å¯å°† char * è½¬åŒ–ä¸º string</span><br></pre></td></tr></table></figure><a id="more"></a><h2 id="2-å˜é‡åˆå§‹åŒ–"><a href="#2-å˜é‡åˆå§‹åŒ–" class="headerlink" title="2. å˜é‡åˆå§‹åŒ–"></a>2. å˜é‡åˆå§‹åŒ–</h2><blockquote><p>ä½¿ç”¨å…¨å±€å˜é‡ï¼Œåœ¨å®šä¹‰æ—¶ï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨åˆå§‹åŒ–</p></blockquote><p>å¦‚ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> a[<span class="number">5</span>];<span class="comment">//ä¼šè‡ªåŠ¨åˆå§‹åŒ– å…¨0</span></span><br><span class="line"><span class="keyword">bool</span> a[<span class="number">5</span>];<span class="comment">//ä¼šè‡ªåŠ¨åˆå§‹åŒ– å…¨false</span></span><br></pre></td></tr></table></figure><h2 id="3-map"><a href="#3-map" class="headerlink" title="3. map"></a>3. <code>map</code></h2><h3 id="map-åˆ¤æ–­é”®å€¼æ˜¯å¦å­˜åœ¨"><a href="#map-åˆ¤æ–­é”®å€¼æ˜¯å¦å­˜åœ¨" class="headerlink" title="map åˆ¤æ–­é”®å€¼æ˜¯å¦å­˜åœ¨"></a><code>map</code> åˆ¤æ–­é”®å€¼æ˜¯å¦å­˜åœ¨</h3><p><code>map&lt;key,value&gt;</code>ä¸¾ä¾‹ï¼Œfind()æ–¹æ³•è¿”å›å€¼æ˜¯ä¸€ä¸ªè¿­ä»£å™¨ï¼ŒæˆåŠŸè¿”å›è¿­ä»£å™¨æŒ‡å‘è¦æŸ¥æ‰¾çš„å…ƒç´ ï¼Œå¤±è´¥è¿”å›çš„è¿­ä»£å™¨æŒ‡å‘endã€‚count()æ–¹æ³•è¿”å›å€¼æ˜¯ä¸€ä¸ªæ•´æ•°ï¼Œ1è¡¨ç¤ºæœ‰è¿™ä¸ªå…ƒç´ ï¼Œ0è¡¨ç¤ºæ²¡æœ‰è¿™ä¸ªå…ƒç´ ã€‚</p><h3 id="ä½¿ç”¨-map-å¯ä»¥æ–¹ä¾¿æŸ¥è¯¢ä¸€ä¸ªå…ƒç´ æ˜¯å¦åœ¨çº¿æ€§è¡¨ä¸­"><a href="#ä½¿ç”¨-map-å¯ä»¥æ–¹ä¾¿æŸ¥è¯¢ä¸€ä¸ªå…ƒç´ æ˜¯å¦åœ¨çº¿æ€§è¡¨ä¸­" class="headerlink" title="ä½¿ç”¨ map å¯ä»¥æ–¹ä¾¿æŸ¥è¯¢ä¸€ä¸ªå…ƒç´ æ˜¯å¦åœ¨çº¿æ€§è¡¨ä¸­"></a>ä½¿ç”¨ <code>map</code> å¯ä»¥æ–¹ä¾¿æŸ¥è¯¢ä¸€ä¸ªå…ƒç´ æ˜¯å¦åœ¨çº¿æ€§è¡¨ä¸­</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">a.count(b);<span class="comment">//bæ˜¯å¦åœ¨aä¸­ï¼Œç­‰äº0è¡¨ç¤ºä¸åœ¨ï¼Œç­‰äº1è¡¨ç¤ºåœ¨</span></span><br></pre></td></tr></table></figure><h2 id="4-æ ¼å¼è¾“å‡ºé—®é¢˜"><a href="#4-æ ¼å¼è¾“å‡ºé—®é¢˜" class="headerlink" title="4. æ ¼å¼è¾“å‡ºé—®é¢˜"></a>4. æ ¼å¼è¾“å‡ºé—®é¢˜</h2><ol><li>è‹¥ç»“æœä¸ºdoubleç­‰æµ®ç‚¹æ•°æ—¶ï¼Œéœ€è¦è¾“å‡ºæ•´æ•°éƒ¨åˆ†ï¼Œå°½é‡æå‰å¼ºåˆ¶è½¬æ¢ï¼Œé¿å…åç»­å‡ºç°æ¯”è¾ƒé—®é¢˜</li></ol><h2 id="5-æ¯”è¾ƒé—®é¢˜"><a href="#5-æ¯”è¾ƒé—®é¢˜" class="headerlink" title="5. æ¯”è¾ƒé—®é¢˜"></a>5. æ¯”è¾ƒé—®é¢˜</h2><h3 id="é‡åˆ°ç¼–å·æ—¶-ä½¿ç”¨stringæ¥å®šä¹‰é¿å…ä¸å¿…è¦çš„éº»çƒ¦"><a href="#é‡åˆ°ç¼–å·æ—¶-ä½¿ç”¨stringæ¥å®šä¹‰é¿å…ä¸å¿…è¦çš„éº»çƒ¦" class="headerlink" title="é‡åˆ°ç¼–å·æ—¶ ä½¿ç”¨stringæ¥å®šä¹‰é¿å…ä¸å¿…è¦çš„éº»çƒ¦"></a>é‡åˆ°ç¼–å·æ—¶ ä½¿ç”¨stringæ¥å®šä¹‰é¿å…ä¸å¿…è¦çš„éº»çƒ¦</h3><h3 id="å¯¹äºç¼–å·çš„åˆ¤ç­‰"><a href="#å¯¹äºç¼–å·çš„åˆ¤ç­‰" class="headerlink" title="å¯¹äºç¼–å·çš„åˆ¤ç­‰"></a>å¯¹äºç¼–å·çš„åˆ¤ç­‰</h3><p>å¦‚089 å’Œ 89æ˜¯ä¸ä¸€æ ·çš„ï¼Œè¦ä½¿ç”¨ <code>strcmp</code> æ¥åˆ¤æ–­</p><h3 id="double-float-æ¯”è¾ƒ"><a href="#double-float-æ¯”è¾ƒ" class="headerlink" title="double float æ¯”è¾ƒ"></a><code>double float</code> æ¯”è¾ƒ</h3><p>ä¸èƒ½ç›´æ¥ä½¿ç”¨ <code>==</code></p><h2 id="6-C-C-è¯­è¨€å¸¸ç”¨å‡½æ•°"><a href="#6-C-C-è¯­è¨€å¸¸ç”¨å‡½æ•°" class="headerlink" title="6. C/C++è¯­è¨€å¸¸ç”¨å‡½æ•°"></a>6. C/C++è¯­è¨€å¸¸ç”¨å‡½æ•°</h2><h3 id="algorithmå¤´"><a href="#algorithmå¤´" class="headerlink" title="algorithmå¤´"></a>algorithmå¤´</h3><ol><li>fill<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//è¯­æ³•æè¿°fill(begin, end, val) valä¸ºæ›¿æ¢çš„å€¼</span></span><br><span class="line"><span class="comment">//ä¸€ç»´æ•°ç»„</span></span><br><span class="line"><span class="built_in">fill</span>(a, a+<span class="number">4</span>, val);</span><br><span class="line"><span class="comment">//äºŒç»´æ•°ç»„</span></span><br><span class="line"><span class="built_in">fill</span>(a[<span class="number">0</span>], a[<span class="number">0</span>]+<span class="number">4</span>*<span class="number">4</span>, val);</span><br><span class="line"><span class="comment">//vector</span></span><br><span class="line"><span class="built_in">fill</span>(v.<span class="built_in">begin</span>(), v.<span class="built_in">end</span>(), val);</span><br></pre></td></tr></table></figure></li><li>sort<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//è¯­æ³•æè¿°sort(begin, end, cmp) cmpå‚æ•°å¯ä»¥æ²¡æœ‰ï¼Œå¦‚æœæ²¡æœ‰é»˜è®¤éé™åºæ’åº</span></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">cmp</span><span class="params">(<span class="keyword">int</span> a, <span class="keyword">int</span> b)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="comment">//æ’åºè§„åˆ™</span></span><br><span class="line">    <span class="keyword">if</span>(a == b)</span><br><span class="line">        <span class="keyword">return</span> a &lt; b;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//æ•°ç»„</span></span><br><span class="line"><span class="keyword">int</span> a[<span class="number">4</span>] = &#123;<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>&#125;;</span><br><span class="line">sort(a, a+<span class="number">4</span>, cmp);</span><br><span class="line"><span class="comment">//vector</span></span><br><span class="line"><span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; v;</span><br><span class="line">sort(v.<span class="built_in">begin</span>(), v.<span class="built_in">end</span>(), cmp);</span><br></pre></td></tr></table></figure></li><li>copy<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> a[] = &#123;<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>&#125;, b[<span class="number">4</span>];</span><br><span class="line">copy(a, a+<span class="number">4</span>, b);<span class="comment">//å°†aæ‹·è´ç»™b</span></span><br></pre></td></tr></table></figure><h3 id="string-cstringå¤´"><a href="#string-cstringå¤´" class="headerlink" title="string/cstringå¤´"></a>string/cstringå¤´</h3></li><li>sprintf<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">char</span> str_2[<span class="number">10</span>];    </span><br><span class="line"><span class="keyword">int</span> a = <span class="number">1234321</span>;     </span><br><span class="line"><span class="built_in">sprintf</span>(str_2, <span class="string">&quot;%d&quot;</span>, a);<span class="comment">//å°†æ•°å­—aè½¬åŒ–ä¸ºcharå­—ç¬¦æ•°ç»„ï¼ˆå­—ç¬¦ä¸²ï¼‰è¾“å‡ºåˆ°str_2ä¸­</span></span><br></pre></td></tr></table></figure></li><li>atoi<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//å­—ç¬¦ä¸²ï¼ˆchar *ï¼‰è½¬æ•°å­—</span></span><br></pre></td></tr></table></figure><h2 id="7-å®å®šä¹‰-å¸¸é‡å®šä¹‰"><a href="#7-å®å®šä¹‰-å¸¸é‡å®šä¹‰" class="headerlink" title="7. å®å®šä¹‰ å¸¸é‡å®šä¹‰"></a>7. å®å®šä¹‰ å¸¸é‡å®šä¹‰</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">define</span> N 123 <span class="comment">//å®å®šä¹‰ åé¢æ²¡æœ‰;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> N = <span class="number">123</span>;<span class="comment">//å¸¸é‡å®šä¹‰</span></span><br></pre></td></tr></table></figure><h3 id="queueå¤´"><a href="#queueå¤´" class="headerlink" title="queueå¤´"></a>queueå¤´</h3></li><li>priority_queueä¼˜å…ˆé˜Ÿåˆ—<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">priority_queue</span>&lt;<span class="keyword">int</span>, <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;, greater&lt;<span class="keyword">int</span>&gt; &gt; q;<span class="comment">//ä»å°åˆ°å¤§çš„ä¼˜å…ˆçº§é˜Ÿåˆ—ï¼Œå¯å°†greateræ”¹ä¸ºlessï¼Œå³ä¸ºä»å¤§åˆ°å°</span></span><br></pre></td></tr></table></figure></li></ol><h1 id="ç¬¬äºŒéƒ¨åˆ†-æ•°å­¦é—®é¢˜"><a href="#ç¬¬äºŒéƒ¨åˆ†-æ•°å­¦é—®é¢˜" class="headerlink" title="ç¬¬äºŒéƒ¨åˆ† æ•°å­¦é—®é¢˜"></a>ç¬¬äºŒéƒ¨åˆ† æ•°å­¦é—®é¢˜</h1><h2 id="1-æ±‚æœ€å¤§å…¬çº¦æ•°ä¸æœ€å°å…¬å€æ•°"><a href="#1-æ±‚æœ€å¤§å…¬çº¦æ•°ä¸æœ€å°å…¬å€æ•°" class="headerlink" title="1. æ±‚æœ€å¤§å…¬çº¦æ•°ä¸æœ€å°å…¬å€æ•°"></a>1. æ±‚æœ€å¤§å…¬çº¦æ•°ä¸æœ€å°å…¬å€æ•°</h2><h3 id="æœ€å¤§å…¬çº¦æ•°ï¼ˆè¾—è½¬ç›¸é™¤æ³•ï¼‰"><a href="#æœ€å¤§å…¬çº¦æ•°ï¼ˆè¾—è½¬ç›¸é™¤æ³•ï¼‰" class="headerlink" title="æœ€å¤§å…¬çº¦æ•°ï¼ˆè¾—è½¬ç›¸é™¤æ³•ï¼‰"></a>æœ€å¤§å…¬çº¦æ•°ï¼ˆè¾—è½¬ç›¸é™¤æ³•ï¼‰</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">gcd</span><span class="params">(<span class="keyword">int</span> a, <span class="keyword">int</span> b)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(b == <span class="number">0</span>)</span><br><span class="line">        <span class="keyword">return</span> a;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">        <span class="keyword">return</span> gcd(b, a%b);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="æœ€å°å…¬å€æ•°"><a href="#æœ€å°å…¬å€æ•°" class="headerlink" title="æœ€å°å…¬å€æ•°"></a>æœ€å°å…¬å€æ•°</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">lcm</span><span class="params">(<span class="keyword">int</span> a, <span class="keyword">int</span> b)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> (a/gcd(a, b))*b;<span class="comment">//é˜²æ­¢(a*b)/gcd(a, b)è®¡ç®—æº¢å‡º</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="2-ç´ æ•°åˆ¤æ–­"><a href="#2-ç´ æ•°åˆ¤æ–­" class="headerlink" title="2. ç´ æ•°åˆ¤æ–­"></a>2. ç´ æ•°åˆ¤æ–­</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">isPrime</span><span class="params">(<span class="keyword">int</span> n)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(n &lt; <span class="number">2</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">2</span>; i * i &lt; n; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span>(n % i == <span class="number">0</span>)</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="ç¬¬ä¸‰éƒ¨åˆ†-å¸¸è§æ•°æ®ç»“æ„"><a href="#ç¬¬ä¸‰éƒ¨åˆ†-å¸¸è§æ•°æ®ç»“æ„" class="headerlink" title="ç¬¬ä¸‰éƒ¨åˆ† å¸¸è§æ•°æ®ç»“æ„"></a>ç¬¬ä¸‰éƒ¨åˆ† å¸¸è§æ•°æ®ç»“æ„</h1><h2 id="1-é“¾è¡¨"><a href="#1-é“¾è¡¨" class="headerlink" title="1. é“¾è¡¨"></a>1. é“¾è¡¨</h2><p>é™æ€é“¾è¡¨é¢˜åŸºæœ¬å¥—è·¯</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//é¦–å…ˆå®šä¹‰é“¾è¡¨èŠ‚ç‚¹ç»“æ„ä½“</span></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Node</span>&#123;</span></span><br><span class="line">    <span class="keyword">int</span> address;<span class="comment">//åœ°å€</span></span><br><span class="line">    <span class="keyword">int</span> val;</span><br><span class="line">    <span class="keyword">int</span> nextAd;<span class="comment">//ä¸‹ä¸€ä¸ªåœ°å€</span></span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">//å®šä¹‰å¤§æ•°ç»„ï¼Œä¿å­˜è¾“å…¥çš„èŠ‚ç‚¹ä¿¡æ¯ ç”¨äºè¾“å…¥ä¹‹åå¤„ç†</span></span><br><span class="line">Node <span class="built_in">list</span>[<span class="number">100001</span>];</span><br><span class="line"><span class="comment">//è¾“å…¥ç¤ºä¾‹</span></span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; i++)<span class="comment">//ä»1å¼€å§‹éå†</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d%d%d&quot;</span>, &amp;a, &amp;b, &amp;c);</span><br><span class="line">    <span class="built_in">list</span>[a].address = a;</span><br><span class="line">    <span class="built_in">list</span>[a].val = b;</span><br><span class="line">    <span class="built_in">list</span>[a].nextAd = c;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//å®šä¹‰é“¾è¡¨å‘é‡ ç”¨äºå­˜å‚¨æ•´ç†åçš„é“¾è¡¨ï¼ˆç”±ä¹±å˜ä¸ºé¡ºåºç»“æ„ï¼‰</span></span><br><span class="line"><span class="built_in">vector</span>&lt;Node&gt; v, res;</span><br><span class="line"><span class="comment">//å¤„ç†è¿‡ç¨‹ç¤ºä¾‹ adè¡¨ç¤ºåˆå§‹åœ°å€</span></span><br><span class="line"><span class="keyword">for</span>(;ad != <span class="number">-1</span>; ad = <span class="built_in">list</span>[ad].nextAd)</span><br><span class="line">        v.push_back(<span class="built_in">list</span>[ad]);</span><br><span class="line"><span class="comment">//å‰©ä¸‹çš„å°±æ˜¯æ ¹æ®é¢˜æ„çš„æœ€åå¤„ç†ï¼Œå¹¶å°†å¤„ç†ç»“æœä¿å­˜åœ¨resä¸­</span></span><br></pre></td></tr></table></figure><h2 id="2-å›¾"><a href="#2-å›¾" class="headerlink" title="2. å›¾"></a>2. å›¾</h2><h3 id="è¿é€šåˆ†é‡"><a href="#è¿é€šåˆ†é‡" class="headerlink" title="è¿é€šåˆ†é‡"></a>è¿é€šåˆ†é‡</h3><h3 id="å¼ºè¿é€šåˆ†é‡"><a href="#å¼ºè¿é€šåˆ†é‡" class="headerlink" title="å¼ºè¿é€šåˆ†é‡"></a>å¼ºè¿é€šåˆ†é‡</h3><h3 id="é‚»æ¥è¡¨ä¸é‚»æ¥çŸ©é˜µ"><a href="#é‚»æ¥è¡¨ä¸é‚»æ¥çŸ©é˜µ" class="headerlink" title="é‚»æ¥è¡¨ä¸é‚»æ¥çŸ©é˜µ"></a>é‚»æ¥è¡¨ä¸é‚»æ¥çŸ©é˜µ</h3><p>é‚»æ¥çŸ©é˜µæ¯”è¾ƒæ–¹ä¾¿ï¼Œä½†åœ¨æ•°æ®é‡å¾ˆå¤§çš„æ—¶å€™ï¼Œé‚»æ¥è¡¨æ¯”è¾ƒèŠ‚çœç©ºé—´</p><h3 id="å›¾çš„éå†"><a href="#å›¾çš„éå†" class="headerlink" title="å›¾çš„éå†"></a>å›¾çš„éå†</h3><h4 id="DFS"><a href="#DFS" class="headerlink" title="DFS"></a>DFS</h4><blockquote><p>ä¸€èˆ¬ä½¿ç”¨DFSå¯ä»¥è§£å†³å›¾çš„éå†ã€æŸ¥å¹¶é›†ç­‰é—®é¢˜<br>é‚»æ¥çŸ©é˜µç‰ˆ</p></blockquote><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> g[<span class="number">1001</span>][<span class="number">1001</span>], n;<span class="comment">//é‚»æ¥çŸ©é˜µ</span></span><br><span class="line"><span class="keyword">bool</span> vis[<span class="number">1001</span>];<span class="comment">//è®¿é—®è®°å½•</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">dfs</span><span class="params">(<span class="keyword">int</span> u)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    vis[u] = <span class="literal">true</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span>(vis[i] == <span class="literal">false</span> &amp;&amp; g[u][i] != INF)</span><br><span class="line">            dfs(i);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">DFSTrave</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> u = <span class="number">0</span>; u &lt; n; u++)<span class="comment">//å¯¹æ¯ä¸ªç»“ç‚¹</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span>(vis[u] == <span class="literal">false</span>)</span><br><span class="line">            dfs(u);<span class="comment">//è®¿é—®uå’Œuæ‰€åœ¨çš„è¿é€šå—</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>é‚»æ¥è¡¨ç‰ˆ</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; g[<span class="number">1001</span>];<span class="comment">//é‚»æ¥çŸ©é˜µ</span></span><br><span class="line"><span class="keyword">int</span> n;<span class="comment">//é¡¶ç‚¹æ•°</span></span><br><span class="line"><span class="keyword">bool</span> vis[<span class="number">1001</span>];<span class="comment">//è®¿é—®è®°å½•</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">dfs</span><span class="params">(<span class="keyword">int</span> u)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    vis[u] = <span class="literal">true</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; g[u].<span class="built_in">size</span>(); i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">int</span> v = g[u][i];</span><br><span class="line">        <span class="keyword">if</span>(vis[v] == <span class="literal">false</span>)</span><br><span class="line">            dfs(v);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">DFSTrave</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> u = <span class="number">0</span>; u &lt; n; u++)<span class="comment">//å¯¹æ¯ä¸ªç»“ç‚¹</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span>(vis[u] == <span class="literal">false</span>)</span><br><span class="line">            dfs(u);<span class="comment">//è®¿é—®uå’Œuæ‰€åœ¨çš„è¿é€šå—</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="BFS"><a href="#BFS" class="headerlink" title="BFS"></a>BFS</h4><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> g[<span class="number">1001</span>][<span class="number">1001</span>], n;</span><br><span class="line"><span class="keyword">bool</span> inq[<span class="number">1001</span>] = &#123;<span class="literal">false</span>&#125;;<span class="comment">//æ˜¯å¦å…¥é˜Ÿ</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">BFS</span><span class="params">(<span class="keyword">int</span> u)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">queue</span>&lt;<span class="keyword">int</span>&gt; q;</span><br><span class="line">    q.push(u);</span><br><span class="line">    inq[u] = <span class="literal">true</span>;</span><br><span class="line">    <span class="keyword">while</span>(!q.empty())</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">int</span> u = q.front();<span class="comment">//å–å‡ºé˜Ÿé¦–å…ƒç´ </span></span><br><span class="line">        q.pop();<span class="comment">//é˜Ÿé¦–å…ƒç´ å‡ºé˜Ÿ</span></span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> v = <span class="number">0</span>; v &lt; n; v++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="comment">//æ‰¾åˆ°æœªå…¥é˜Ÿå¹¶ä¸”æ˜¯uç‚¹çš„åé©±ç»“ç‚¹</span></span><br><span class="line">            <span class="keyword">if</span>(inq[v] == <span class="literal">false</span> &amp;&amp; g[u][v] != INF)</span><br><span class="line">                q.push(v);</span><br><span class="line">                inq[v] = <span class="literal">true</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">BFSTrave</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> u = <span class="number">0</span>; u &lt; n; u++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span>(inq[u] == <span class="literal">false</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            BFS(u);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="Dijkstra"><a href="#Dijkstra" class="headerlink" title="Dijkstra"></a>Dijkstra</h4><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> INF = <span class="number">99999999</span>;<span class="comment">//å¸¸é‡å®šä¹‰</span></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> MAXV = <span class="number">1001</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> g[MAXV][MAXV], nv;<span class="comment">//nvé¡¶ç‚¹ä¸ªæ•° gä¹Ÿéœ€è¦åˆå§‹åŒ– å½“ç„¶è¿™é‡Œæ²¡æœ‰å†™å‡ºæ¥</span></span><br><span class="line"><span class="keyword">bool</span> vis[MAXV] = &#123;<span class="literal">false</span>&#125;;</span><br><span class="line"><span class="keyword">int</span> dis[MAXV];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">dijkstra</span><span class="params">(<span class="keyword">int</span> s)</span><span class="comment">//sæ˜¯èµ·ç‚¹</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">fill</span>(dis, dis+MAXV, INF);</span><br><span class="line">    dis[s] = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; nv; i++)<span class="comment">//å¯¹æ¯ä¸ªç‚¹ æ¯æ¬¡è®¿é—®ä¸€ä¸ªç‚¹</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">int</span> u = <span class="number">-1</span>, <span class="built_in">min</span> = INF;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">1</span>; j &lt;= nv; j++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span>(vis[j] == <span class="literal">false</span> &amp;&amp; dis[j] &lt; <span class="built_in">min</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="built_in">min</span> = dis[j];</span><br><span class="line">                u = j;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(u == <span class="number">-1</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        vis[u] = <span class="literal">true</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> v = <span class="number">1</span>; v &lt;= nv; v++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span>(vis[v] == <span class="literal">false</span> &amp;&amp; g[u][v] != INF &amp;&amp; dis[u] + g[u][v] &lt; dis[v])</span><br><span class="line">                dis[v] = dis[u] + g[u][v];<span class="comment">//ä¼˜åŒ–</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="3-æ ‘"><a href="#3-æ ‘" class="headerlink" title="3. æ ‘"></a>3. æ ‘</h2><h3 id="å®Œå…¨äºŒå‰æ ‘"><a href="#å®Œå…¨äºŒå‰æ ‘" class="headerlink" title="å®Œå…¨äºŒå‰æ ‘"></a>å®Œå…¨äºŒå‰æ ‘</h3><p>é™¤äº†æœ€ä¸‹é¢ä¸€å±‚ä¹‹å¤–ï¼Œå…¶ä½™å±‚çš„ç»“ç‚¹ä¸ªæ•°éƒ½è¾¾åˆ°äº†å½“å‰å±‚èƒ½è¾¾åˆ°çš„æœ€å¤§ç»“ç‚¹æ•°ï¼Œä¸”æœ€ä¸‹é¢ä¸€å±‚åªä»å·¦åˆ°å³è¿ç»­å­˜åœ¨è‹¥å¹²ç»“ç‚¹ï¼Œè€Œè¿™äº›è¿ç»­ç»“ç‚¹å³è¾¹ä¸å­˜åœ¨ç»“ç‚¹ã€‚</p><p><img src="/2020/07/30/PAT/CompleteBinaryTree.jpg" alt="Complete Binary Tree"></p><h3 id="äºŒå‰æœç´¢æ ‘-äºŒå‰æŸ¥æ‰¾æ ‘-äºŒå‰æ’åºæ ‘ï¼ˆBST-binary-search-treeï¼‰"><a href="#äºŒå‰æœç´¢æ ‘-äºŒå‰æŸ¥æ‰¾æ ‘-äºŒå‰æ’åºæ ‘ï¼ˆBST-binary-search-treeï¼‰" class="headerlink" title="äºŒå‰æœç´¢æ ‘/äºŒå‰æŸ¥æ‰¾æ ‘/äºŒå‰æ’åºæ ‘ï¼ˆBST, binary search treeï¼‰"></a>äºŒå‰æœç´¢æ ‘/äºŒå‰æŸ¥æ‰¾æ ‘/äºŒå‰æ’åºæ ‘ï¼ˆBST, binary search treeï¼‰</h3><p>A binary search tree (BST) is recursively defined as a binary tree which has the following properties:</p><ul><li>The left subtree of a node contains only nodes with keys less than the nodeâ€™s key.</li><li>The right subtree of a node contains only nodes with keys greater than or equal to the nodeâ€™s key.</li><li>Both the left and right subtrees must also be binary search trees.</li></ul><p>æ ¹èŠ‚ç‚¹çš„å€¼å¤§äºå…¶å·¦å­æ ‘ä¸­ä»»æ„ä¸€ä¸ªèŠ‚ç‚¹çš„å€¼ï¼Œå°äºå…¶å³å­æ ‘ä¸­ä»»æ„ä¸€èŠ‚ç‚¹çš„å€¼ï¼Œè¿™ä¸€è§„åˆ™é€‚ç”¨äºäºŒå‰æœç´¢æ ‘ä¸­çš„æ¯ä¸€ä¸ªèŠ‚ç‚¹ã€‚</p><p><em>ç‰¹ç‚¹</em></p><ol><li>BSTçš„ä¸­åºéå† å°±æ˜¯ç»“ç‚¹å€¼çš„æ’åº</li></ol><p><img src="/2020/07/30/PAT/BST.png" alt="BST"></p><h3 id="äºŒå‰æ ‘çš„å»ºç«‹"><a href="#äºŒå‰æ ‘çš„å»ºç«‹" class="headerlink" title="äºŒå‰æ ‘çš„å»ºç«‹"></a>äºŒå‰æ ‘çš„å»ºç«‹</h3><ol><li>æ ¹æ®å‰åºå’Œä¸­åºæˆ–è€…ååºå’Œä¸­åºå¯ä»¥ç¡®å®šå”¯ä¸€çš„äºŒå‰æ ‘</li><li>æ ¹æ®ç»™å®šå®Œå…¨äºŒå‰æ ‘çš„å±‚æ¬¡éå†åºåˆ—å¯ä»¥è®¡ç®—å‡ºæ¯ä¸ªç‚¹çš„ä¸‹æ ‡ï¼Œå³ç¡®å®šå”¯ä¸€çš„äºŒå‰æ ‘</li><li>æ ¹æ®ç»™å®šçš„äºŒå‰æœç´¢æ ‘ï¼ˆBSTï¼‰çš„å‰åºæˆ–ååºåºåˆ—å¯ä»¥ç¡®å®šå”¯ä¸€çš„äºŒå‰æ ‘ã€‚å› ä¸ºå‰åºæˆ–ååºå¯ä»¥ç¡®å®šæ ¹èŠ‚ç‚¹ï¼Œé€šè¿‡æ ¹èŠ‚ç‚¹ï¼Œå¯ä»¥è®¡ç®—å‡ºæ ¹èŠ‚ç‚¹çš„å·¦å­æ ‘å’Œå³å­æ ‘åŒ…å«å“ªäº›æˆå‘˜ï¼Œä»¥æ­¤ç±»æ¨ã€‚</li></ol><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">node</span>&#123;</span><span class="comment">//æ ‘ç»“ç‚¹</span></span><br><span class="line">    <span class="keyword">int</span> val;</span><br><span class="line">    node *left;</span><br><span class="line">    node *right;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//åœ¨éœ€è¦å»ºæ ‘çš„é¢˜ç›®ä¸­ å¯ä»¥ä½¿ç”¨å¦‚ä¸‹ä»£ç å¼€è¾Ÿç»“ç‚¹ç©ºé—´</span></span><br><span class="line">node *t = <span class="keyword">new</span> node;</span><br></pre></td></tr></table></figure><h3 id="äºŒå‰æ ‘éå†"><a href="#äºŒå‰æ ‘éå†" class="headerlink" title="äºŒå‰æ ‘éå†"></a>äºŒå‰æ ‘éå†</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//æ ‘ç»“ç‚¹ç»“æ„ä¸º</span></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">node</span>&#123;</span></span><br><span class="line">    <span class="keyword">int</span> val, left, right;<span class="comment">//left/rightæ²¡æœ‰ç»“ç‚¹ç”¨-1è¡¨ç¤º</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">travel</span><span class="params">(<span class="keyword">int</span> root)</span><span class="comment">//dfs</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(<span class="built_in">list</span>[root].left != <span class="number">-1</span>)</span><br><span class="line">        travel(<span class="built_in">list</span>[root].left);</span><br><span class="line">    <span class="comment">//è®¿é—®æ ¹èŠ‚ç‚¹</span></span><br><span class="line">    <span class="keyword">if</span>(<span class="built_in">list</span>[root].right != <span class="number">-1</span>)</span><br><span class="line">        travel(<span class="built_in">list</span>[root].right);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//ä¹Ÿå¯è¿™æ · å»ºè®®è¿™æ ·å­</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">travel</span><span class="params">(<span class="keyword">int</span> root)</span><span class="comment">//dfs</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(root == <span class="number">-1</span>)</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    travel(<span class="built_in">list</span>[root].left);</span><br><span class="line">    <span class="comment">//è®¿é—®æ ¹èŠ‚ç‚¹</span></span><br><span class="line">    travel(<span class="built_in">list</span>[root].right);</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><blockquote><p>æ ‘çš„å‰ä¸­ååºéå†å³æ˜¯æ ‘çš„DFS</p></blockquote><h4 id="å‰åº"><a href="#å‰åº" class="headerlink" title="å‰åº"></a>å‰åº</h4><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">preorder</span><span class="params">(node *root)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(root == <span class="literal">NULL</span>)</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>, root-&gt;data);<span class="comment">//è®¿é—®æ ¹èŠ‚ç‚¹</span></span><br><span class="line">    preorder(root-&gt;lchild);</span><br><span class="line">    preorder(root-&gt;rchild);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="ä¸­åº"><a href="#ä¸­åº" class="headerlink" title="ä¸­åº"></a>ä¸­åº</h4><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">inorder</span><span class="params">(node *root)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(root == <span class="literal">NULL</span>)</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    preorder(root-&gt;lchild);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>, root-&gt;data);<span class="comment">//è®¿é—®æ ¹èŠ‚ç‚¹</span></span><br><span class="line">    preorder(root-&gt;rchild);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="ååº"><a href="#ååº" class="headerlink" title="ååº"></a>ååº</h4><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">postorder</span><span class="params">(node *root)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(root == <span class="literal">NULL</span>)</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    preorder(root-&gt;lchild);</span><br><span class="line">    preorder(root-&gt;rchild);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>, root-&gt;data);<span class="comment">//è®¿é—®æ ¹èŠ‚ç‚¹</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="BFS-å±‚æ¬¡-ï¼ˆé˜Ÿåˆ—ï¼‰"><a href="#BFS-å±‚æ¬¡-ï¼ˆé˜Ÿåˆ—ï¼‰" class="headerlink" title="BFS å±‚æ¬¡ ï¼ˆé˜Ÿåˆ—ï¼‰"></a>BFS å±‚æ¬¡ ï¼ˆé˜Ÿåˆ—ï¼‰</h4><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">LayerOrder</span><span class="params">(node *root)</span>    </span></span><br><span class="line"><span class="function">    <span class="built_in">queue</span>&lt;node*&gt; q</span>;</span><br><span class="line">    q.push(root);</span><br><span class="line">    <span class="keyword">while</span>(!q.empty())</span><br><span class="line">    &#123;</span><br><span class="line">        node *now = q.front();<span class="comment">//å–å‡ºé˜Ÿé¦–å…ƒç´ </span></span><br><span class="line">        q.pop();</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot; %d&quot;</span>, now-&gt;val);</span><br><span class="line">        <span class="keyword">if</span>(now-&gt;left != <span class="literal">NULL</span>)</span><br><span class="line">            q.push(now-&gt;left);</span><br><span class="line">        <span class="keyword">if</span>(now-&gt;right != <span class="literal">NULL</span>)</span><br><span class="line">            q.push(now-&gt;right);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;h1 id=&quot;ç¬¬ä¸€éƒ¨åˆ†-ç¼–ç¨‹æŠ€å·§&quot;&gt;&lt;a href=&quot;#ç¬¬ä¸€éƒ¨åˆ†-ç¼–ç¨‹æŠ€å·§&quot; class=&quot;headerlink&quot; title=&quot;ç¬¬ä¸€éƒ¨åˆ† ç¼–ç¨‹æŠ€å·§&quot;&gt;&lt;/a&gt;ç¬¬ä¸€éƒ¨åˆ† ç¼–ç¨‹æŠ€å·§&lt;/h1&gt;&lt;h2 id=&quot;1-å­—ç¬¦ä¸²&quot;&gt;&lt;a href=&quot;#1-å­—ç¬¦ä¸²&quot; class=&quot;headerlink&quot; title=&quot;1. å­—ç¬¦ä¸²&quot;&gt;&lt;/a&gt;1. å­—ç¬¦ä¸²&lt;/h2&gt;&lt;h3 id=&quot;substr&quot;&gt;&lt;a href=&quot;#substr&quot; class=&quot;headerlink&quot; title=&quot;substr()&quot;&gt;&lt;/a&gt;&lt;code&gt;substr()&lt;/code&gt;&lt;/h3&gt;&lt;p&gt;vs2008 å¯ä»¥ä½¿ç”¨&lt;code&gt;substr&lt;/code&gt;, å…·ä½“ä½¿ç”¨æ–¹æ³•&lt;code&gt;substr(èµ·å§‹åœ°å€, æˆªå–é•¿åº¦)&lt;/code&gt;  &lt;/p&gt;
&lt;figure class=&quot;highlight c++&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;built_in&quot;&gt;string&lt;/span&gt; a = &lt;span class=&quot;string&quot;&gt;&amp;quot;sdfsdfs&amp;quot;&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;built_in&quot;&gt;string&lt;/span&gt; sub_a = a.substr(&lt;span class=&quot;number&quot;&gt;2&lt;/span&gt;,&lt;span class=&quot;number&quot;&gt;2&lt;/span&gt;);&lt;span class=&quot;comment&quot;&gt;//è¾“å‡ºfs&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h3 id=&quot;string-èµ‹å€¼&quot;&gt;&lt;a href=&quot;#string-èµ‹å€¼&quot; class=&quot;headerlink&quot; title=&quot;string èµ‹å€¼&quot;&gt;&lt;/a&gt;&lt;code&gt;string&lt;/code&gt; èµ‹å€¼&lt;/h3&gt;&lt;ol&gt;
&lt;li&gt;&lt;code&gt;=&lt;/code&gt; å°† &lt;code&gt;a&lt;/code&gt; èµ‹å€¼ç»™ &lt;code&gt;b&lt;/code&gt;&lt;figure class=&quot;highlight c++&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;b = a;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;string&lt;/code&gt; èµ‹å€¼ç”¨ &lt;code&gt;assign&lt;/code&gt; å°† &lt;code&gt;a&lt;/code&gt; èµ‹å€¼ç»™ &lt;code&gt;b&lt;/code&gt;&lt;figure class=&quot;highlight c++&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;b.assign(a);&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h3 id=&quot;string-è¾“å…¥&quot;&gt;&lt;a href=&quot;#string-è¾“å…¥&quot; class=&quot;headerlink&quot; title=&quot;string è¾“å…¥&quot;&gt;&lt;/a&gt;&lt;code&gt;string&lt;/code&gt; è¾“å…¥&lt;/h3&gt;&lt;figure class=&quot;highlight c++&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;built_in&quot;&gt;string&lt;/span&gt; a;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;built_in&quot;&gt;cin&lt;/span&gt; &amp;gt;&amp;gt; a;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h3 id=&quot;string-è¾“å‡º&quot;&gt;&lt;a href=&quot;#string-è¾“å‡º&quot; class=&quot;headerlink&quot; title=&quot;string è¾“å‡º&quot;&gt;&lt;/a&gt;&lt;code&gt;string&lt;/code&gt; è¾“å‡º&lt;/h3&gt;ä¸æ ¼å¼åŒ–ï¼Œç”¨&lt;code&gt;cout&lt;/code&gt;æ¯”è¾ƒæ–¹ä¾¿&lt;figure class=&quot;highlight c++&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;built_in&quot;&gt;string&lt;/span&gt; a = &lt;span class=&quot;string&quot;&gt;&amp;quot;12345&amp;quot;&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;built_in&quot;&gt;cout&lt;/span&gt; &amp;lt;&amp;lt; a;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h4 id=&quot;å½“-string-é‡åˆ°-printf-æ—¶&quot;&gt;&lt;a href=&quot;#å½“-string-é‡åˆ°-printf-æ—¶&quot; class=&quot;headerlink&quot; title=&quot;å½“ string é‡åˆ° printf æ—¶&quot;&gt;&lt;/a&gt;å½“ &lt;code&gt;string&lt;/code&gt; é‡åˆ° &lt;code&gt;printf&lt;/code&gt; æ—¶&lt;/h4&gt;ä½¿ç”¨ &lt;code&gt;string&lt;/code&gt; é…åˆ &lt;code&gt;printf(&amp;quot;%s&amp;quot;) &lt;/code&gt;ä½¿ç”¨æ—¶ï¼Œè¦æ³¨æ„ä½¿ç”¨ &lt;code&gt;a.c_str()&lt;/code&gt; å°† &lt;code&gt;string&lt;/code&gt; è½¬åŒ–æˆ &lt;code&gt;char *&lt;/code&gt;&lt;h3 id=&quot;è§£å†³åœ¨vs2008è¾ƒè€IDEä¸Šæ— æ³•ä½¿ç”¨stoi-çš„æ›¿ä»£æ–¹æ¡ˆ&quot;&gt;&lt;a href=&quot;#è§£å†³åœ¨vs2008è¾ƒè€IDEä¸Šæ— æ³•ä½¿ç”¨stoi-çš„æ›¿ä»£æ–¹æ¡ˆ&quot; class=&quot;headerlink&quot; title=&quot;è§£å†³åœ¨vs2008è¾ƒè€IDEä¸Šæ— æ³•ä½¿ç”¨stoi()çš„æ›¿ä»£æ–¹æ¡ˆ&quot;&gt;&lt;/a&gt;è§£å†³åœ¨vs2008è¾ƒè€IDEä¸Šæ— æ³•ä½¿ç”¨&lt;code&gt;stoi()&lt;/code&gt;çš„æ›¿ä»£æ–¹æ¡ˆ&lt;/h3&gt;&lt;figure class=&quot;highlight c&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;built_in&quot;&gt;string&lt;/span&gt; str = &lt;span class=&quot;string&quot;&gt;&amp;quot;12345&amp;quot;&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;int&lt;/span&gt; num = atoi(str.c_str());&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h3 id=&quot;æ•°å­—-lt-gt-å­—ç¬¦&quot;&gt;&lt;a href=&quot;#æ•°å­—-lt-gt-å­—ç¬¦&quot; class=&quot;headerlink&quot; title=&quot;æ•°å­—&amp;lt;==&amp;gt;å­—ç¬¦&quot;&gt;&lt;/a&gt;æ•°å­—&amp;lt;==&amp;gt;å­—ç¬¦&lt;/h3&gt;å¯ä»¥ä½¿ç”¨ 1 = â€˜1â€™ - â€˜0â€™(â€˜1â€™ = 1 + â€˜0â€™)å®ç°&lt;br&gt;è‹±æ–‡åŒç†&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&quot;æ•°å­—-lt-gt-å­—ç¬¦ä¸²ï¼ˆstringï¼‰&quot;&gt;&lt;a href=&quot;#æ•°å­—-lt-gt-å­—ç¬¦ä¸²ï¼ˆstringï¼‰&quot; class=&quot;headerlink&quot; title=&quot;æ•°å­—&amp;lt;==&amp;gt;å­—ç¬¦ä¸²ï¼ˆstringï¼‰&quot;&gt;&lt;/a&gt;æ•°å­—&amp;lt;==&amp;gt;å­—ç¬¦ä¸²ï¼ˆstringï¼‰&lt;/h3&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;char str[10];    &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;string s;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;int a &amp;#x3D; 1234321;     &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;sprintf(str, &amp;quot;%d&amp;quot;, a);&amp;#x2F;&amp;#x2F;é™¤äº†ç¬¬ä¸€ä¸ªè¾“å‡ºå‚æ•° åé¢ä¸¤ä¸ªå‚æ•°å’Œprintfä¸€æ ·&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;s &amp;#x3D; str;&amp;#x2F;&amp;#x2F;èµ‹å€¼å³å¯å°† char * è½¬åŒ–ä¸º string&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
    
    </summary>
    
    
    
      <category term="PAT" scheme="http://yoursite.com/tags/PAT/"/>
    
      <category term="ç¼–ç¨‹" scheme="http://yoursite.com/tags/%E7%BC%96%E7%A8%8B/"/>
    
      <category term="ç®—æ³•" scheme="http://yoursite.com/tags/%E7%AE%97%E6%B3%95/"/>
    
      <category term="æ•°æ®ç»“æ„" scheme="http://yoursite.com/tags/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/"/>
    
      <category term="éšç¬”" scheme="http://yoursite.com/tags/%E9%9A%8F%E7%AC%94/"/>
    
  </entry>
  
  <entry>
    <title>è¿ç»´å­¦ä¹ ç¬”è®°</title>
    <link href="http://yoursite.com/2020/07/30/operations/"/>
    <id>http://yoursite.com/2020/07/30/operations/</id>
    <published>2020-07-30T09:35:00.000Z</published>
    <updated>2020-10-28T02:07:59.521Z</updated>
    
    <content type="html"><![CDATA[<h2 id="è¿ç»´å¸¸ç”¨å‘½ä»¤"><a href="#è¿ç»´å¸¸ç”¨å‘½ä»¤" class="headerlink" title="è¿ç»´å¸¸ç”¨å‘½ä»¤"></a><strong>è¿ç»´å¸¸ç”¨å‘½ä»¤</strong></h2><ol><li>æ¸…å± clear, ctrl + l</li><li>åˆ›å»ºæ–‡ä»¶å¤¹ mkdir abc</li><li>åˆ›å»ºæ–‡ä»¶ touch abc</li><li>è®¾ç½®æƒé™ chmod 755 abc, chmod -x abc, chmod a+x abc, chmod a+w abc<br>æ³¨æ„<br>r ä»£è¡¨è¯»æƒé™ï¼Œç”¨æ•°å€¼4è¡¨ç¤º<br>w ä»£è¡¨å†™æƒé™ï¼Œç”¨æ•°å­—2è¡¨ç¤º<br>x ä»£è¡¨æ‰§è¡Œæƒé™ï¼Œç”¨æ•°å­—1è¡¨ç¤º<br>+ ä»£è¡¨å¢åŠ æƒé™<br>- ä»£è¡¨å‡å°‘æƒé™<br>å› æ­¤755ä»£è¡¨ rwxr-xr-xï¼Œ7ä»£è¡¨æ–‡ä»¶æ‹¥æœ‰è€…æƒé™ï¼Œ5ä»£è¡¨æ–‡ä»¶æ‰€å±ç»„æƒé™ï¼Œ5ä»£è¡¨æ–‡ä»¶ç»„å¤–æƒé™<h2 id="find-4-1"><a href="#find-4-1" class="headerlink" title="find(4.1)"></a><strong>find(4.1)</strong></h2>ç”¨é€”ï¼šåŸºäºæ–‡ä»¶å±æ€§æŸ¥æ‰¾<br>ç”¨æ³•ï¼š<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">find [æŸ¥æ‰¾è·¯å¾„] å¯»æ‰¾æ¡ä»¶ æ“ä½œ</span><br></pre></td></tr></table></figure><h3 id="å¸¸ç”¨å‚æ•°ï¼š"><a href="#å¸¸ç”¨å‚æ•°ï¼š" class="headerlink" title="å¸¸ç”¨å‚æ•°ï¼š"></a>å¸¸ç”¨å‚æ•°ï¼š</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">-name</span><br><span class="line">-type f&#x2F;d(æ–‡ä»¶&#x2F;ç›®å½•)</span><br><span class="line">-size +&#x2F;-30M(å¤§äº&#x2F;å°äº)</span><br><span class="line">-perm </span><br><span class="line">-exec</span><br><span class="line">-ok (æ¯”execå¤šä¸€ä¸ªè¯¢é—®)</span><br><span class="line">-maxdepth æŒ‡å®šæœç´¢çš„ç›®å½•å±‚çº§</span><br></pre></td></tr></table></figure><h3 id="execå‚æ•°è¯¦è§£"><a href="#execå‚æ•°è¯¦è§£" class="headerlink" title="-execå‚æ•°è¯¦è§£"></a>-execå‚æ•°è¯¦è§£</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">find [ç›®å½•] -[å‚æ•°] -exec [å‘½ä»¤] &#123;&#125; \;</span><br><span class="line">find [ç›®å½•] -[å‚æ•°] -exec [å‘½ä»¤] &#123;&#125; +</span><br><span class="line">åˆ†å·å’ŒåŠ å·éƒ½æ˜¯-execå‚æ•°çš„ç»ˆç»“ç¬¦</span><br><span class="line">\;  æ¯æ‰¾åˆ°ä¸€ä¸ªï¼Œå°±æ‰§è¡Œä¸€æ¬¡[å‘½ä»¤]</span><br><span class="line">+   æ‰¾åˆ°å¤šä¸ªï¼Œä¸€æ¬¡æ€§æ‰§è¡Œ[å‘½ä»¤]</span><br></pre></td></tr></table></figure><h3 id="execç‰¹ç‚¹"><a href="#execç‰¹ç‚¹" class="headerlink" title="-execç‰¹ç‚¹"></a>-execç‰¹ç‚¹</h3>è¿™ä¸¤ç§-execä¸­çš„tarå‘½ä»¤çš„ä½¿ç”¨ç­‰æ•ˆ<a id="more"></a><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">find . -type f -exec tar -czvf n.tar.gz &#123;&#125; +</span><br><span class="line">find . -type f -exec tar -uvf n.tar.gz &#123;&#125; \;</span><br></pre></td></tr></table></figure><h3 id="xargs"><a href="#xargs" class="headerlink" title="xargs"></a>xargs</h3>è¿™ç§ä½¿ç”¨æ–¹å¼æ•ˆæœå’Œä¸Šè¿°ä¸¤ç§æ–¹å¼ä¸€è‡´<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">find . -type f | xargs tar -czvf n.tar.gz</span><br></pre></td></tr></table></figure><h2 id="tar"><a href="#tar" class="headerlink" title="tar"></a><strong>tar</strong></h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">tar -xzvf [å‹ç¼©æ–‡ä»¶å] -C [æŒ‡å®šå¸å‹ç›®å½•]ï¼ˆå¸å‹ï¼‰</span><br><span class="line">tar -czvf [å‹ç¼©æ–‡ä»¶å] [è¦è¿›è¡Œå‹ç¼©çš„æ–‡ä»¶] ï¼ˆå‹ç¼©ï¼‰</span><br><span class="line">tar -uvf [å‹ç¼©æ–‡ä»¶å] [è¦è¿›è¡Œå‹ç¼©çš„æ–‡ä»¶] ï¼ˆæ›´æ–°å¼å‹ç¼©ï¼‰</span><br><span class="line">tar -tvf [å‹ç¼©æ–‡ä»¶å] ï¼ˆä¸å¸å‹æŸ¥çœ‹å†…å®¹ï¼‰</span><br><span class="line">--remove-files ï¼ˆåœ¨å‹ç¼©å®Œæ–‡ä»¶ååˆ é™¤æºæ–‡ä»¶ï¼‰</span><br></pre></td></tr></table></figure><h2 id="sed-5-1"><a href="#sed-5-1" class="headerlink" title="sed(5.1)"></a><strong>sed(5.1)</strong></h2><h3 id="sï¼šå­—ç¬¦æ›¿æ¢"><a href="#sï¼šå­—ç¬¦æ›¿æ¢" class="headerlink" title="sï¼šå­—ç¬¦æ›¿æ¢"></a>sï¼šå­—ç¬¦æ›¿æ¢</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sed &#39;s&#x2F;&#x2F;&#x2F;&#39; file</span><br><span class="line">sed &#39;s&#x2F;abc.net&#x2F;efg.com&#x2F;&#39; text.txt </span><br></pre></td></tr></table></figure><h3 id="cï¼šæ•´è¡Œæ›¿æ¢"><a href="#cï¼šæ•´è¡Œæ›¿æ¢" class="headerlink" title="cï¼šæ•´è¡Œæ›¿æ¢"></a>cï¼šæ•´è¡Œæ›¿æ¢</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">sed &#39;&#x2F;&#x2F;c&#x2F;&#39; file</span><br><span class="line">sed &#39;&#x2F;^SELINUX&#x3D;&#x2F;cSELINUX&#x3D;disabled&#x2F;&#39; file</span><br><span class="line">^ä»£è¡¨å¼€å¤´</span><br></pre></td></tr></table></figure><h3 id="gï¼šå…¨å±€æ›¿æ¢"><a href="#gï¼šå…¨å±€æ›¿æ¢" class="headerlink" title="gï¼šå…¨å±€æ›¿æ¢"></a>gï¼šå…¨å±€æ›¿æ¢</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sed &#39;s&#x2F;&#x2F;&#x2F;g&#39; file</span><br><span class="line">sed &#39;s&#x2F;abc.net&#x2F;efg.com&#x2F;g&#39; test.txt</span><br></pre></td></tr></table></figure><h3 id="nï¼šå®šä½åˆ°æŸä¸€è¡Œ"><a href="#nï¼šå®šä½åˆ°æŸä¸€è¡Œ" class="headerlink" title="-nï¼šå®šä½åˆ°æŸä¸€è¡Œ"></a>-nï¼šå®šä½åˆ°æŸä¸€è¡Œ</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sed -n &#39;2p&#39; file ï¼ˆå®šä½åˆ°ç¬¬äºŒè¡Œï¼‰</span><br><span class="line">sed -n &#39;&#x2F;broadcast&#x2F;p&#39; file ï¼ˆå®šä½åˆ°&#x2F;broadcastè¿™ä¸€è¡Œï¼‰</span><br></pre></td></tr></table></figure><h3 id="eï¼šå…è®¸åœ¨åŒä¸€è¡Œå‘½ä»¤ä¸­æ‰§è¡Œå¤šä¸ªå‘½ä»¤"><a href="#eï¼šå…è®¸åœ¨åŒä¸€è¡Œå‘½ä»¤ä¸­æ‰§è¡Œå¤šä¸ªå‘½ä»¤" class="headerlink" title="-eï¼šå…è®¸åœ¨åŒä¸€è¡Œå‘½ä»¤ä¸­æ‰§è¡Œå¤šä¸ªå‘½ä»¤"></a>-eï¼šå…è®¸åœ¨åŒä¸€è¡Œå‘½ä»¤ä¸­æ‰§è¡Œå¤šä¸ªå‘½ä»¤</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sed -e &#39;&#x2F;&#x2F;&#x2F;&#39; -e &#39;&#x2F;&#x2F;&#x2F;&#39; file</span><br><span class="line">sed -e &#39;s&#x2F;11&#x2F;aa&#x2F;&#39; -e &#39;s&#x2F;bb&#x2F;gg&#x2F;&#39; file</span><br></pre></td></tr></table></figure><h3 id="iï¼šç”Ÿæ•ˆåˆ°æ–‡æœ¬ï¼›ä¸åŠ åªæ˜¯å±æ˜¾æµ‹è¯•ç»“æœ"><a href="#iï¼šç”Ÿæ•ˆåˆ°æ–‡æœ¬ï¼›ä¸åŠ åªæ˜¯å±æ˜¾æµ‹è¯•ç»“æœ" class="headerlink" title="-iï¼šç”Ÿæ•ˆåˆ°æ–‡æœ¬ï¼›ä¸åŠ åªæ˜¯å±æ˜¾æµ‹è¯•ç»“æœ"></a>-iï¼šç”Ÿæ•ˆåˆ°æ–‡æœ¬ï¼›ä¸åŠ åªæ˜¯å±æ˜¾æµ‹è¯•ç»“æœ</h3><h3 id="sedå¯ä»¥åŒæ—¶å¯¹å¤šä¸ªæ–‡ä»¶æ‰§è¡ŒåŒä¸€ä¸ªâ€™-â€˜"><a href="#sedå¯ä»¥åŒæ—¶å¯¹å¤šä¸ªæ–‡ä»¶æ‰§è¡ŒåŒä¸€ä¸ªâ€™-â€˜" class="headerlink" title="sedå¯ä»¥åŒæ—¶å¯¹å¤šä¸ªæ–‡ä»¶æ‰§è¡ŒåŒä¸€ä¸ªâ€™///â€˜"></a>sedå¯ä»¥åŒæ—¶å¯¹å¤šä¸ªæ–‡ä»¶æ‰§è¡ŒåŒä¸€ä¸ªâ€™///â€˜</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sed &#39;s&#x2F;aa&#x2F;11&#x2F;&#39; file1 file2 ...</span><br></pre></td></tr></table></figure><h2 id="awk"><a href="#awk" class="headerlink" title="awk"></a><strong>awk</strong></h2><h3 id="åŠŸèƒ½ï¼šæŠ¥å‘Šç”Ÿæˆå™¨ï¼ˆä¸ä¿®æ”¹æ–‡æœ¬ï¼‰"><a href="#åŠŸèƒ½ï¼šæŠ¥å‘Šç”Ÿæˆå™¨ï¼ˆä¸ä¿®æ”¹æ–‡æœ¬ï¼‰" class="headerlink" title="åŠŸèƒ½ï¼šæŠ¥å‘Šç”Ÿæˆå™¨ï¼ˆä¸ä¿®æ”¹æ–‡æœ¬ï¼‰"></a>åŠŸèƒ½ï¼šæŠ¥å‘Šç”Ÿæˆå™¨ï¼ˆä¸ä¿®æ”¹æ–‡æœ¬ï¼‰</h3></li></ol><ul><li>è¡Œï¼šrecord  </li><li>åˆ—ï¼šfield  </li><li>NRï¼šnumber of record  </li><li>NFï¼šnumber of field  </li></ul><p><strong><em>ä¾‹ï¼š</em></strong>  </p><h3 id="åŸºæœ¬æ“ä½œï¼š"><a href="#åŸºæœ¬æ“ä½œï¼š" class="headerlink" title="åŸºæœ¬æ“ä½œï¼š"></a>åŸºæœ¬æ“ä½œï¼š</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">awk &#39;&#123;print $0&#125;&#39; access.log (æ‰“å°æ‰€æœ‰åˆ—)</span><br><span class="line">awk &#39;&#123;print $1&#125;&#39; access.log (æ‰“å°ç¬¬ä¸€åˆ—)</span><br><span class="line">awk &#39;&#123;print $NF&#125;&#39; access.log (æ‰“å°æœ€åä¸€åˆ—)</span><br><span class="line">awk &#39;&#123;print $NF-1&#125;&#39; access.log (æœ€åä¸€åˆ—-1)</span><br><span class="line">awk &#39;&#123;print $(NF-1)&#125;&#39; access.log (æ‰“å°å€’æ•°ç¬¬äºŒåˆ—)</span><br></pre></td></tr></table></figure><h3 id="åˆ—å¯¹é½ï¼š"><a href="#åˆ—å¯¹é½ï¼š" class="headerlink" title="åˆ—å¯¹é½ï¼š"></a>åˆ—å¯¹é½ï¼š</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">awk &#39;&#123;print $1&quot; \t &quot;$2&quot; \t &quot;$3&#125;&#39; access.log (åˆ—å¯¹é½)</span><br><span class="line">awk &#39;&#123;print $1,$2,$3&#125;&#39; access.log (è¾“å‡ºé»˜è®¤åˆ†éš”ç¬¦ä¸ºé€—å·ï¼Œä»£è¡¨ä¸€ä¸ªç©ºæ ¼ï¼Œè‹¥æŠŠé€—å·æ”¹æˆç©ºæ ¼ï¼Œè¾“å‡ºæ•ˆæœè¡¨ç°ä¸ºç©º)</span><br><span class="line">echo 1:2 3*4|awk -F&quot;:&quot; &#39;&#123;print $1&#125;&#39; (-Fè¡¨ç¤ºæŒ‡å®šè¾“å…¥åˆ†éš”ç¬¦ï¼Œè¾“å…¥é»˜è®¤åˆ†éš”ç¬¦ä¸ºç©ºæ ¼)</span><br></pre></td></tr></table></figure><h3 id="æ˜¾ç¤ºè¡Œæ•°-åˆ—æ•°ï¼š"><a href="#æ˜¾ç¤ºè¡Œæ•°-åˆ—æ•°ï¼š" class="headerlink" title="æ˜¾ç¤ºè¡Œæ•°/åˆ—æ•°ï¼š"></a>æ˜¾ç¤ºè¡Œæ•°/åˆ—æ•°ï¼š</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">awk &#39;&#123;print NR &quot;\t&quot; $0&#125;&#39; awk.txt (æ‰“å°è¡Œå·)</span><br><span class="line">awk &#39;&#123;print NF &quot;\t&quot; $0&#125;&#39; awk.txt (æ‰“å°æ¯è¡Œçš„åˆ—æ•°)</span><br><span class="line">awk &#39;$2&#x3D;&#x3D;&quot;2012&quot;&#123;print $0&#125;&#39; staff.txt (å½“ç¬¬äºŒåˆ—çš„å€¼&#x3D;&#x3D;2012æ—¶ï¼Œæ‰“å°è¿™ä¸€è¡Œ)</span><br><span class="line">awk &#39;&#123;print NF&#125;&#39; staff.txt (åªæ‰“å°æ¯è¡Œçš„åˆ—æ•°)</span><br><span class="line">awk &#39;&#123;print NR&#125;&#39; staff.txt (åªæ‰“å°æ¯è¡Œçš„è¡Œå·)</span><br><span class="line">awk &#39;NR&#x3D;&#x3D;&quot;3&quot;&#123;print NR,$0&#125;&#39; staff.txt (åªæ‰“å°ç¬¬3è¡Œ)</span><br><span class="line">awk &#39;NF&#x3D;&#x3D;&quot;5&quot;&#123;print $0&#125;&#39; staff.txt (åªæ‰“å°åˆ—æ•°ä¸º5çš„è¡Œ)</span><br><span class="line">æ³¨æ„ï¼šå¦‚æœä¸æŒ‡å®šæ–‡ä»¶åï¼Œawkä¼šç­‰å¾…è¾“å…¥</span><br></pre></td></tr></table></figure><h3 id="è‡ªå®šä¹‰åˆ†éš”ç¬¦"><a href="#è‡ªå®šä¹‰åˆ†éš”ç¬¦" class="headerlink" title="è‡ªå®šä¹‰åˆ†éš”ç¬¦"></a>è‡ªå®šä¹‰åˆ†éš”ç¬¦</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">awk &#39;BEGIN&#123;FS&#x3D;&quot;,&quot;&#125;&#123;print $1&#125;&#39;</span><br><span class="line">BEGINè¡¨ç¤ºå…¨å±€å˜é‡ï¼ŒFSè¡¨ç¤ºè¾“å…¥åˆ†éš”ç¬¦ï¼ŒOFSè¡¨ç¤ºè¾“å‡ºåˆ†éš”ç¬¦</span><br><span class="line">awké»˜è®¤çš„è¾“å…¥åˆ†éš”ç¬¦å’Œè¾“å‡ºåˆ†éš”ç¬¦æ˜¯åˆ†åˆ«å®šä¹‰çš„</span><br><span class="line">awk &#39;BEGIN&#123;FS&#x3D;&quot;,&quot;;OFS&#x3D;&quot;,&quot;&#125;&#123;print $1,$2&#125;&#39;</span><br><span class="line"></span><br><span class="line">awk &#39;&#123;print NR,FILENAME,$0&#125;&#39; staff.txt data.txt (ä¼šæŠŠdataçš„å†…å®¹è¿½åŠ æ‰“å°åœ¨staffçš„ä¸‹æ–¹æ˜¾ç¤º)</span><br></pre></td></tr></table></figure><h3 id="éšè—æŸåˆ—å†…å®¹"><a href="#éšè—æŸåˆ—å†…å®¹" class="headerlink" title="éšè—æŸåˆ—å†…å®¹"></a>éšè—æŸåˆ—å†…å®¹</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">awk &#39;&#123;$3&#x3D;&quot;xxxx&quot;;print $0&#125;&#39; staff.txt</span><br></pre></td></tr></table></figure><h3 id="awkåšè®¡ç®—"><a href="#awkåšè®¡ç®—" class="headerlink" title="awkåšè®¡ç®—"></a>awkåšè®¡ç®—</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">awk &#39;&#123;a&#x3D;1;b&#x3D;3;print a+b&#125;&#39; (å›è½¦ç»™å‡ºç»“æœï¼Œä½†ä¸ç»“æŸ)</span><br><span class="line">awké‡åˆ°å­—ç¬¦ï¼š</span><br><span class="line">awk &#39;&#123;a&#x3D;2;b&#x3D;&quot;56ass&quot;;c&#x3D;3;print b+c&#125;&#39; (56+3&#x3D;59)</span><br><span class="line">awk &#39;&#123;a&#x3D;2;b&#x3D;&quot;ass56&quot;;c&#x3D;3;print b+c&#125;&#39; (3)</span><br></pre></td></tr></table></figure><h2 id="grep-egrep"><a href="#grep-egrep" class="headerlink" title="grep/egrep"></a><strong>grep/egrep</strong></h2><h3 id="åŠŸèƒ½ï¼šåŸºäºæ–‡æœ¬å†…å®¹çš„æŸ¥æ‰¾"><a href="#åŠŸèƒ½ï¼šåŸºäºæ–‡æœ¬å†…å®¹çš„æŸ¥æ‰¾" class="headerlink" title="åŠŸèƒ½ï¼šåŸºäºæ–‡æœ¬å†…å®¹çš„æŸ¥æ‰¾"></a>åŠŸèƒ½ï¼šåŸºäºæ–‡æœ¬å†…å®¹çš„æŸ¥æ‰¾</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">grep -Eç­‰æ•ˆäºegrep</span><br></pre></td></tr></table></figure><h3 id="æ’é™¤-å·è¡Œï¼ˆæ³¨é‡Šï¼‰å’Œç©ºè¡Œ"><a href="#æ’é™¤-å·è¡Œï¼ˆæ³¨é‡Šï¼‰å’Œç©ºè¡Œ" class="headerlink" title="æ’é™¤#å·è¡Œï¼ˆæ³¨é‡Šï¼‰å’Œç©ºè¡Œ"></a>æ’é™¤#å·è¡Œï¼ˆæ³¨é‡Šï¼‰å’Œç©ºè¡Œ</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">egrep -v &quot;^$|#&quot; file (-vå–åï¼Œ^ä»¥ä»€ä¹ˆå¼€å¤´ï¼Œ$ä»¥ä»€ä¹ˆç»“å°¾ï¼Œ|æˆ–è€…)</span><br><span class="line">egrep -v &#39;(#|^$)&#39; file</span><br><span class="line">æˆ–è€…</span><br><span class="line">grep -Ev &quot;#|^$&quot; file</span><br></pre></td></tr></table></figure><h3 id="æŸ¥æ‰¾ç›®å½•ä¸‹çš„æ‰€æœ‰æ–‡ä»¶ä¸­æ˜¯å¦åŒ…å«æŒ‡å®šå­—ç¬¦ä¸²"><a href="#æŸ¥æ‰¾ç›®å½•ä¸‹çš„æ‰€æœ‰æ–‡ä»¶ä¸­æ˜¯å¦åŒ…å«æŒ‡å®šå­—ç¬¦ä¸²" class="headerlink" title="æŸ¥æ‰¾ç›®å½•ä¸‹çš„æ‰€æœ‰æ–‡ä»¶ä¸­æ˜¯å¦åŒ…å«æŒ‡å®šå­—ç¬¦ä¸²"></a>æŸ¥æ‰¾ç›®å½•ä¸‹çš„æ‰€æœ‰æ–‡ä»¶ä¸­æ˜¯å¦åŒ…å«æŒ‡å®šå­—ç¬¦ä¸²</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">find . | xargs grep -ri &quot;IBM&quot;</span><br></pre></td></tr></table></figure><h3 id="æŸ¥æ‰¾ç›®å½•ä¸‹çš„æ‰€æœ‰æ–‡ä»¶ä¸­æ˜¯å¦åŒ…å«æŒ‡å®šå­—ç¬¦ä¸²ï¼Œå¹¶åªæ‰“å°æ–‡ä»¶å"><a href="#æŸ¥æ‰¾ç›®å½•ä¸‹çš„æ‰€æœ‰æ–‡ä»¶ä¸­æ˜¯å¦åŒ…å«æŒ‡å®šå­—ç¬¦ä¸²ï¼Œå¹¶åªæ‰“å°æ–‡ä»¶å" class="headerlink" title="æŸ¥æ‰¾ç›®å½•ä¸‹çš„æ‰€æœ‰æ–‡ä»¶ä¸­æ˜¯å¦åŒ…å«æŒ‡å®šå­—ç¬¦ä¸²ï¼Œå¹¶åªæ‰“å°æ–‡ä»¶å"></a>æŸ¥æ‰¾ç›®å½•ä¸‹çš„æ‰€æœ‰æ–‡ä»¶ä¸­æ˜¯å¦åŒ…å«æŒ‡å®šå­—ç¬¦ä¸²ï¼Œå¹¶åªæ‰“å°æ–‡ä»¶å</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">find . | xargs grep -ril &quot;IBM&quot;</span><br></pre></td></tr></table></figure><h2 id="cut"><a href="#cut" class="headerlink" title="cut"></a><strong>cut</strong></h2><h3 id="åŠŸèƒ½"><a href="#åŠŸèƒ½" class="headerlink" title="åŠŸèƒ½"></a>åŠŸèƒ½</h3><p>æ–‡æœ¬/å±æ˜¾çš„åˆ‡å‰²å‘½ä»¤ï¼›èƒ½æ¥æ”¶ç®¡é“ï¼Œä¹Ÿèƒ½ç›´æ¥æ“ä½œæ–‡æœ¬ï¼ŒæŒ‰è¡Œå¤„ç†  </p><ul><li>é»˜è®¤ä»¥åˆ¶è¡¨ç¬¦ä¸ºåˆ†éš”ç¬¦</li><li>-b æŒ‰å­—èŠ‚åˆ‡å‰²ï¼ˆ1byte=8bitï¼‰</li><li>-c æŒ‰å­—ç¬¦åˆ‡å‰²ï¼ˆcharacterï¼Œå…¨è§’æ˜¯2ä¸ªbyteï¼ŒåŠè§’æ˜¯1ä¸ªbyteï¼‰</li><li>-f æŒ‰å­—æ®µåˆ‡å‰²ï¼ˆfieldåˆ—ï¼‰  </li><li>-d æŒ‡å®šåˆ†éš”ç¬¦ï¼ˆè¾“å…¥ã€è¾“å‡ºä¸€æ ·ï¼‰<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">who | cut -b 3 (åˆ‡å‰²whoçš„è¾“å‡ºï¼Œå¹¶åªæ˜¾ç¤ºæ¯è¡Œçš„ç¬¬3ä¸ªå­—ç¬¦)</span><br></pre></td></tr></table></figure><h3 id="èŒƒå›´çš„è¡¨ç¤ºæ–¹æ³•"><a href="#èŒƒå›´çš„è¡¨ç¤ºæ–¹æ³•" class="headerlink" title="èŒƒå›´çš„è¡¨ç¤ºæ–¹æ³•"></a>èŒƒå›´çš„è¡¨ç¤ºæ–¹æ³•</h3><table><thead><tr><th>è¡¨ç¤º</th><th>å¤‡æ³¨</th></tr></thead><tbody><tr><td>N</td><td>åªæœ‰ç¬¬Né¡¹</td></tr><tr><td>N-</td><td>ä»ç¬¬Né¡¹ä¸€ç›´åˆ°è¡Œå°¾</td></tr><tr><td>N-M</td><td>ä»ç¬¬Né¡¹åˆ°ç¬¬Mé¡¹(åŒ…æ‹¬M)</td></tr><tr><td>-M</td><td>ä»ä¸€è¡Œçš„å¼€å§‹åˆ°ç¬¬Mé¡¹(åŒ…æ‹¬M)</td></tr></tbody></table><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cut -d: -f 1,3-5,8- file.txt (-dæŒ‡å®šåˆ†éš”ç¬¦:,-fæŒ‡å®šè¾“å‡ºç¬¬1åˆ—ã€3-5åˆ—ã€ç¬¬8åˆ—åŠä»¥å)</span><br></pre></td></tr></table></figure><h3 id="cutå’Œawkçš„ä¸€äº›åŒºåˆ«"><a href="#cutå’Œawkçš„ä¸€äº›åŒºåˆ«" class="headerlink" title="cutå’Œawkçš„ä¸€äº›åŒºåˆ«"></a>cutå’Œawkçš„ä¸€äº›åŒºåˆ«</h3></li><li>cuté»˜è®¤ä¸ä¼šå¿½ç•¥ç©ºæ ¼å’Œåˆ¶è¡¨ç¬¦(å…¨æ˜¯fieldå­—æ®µ)</li><li>awké»˜è®¤æŠŠç©ºæ ¼ã€åˆ¶è¡¨ç¬¦çœ‹ä½œåˆ†éš”ç¬¦(éfieldå­—æ®µ)<br><img src="/2020/07/30/operations/cut.png" alt="ä¾‹å­"><h3 id="cutå¦‚ä½•è¾“å…¥åˆ¶è¡¨ç¬¦"><a href="#cutå¦‚ä½•è¾“å…¥åˆ¶è¡¨ç¬¦" class="headerlink" title="cutå¦‚ä½•è¾“å…¥åˆ¶è¡¨ç¬¦"></a>cutå¦‚ä½•è¾“å…¥åˆ¶è¡¨ç¬¦</h3>å…ˆæŒ‰ctrl+vï¼Œå†æŒ‰tabå¥ï¼Œâ€\tâ€è¿™ç§åˆ†éš”ç¬¦éƒ½æ˜¯æ— æ•ˆçš„<h2 id="é‡å®šå‘"><a href="#é‡å®šå‘" class="headerlink" title="é‡å®šå‘"></a><strong>é‡å®šå‘</strong></h2></li><li>æ ‡å‡†è¾“å…¥0 standardinput STDIN</li><li>æ ‡å‡†è¾“å‡º1 standardoutput STDOUT</li><li>æ ‡å‡†é”™è¯¯2 standarderror STDERR<h3 id="æ ‡å‡†è¾“å‡ºé‡å®šå‘"><a href="#æ ‡å‡†è¾“å‡ºé‡å®šå‘" class="headerlink" title="æ ‡å‡†è¾“å‡ºé‡å®šå‘"></a>æ ‡å‡†è¾“å‡ºé‡å®šå‘</h3><table><thead><tr><th>ç¬¦å·å‘½ä»¤</th><th>ç”¨é€”</th></tr></thead><tbody><tr><td>&gt; æˆ– 1&gt;</td><td>æŠŠ<strong>æ ‡å‡†è¾“å‡º</strong>é‡å®šå‘åˆ°æ–°æ–‡ä»¶(ä¼šè¦†ç›–)ï¼Œ<strong>æ ‡å‡†é”™è¯¯</strong>ä¸é€‚ç”¨</td></tr><tr><td>&amp;&gt; æˆ– 2&gt;</td><td>æ ‡å‡†é”™è¯¯è¾“å‡º</td></tr><tr><td>&gt;&gt;</td><td>è¿½åŠ ï¼Œä¸è¦†ç›–åŸæœ‰æ–‡ä»¶</td></tr><tr><td>&amp;&gt;&gt;</td><td>æ ‡å‡†é”™è¯¯è¿½åŠ </td></tr><tr><td>2&gt;&amp;1</td><td>å°†æ ‡å‡†é”™è¯¯é‡å®šå‘åˆ°æ ‡å‡†è¾“å‡º</td></tr><tr><td>å‘½ä»¤ &gt;&gt; æ–‡ä»¶ 2&gt;&amp;1 æˆ– å‘½ä»¤ &amp;&gt;&gt; æ–‡ä»¶</td><td>å°†æ ‡å‡†è¾“å‡ºä¸é”™è¯¯è¾“å‡ºå…±åŒ(è¿½åŠ )å†™å…¥æ–‡ä»¶(ä¸ç®¡å‘½ä»¤æ‰§è¡Œç»“æœå¦‚ä½•)</td></tr><tr><td>å‘½ä»¤ &gt; æ–‡ä»¶ 2&gt;&amp;1 æˆ– å‘½ä»¤ &amp;&gt; æ–‡ä»¶</td><td>åŒä¸Š(ä¸è¿½åŠ )</td></tr></tbody></table><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">systemctl status httpd &gt; httpd (æ— å±æ˜¾ï¼Œå†…å®¹å­˜åˆ°httpd)</span><br><span class="line">systemctl status abc &gt; abc (å±æ˜¾é”™è¯¯ï¼Œabcå­˜åœ¨å¹¶ç©ºç™½)</span><br></pre></td></tr></table></figure>tee : ç±»ä¼¼äºå¤§äºå·ï¼Œä½†<strong>åªä»ç®¡é“(æˆ–è¾“å…¥é‡å®šå‘)æ¥æ”¶æ•°æ®</strong><br>tee -a : ç±»ä¼¼äºè¿½åŠ ç¬¦(-a append)<br>teeå’Œtee -aéƒ½ä¼šå±æ˜¾ï¼Œ&gt;&gt;å’Œ&gt;ä¸å±æ˜¾<br>teeå¯ä»¥åŒæ—¶é‡å®šå‘åˆ°å¤šä¸ªæ–‡ä»¶(è€Œ&gt;å’Œ&gt;&gt;æ²¡æœ‰è¿™ä¸ªåŠŸèƒ½ï¼Œ123 &gt; file1 file2 ç»“æœfile1é‡Œé¢æ˜¯123 file2)<br>å‘½ä»¤1|tee file.txt|å‘½ä»¤2: å°†å‘½ä»¤1çš„ç»“æœæ—¢ä¿å­˜åˆ°file.txtä¸­ï¼Œä¹Ÿä¼ ç»™å‘½ä»¤2ï¼Œå¹¶å±æ˜¾å‘½ä»¤2çš„ç»“æœ(è‹¥æœ‰ç¬¬ä¸‰ä¸ªç®¡é“ï¼Œå°±æ­£å¸¸ä¼ å€¼)</li></ul><h3 id="æ ‡å‡†è¾“å…¥é‡å®šå‘"><a href="#æ ‡å‡†è¾“å…¥é‡å®šå‘" class="headerlink" title="æ ‡å‡†è¾“å…¥é‡å®šå‘"></a>æ ‡å‡†è¾“å…¥é‡å®šå‘</h3><table><thead><tr><th>ç¬¦å·å‘½ä»¤</th><th>ç”¨é€”</th></tr></thead><tbody><tr><td>&lt;</td><td>æŒ‡å®šè¾“å…¥æ–‡ä»¶</td></tr><tr><td>&lt;&lt;</td><td>ç­‰å¾…ç”¨æˆ·è¾“å…¥ï¼ŒæŒ‡å®šè¾“å…¥ç»“æŸç¬¦</td></tr><tr><td>tr</td><td>åªå¤„ç†å­—ç¬¦ï¼Œè€Œéå•è¡Œå•åˆ—ï¼Œåªæ˜¾ç¤ºå¤„ç†ç»“æœï¼Œ<strong>ä¸ä¿®æ”¹æºæ–‡ä»¶</strong>ï¼Œ<strong>åªä»ç®¡é“(æˆ–è¾“å…¥é‡å®šå‘)æ¥æ”¶æ•°æ®</strong>(åŒtee)</td></tr></tbody></table><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">cat &gt; file &lt;&lt;end (ä¸€ç›´ç­‰å¾…è¾“å…¥ï¼Œç›´åˆ°è¾“å…¥end)</span><br><span class="line">echo 1234 | tr 123 AB (ç»“æœä¸ºABB4)</span><br><span class="line">echo 1::2::3 | tr -s : (-så‹ç¼©é‡å¤å­—ç¬¦ï¼Œç»“æœä¸º1:2:3)</span><br><span class="line">tr -d &quot;^$&quot; &lt; file (ä¸èƒ½åˆ é™¤ç©ºè¡Œï¼Œå› ä¸ºtråªå¯¹å­—ç¬¦æ“ä½œ)</span><br><span class="line">tr -d &quot; &quot; &lt; file (åˆ é™¤ç©ºæ ¼)</span><br><span class="line">tr 1-9 a-z &lt; file (æ•°å­—å˜å­—æ¯)</span><br></pre></td></tr></table></figure><h2 id="sort"><a href="#sort" class="headerlink" title="sort"></a><strong>sort</strong></h2><p>é»˜è®¤ASCIIç æ’åˆ—ï¼Œä»å·¦å¾€å³è¯»å–å­—ç¬¦abcdefg</p><table><thead><tr><th>å‚æ•°</th><th>ç”¨é€”</th></tr></thead><tbody><tr><td>-r</td><td>å€’æ’åº</td></tr><tr><td>-n</td><td>æŒ‰æ•°å­—æ’åˆ—</td></tr><tr><td>-t</td><td>æŒ‡å®šåˆ†éš”ç¬¦ï¼Œå¦‚-t:æŒ‡å®šåˆ†éš”ç¬¦ä¸ºå†’å·</td></tr><tr><td>-k</td><td>æŒ‡å®šåˆ—ï¼Œå¦‚-k3nä»£è¡¨ç¬¬3åˆ—æŒ‰æ•°å­—æ’åº</td></tr></tbody></table><h2 id="uniq"><a href="#uniq" class="headerlink" title="uniq"></a><strong>uniq</strong></h2><p>å»é™¤é‡å¤è¡Œ<br>-cï¼šå»é™¤é‡å¤è¡Œå¹¶ç»Ÿè®¡é‡å¤è¡Œçš„æ•°é‡</p><h2 id="wc"><a href="#wc" class="headerlink" title="wc"></a><strong>wc</strong></h2><p>wc -lï¼šç»Ÿè®¡è¡Œæ•°</p><h2 id="é”šå®šç¬¦"><a href="#é”šå®šç¬¦" class="headerlink" title="é”šå®šç¬¦"></a><strong>é”šå®šç¬¦</strong></h2><p>ä¸æ­£åˆ™çš„åŒºåˆ«ï¼šé”šå®šç¬¦å‰åä¸èƒ½æœ‰å…¶ä»–å­—ç¬¦ï¼Œæ­£åˆ™å¯ä»¥æœ‰</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">\&lt;å­—ç¬¦ä¸²\&gt;</span><br><span class="line">\bå­—ç¬¦ä¸²\b</span><br></pre></td></tr></table></figure><h2 id="head-tail"><a href="#head-tail" class="headerlink" title="head/tail"></a><strong>head/tail</strong></h2><p>head -5 å‰5è¡Œ<br>tail -5 æœ€å5è¡Œ<br>tail -f è¡¨ç¤ºä¸€ç›´åˆ·æ–°æœ€åçš„</p><h2 id="shellè„šæœ¬ç¼–å†™"><a href="#shellè„šæœ¬ç¼–å†™" class="headerlink" title="shellè„šæœ¬ç¼–å†™"></a><strong>shellè„šæœ¬ç¼–å†™</strong></h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash">!/bin/bash</span></span><br><span class="line">if [ $# -ge 1 ];then</span><br><span class="line">        systemctl status $1 &amp;&gt; /dev/null</span><br><span class="line">        if [ $? -eq 0 ];then</span><br><span class="line">                echo &quot;$1 is `systemctl status $1|sed -n 3p|awk &#x27;&#123;print $2,$3&#125;&#x27;`&quot;</span><br><span class="line">        else</span><br><span class="line">                echo &quot;$1 æœåŠ¡ä¸å­˜åœ¨æˆ–æœªæ­£å¸¸è¿è¡Œ&quot;</span><br><span class="line">        fi</span><br><span class="line">else</span><br><span class="line">        echo &quot;è¯·æŒ‰å¦‚ä¸‹æ ¼å¼æ‰§è¡Œå‘½ä»¤:bash $0 æœåŠ¡åç§°&quot;</span><br><span class="line">fi</span><br><span class="line"></span><br></pre></td></tr></table></figure><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash">!/bin/bash</span></span><br><span class="line">if [ $# -ge 1 ];then</span><br><span class="line">        for i in $@</span><br><span class="line">        do</span><br><span class="line">                systemctl status $i &amp;&gt; /dev/null</span><br><span class="line">                if [ $? -eq 0 ];then</span><br><span class="line">                        echo &quot;$i is `systemctl status $i|sed -n 3p|awk &#x27;&#123;print $2,$3&#125;&#x27;`&quot;</span><br><span class="line">                else</span><br><span class="line">                        echo &quot;$i æœåŠ¡ä¸å­˜åœ¨æˆ–çŠ¶æ€é”™è¯¯&quot;</span><br><span class="line">                fi</span><br><span class="line">        done</span><br><span class="line">else</span><br><span class="line">        echo &quot;è¯·æŒ‰å¦‚ä¸‹æ ¼å¼æ‰§è¡Œå‘½ä»¤:bash $0 æœåŠ¡åç§°&quot;</span><br><span class="line">fi</span><br><span class="line"></span><br></pre></td></tr></table></figure><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash">!/bin/bash</span></span><br><span class="line">read -p &quot;Please input your record: &quot; cj</span><br><span class="line">if [ $cj -ge 0 ] &amp;&amp; [ $cj -le 59 ];then</span><br><span class="line">    echo &quot;è¡¥è€ƒ&quot;</span><br><span class="line">elif [ $cj -ge 60 ] &amp;&amp; [ $cj -le 70 ];then</span><br><span class="line">    echo &quot;ä¸€èˆ¬&quot;</span><br><span class="line">elif [ $cj -ge 71 ] &amp;&amp; [ $cj -le 85 ];then</span><br><span class="line">        echo &quot;è‰¯å¥½&quot;</span><br><span class="line">elif [ $cj -ge 86 ] &amp;&amp; [ $cj -le 100 ];then</span><br><span class="line">        echo &quot;ä¼˜ç§€&quot;</span><br><span class="line">else</span><br><span class="line">    echo &quot;Please input a valid record(0-100)&quot;</span><br><span class="line">fi</span><br></pre></td></tr></table></figure><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash">!/bin/bash</span></span><br><span class="line">case $1 in</span><br><span class="line">1)</span><br><span class="line">        echo &quot;god bless me&quot;</span><br><span class="line">;;</span><br><span class="line">2)</span><br><span class="line">        echo &quot;cat is cute&quot;</span><br><span class="line">;;</span><br><span class="line">*)</span><br><span class="line">        echo &quot;bye&quot;</span><br><span class="line">;;</span><br><span class="line">esac</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">#!&#x2F;bin&#x2F;bash</span><br><span class="line">set -xv</span><br><span class="line">read -p &quot;Please input your number: &quot; NU</span><br><span class="line">[ $NU &#x3D; &quot;1&quot; ] &amp;&amp; echo &quot;You are the best&quot; || ([ $NU &#x3D; &quot;2&quot; ] &amp;&amp; echo &quot;Oh my god!&quot;)</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="zabbix"><a href="#zabbix" class="headerlink" title="zabbix"></a><strong>zabbix</strong></h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre></td><td class="code"><pre><span class="line">[zabbix-server]æœåŠ¡ç«¯ï¼šç›‘æ§ç«¯ï¼Œå°±æ˜¯ç›‘æ§è€…</span><br><span class="line">rpm -Uvh https:&#x2F;&#x2F;mirrors.aliyun.com&#x2F;zabbix&#x2F;zabbix&#x2F;4.0&#x2F;rhel&#x2F;7&#x2F;x86_64&#x2F;zabbix-release-4.0-2.el7.noarch.rpm</span><br><span class="line">#ä¸Šè¿°æ“ä½œè¿˜ä¼šåœ¨&#x2F;etc&#x2F;yum.repos.d&#x2F;ä¸‹é¢ç”Ÿæˆä¸€ä¸ªæ–°çš„ä»“åº“æ–‡ä»¶zabbix.repo</span><br><span class="line">#ä½†è¿™ä¸ªæ–‡ä»¶è¿˜æ˜¯æŒ‡å‘zabbixå®˜ç½‘ï¼Œå¾€å¾€å› ä¸ºç½‘ç»œé—®é¢˜è¿˜æ˜¯ä¼šå¯¼è‡´ä¸‹é¢çš„å®‰è£…é”™è¯¯</span><br><span class="line">#æ‰€ä»¥ï¼Œå¯ä»¥ä¿®æ”¹ä¸€ä¸‹ï¼š</span><br><span class="line">sed -i &#39;s#http:&#x2F;&#x2F;repo.zabbix.com#https:&#x2F;&#x2F;mirrors.aliyun.com&#x2F;zabbix#&#39; &#x2F;etc&#x2F;yum.repos.d&#x2F;zabbix.repo</span><br><span class="line">yum clean all</span><br><span class="line">yum makecache</span><br><span class="line">yum install deltarpm vim wget -y</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">yum install -y zabbix-server-mysql zabbix-web-mysql mariadb-server</span><br><span class="line">systemctl enable mariadb --now</span><br><span class="line">mysql_secure_installation</span><br><span class="line">mysql -uroot -proot</span><br><span class="line">mysql&gt; create database zabbix character set utf8 collate utf8_bin;</span><br><span class="line">mysql&gt; grant all privileges on zabbix.* to zabbix@localhost identified by &#39;root&#39;;</span><br><span class="line">mysql&gt; quit;</span><br><span class="line">zcat &#x2F;usr&#x2F;share&#x2F;doc&#x2F;zabbix-server-mysql*&#x2F;create.sql.gz | mysql -uzabbix -proot zabbix</span><br><span class="line">mysql -uzabbix -proot -D zabbix -se &quot;show tables;&quot;</span><br><span class="line"></span><br><span class="line">sed -i.ori &#39;116a DBPassword&#x3D;root&#39; &#x2F;etc&#x2F;zabbix&#x2F;zabbix_server.conf</span><br><span class="line">sed -i.ori &#39;18a php_value date.timezone  Asia&#x2F;Shanghai&#39; &#x2F;etc&#x2F;httpd&#x2F;conf.d&#x2F;zabbix.conf</span><br><span class="line">systemctl disable firewalld --now</span><br><span class="line">setenforce 0;sed -i &#39;&#x2F;^SELINUX&#x3D;&#x2F;cSELINUX&#x3D;disabled&#39; &#x2F;etc&#x2F;selinux&#x2F;config</span><br><span class="line">systemctl enable zabbix-server --now</span><br><span class="line">systemctl enable httpd --now</span><br><span class="line"></span><br><span class="line">#è§£å†³webä¸­æ–‡ä¹±ç ï¼š</span><br><span class="line">yum -y install wqy-microhei-fonts</span><br><span class="line">cp &#x2F;usr&#x2F;share&#x2F;fonts&#x2F;wqy-microhei&#x2F;wqy-microhei.ttc &#x2F;usr&#x2F;share&#x2F;fonts&#x2F;dejavu&#x2F;DejaVuSans.ttf</span><br><span class="line"></span><br><span class="line">#æµè§ˆå™¨æ‰“å¼€ï¼šhttp:&#x2F;&#x2F;serverçš„ip&#x2F;zabbix</span><br><span class="line">#è´¦æˆ·ï¼šAdmin&#x2F;zabbix</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">[zabbix-agent]å®¢æˆ·ç«¯ï¼šè¢«ç›‘æ§ç«¯ï¼Œå°±æ˜¯è¢«ç›‘æ§è€…ï¼Œæˆ–è€…å«ä»£ç†ç«¯</span><br><span class="line">#è‹¥agentå’ŒserveråŒä¸»æœºï¼Œä¸‹é¢æ­¥éª¤å°±ä¸ç”¨é‡å¤æ“ä½œäº†ï¼š</span><br><span class="line">rpm -Uvh https:&#x2F;&#x2F;mirrors.aliyun.com&#x2F;zabbix&#x2F;zabbix&#x2F;4.0&#x2F;rhel&#x2F;7&#x2F;x86_64&#x2F;zabbix-release-4.0-2.el7.noarch.rpm</span><br><span class="line">sed -i &#39;s#http:&#x2F;&#x2F;repo.zabbix.com#https:&#x2F;&#x2F;mirrors.aliyun.com&#x2F;zabbix#&#39; &#x2F;etc&#x2F;yum.repos.d&#x2F;zabbix.repo</span><br><span class="line">yum clean all</span><br><span class="line">yum makecache</span><br><span class="line">yum install deltarpm vim wget -y</span><br><span class="line"></span><br><span class="line">#ä¸‹é¢è¿™ä¸€æ­¥æ˜¯å®‰è£…agentåŒ…ï¼Œæ˜¯å¿…å¤‡æ“ä½œï¼Œæ— è®ºagentå’Œserveræ˜¯å¦åŒä¸»æœºï¼š</span><br><span class="line">yum install -y zabbix-agent </span><br><span class="line"></span><br><span class="line">#ä¸‹é¢è¿™5æ­¥æ˜¯åœ¨agentçš„é…ç½®æ–‡ä»¶ä¸Šé…ç½®æœåŠ¡ç«¯çš„IPï¼Œè‹¥agentå’ŒserveråŒä¸»æœºï¼Œå¯åšå¯ä¸åšï¼š</span><br><span class="line">#è¯·æ ¹æ®è‡ªå·±çš„å®é™…æƒ…å†µï¼Œä¿®æ”¹â€œzabbixæœåŠ¡ç«¯çš„IPâ€ï¼š</span><br><span class="line">sed -i.ori &#39;s#Server&#x3D;127.0.0.1#Server&#x3D;zabbixæœåŠ¡ç«¯çš„IP#&#39; &#x2F;etc&#x2F;zabbix&#x2F;zabbix_agentd.conf</span><br><span class="line">sed -i.ori &#39;s#ServerActive&#x3D;127.0.0.1#ServerActive&#x3D;zabbixæœåŠ¡ç«¯çš„IP#&#39; &#x2F;etc&#x2F;zabbix&#x2F;zabbix_agentd.conf</span><br><span class="line">sed -i &#39;&#x2F;^Hostname&#x3D;&#x2F;cHostname&#x3D;zabbix-agent1&#39; &#x2F;etc&#x2F;zabbix&#x2F;zabbix_agentd.conf</span><br><span class="line">systemctl disable firewalld --now</span><br><span class="line">setenforce 0;sed -i &#39;&#x2F;^SELINUX&#x3D;&#x2F;cSELINUX&#x3D;disabled&#39; &#x2F;etc&#x2F;selinux&#x2F;config</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">#è¿™ä¸€æ­¥æ˜¯è¦åšçš„ï¼š</span><br><span class="line">systemctl enable zabbix-agent --now</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;è¿ç»´å¸¸ç”¨å‘½ä»¤&quot;&gt;&lt;a href=&quot;#è¿ç»´å¸¸ç”¨å‘½ä»¤&quot; class=&quot;headerlink&quot; title=&quot;è¿ç»´å¸¸ç”¨å‘½ä»¤&quot;&gt;&lt;/a&gt;&lt;strong&gt;è¿ç»´å¸¸ç”¨å‘½ä»¤&lt;/strong&gt;&lt;/h2&gt;&lt;ol&gt;
&lt;li&gt;æ¸…å± clear, ctrl + l&lt;/li&gt;
&lt;li&gt;åˆ›å»ºæ–‡ä»¶å¤¹ mkdir abc&lt;/li&gt;
&lt;li&gt;åˆ›å»ºæ–‡ä»¶ touch abc&lt;/li&gt;
&lt;li&gt;è®¾ç½®æƒé™ chmod 755 abc, chmod -x abc, chmod a+x abc, chmod a+w abc&lt;br&gt;æ³¨æ„&lt;br&gt;r ä»£è¡¨è¯»æƒé™ï¼Œç”¨æ•°å€¼4è¡¨ç¤º&lt;br&gt;w ä»£è¡¨å†™æƒé™ï¼Œç”¨æ•°å­—2è¡¨ç¤º&lt;br&gt;x ä»£è¡¨æ‰§è¡Œæƒé™ï¼Œç”¨æ•°å­—1è¡¨ç¤º&lt;br&gt;+ ä»£è¡¨å¢åŠ æƒé™&lt;br&gt;- ä»£è¡¨å‡å°‘æƒé™&lt;br&gt;å› æ­¤755ä»£è¡¨ rwxr-xr-xï¼Œ7ä»£è¡¨æ–‡ä»¶æ‹¥æœ‰è€…æƒé™ï¼Œ5ä»£è¡¨æ–‡ä»¶æ‰€å±ç»„æƒé™ï¼Œ5ä»£è¡¨æ–‡ä»¶ç»„å¤–æƒé™&lt;h2 id=&quot;find-4-1&quot;&gt;&lt;a href=&quot;#find-4-1&quot; class=&quot;headerlink&quot; title=&quot;find(4.1)&quot;&gt;&lt;/a&gt;&lt;strong&gt;find(4.1)&lt;/strong&gt;&lt;/h2&gt;ç”¨é€”ï¼šåŸºäºæ–‡ä»¶å±æ€§æŸ¥æ‰¾&lt;br&gt;ç”¨æ³•ï¼š&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;find [æŸ¥æ‰¾è·¯å¾„] å¯»æ‰¾æ¡ä»¶ æ“ä½œ&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h3 id=&quot;å¸¸ç”¨å‚æ•°ï¼š&quot;&gt;&lt;a href=&quot;#å¸¸ç”¨å‚æ•°ï¼š&quot; class=&quot;headerlink&quot; title=&quot;å¸¸ç”¨å‚æ•°ï¼š&quot;&gt;&lt;/a&gt;å¸¸ç”¨å‚æ•°ï¼š&lt;/h3&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;-name&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;-type f&amp;#x2F;d(æ–‡ä»¶&amp;#x2F;ç›®å½•)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;-size +&amp;#x2F;-30M(å¤§äº&amp;#x2F;å°äº)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;-perm &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;-exec&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;-ok (æ¯”execå¤šä¸€ä¸ªè¯¢é—®)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;-maxdepth æŒ‡å®šæœç´¢çš„ç›®å½•å±‚çº§&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h3 id=&quot;execå‚æ•°è¯¦è§£&quot;&gt;&lt;a href=&quot;#execå‚æ•°è¯¦è§£&quot; class=&quot;headerlink&quot; title=&quot;-execå‚æ•°è¯¦è§£&quot;&gt;&lt;/a&gt;-execå‚æ•°è¯¦è§£&lt;/h3&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;find [ç›®å½•] -[å‚æ•°] -exec [å‘½ä»¤] &amp;#123;&amp;#125; \;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;find [ç›®å½•] -[å‚æ•°] -exec [å‘½ä»¤] &amp;#123;&amp;#125; +&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;åˆ†å·å’ŒåŠ å·éƒ½æ˜¯-execå‚æ•°çš„ç»ˆç»“ç¬¦&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;\;  æ¯æ‰¾åˆ°ä¸€ä¸ªï¼Œå°±æ‰§è¡Œä¸€æ¬¡[å‘½ä»¤]&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;+   æ‰¾åˆ°å¤šä¸ªï¼Œä¸€æ¬¡æ€§æ‰§è¡Œ[å‘½ä»¤]&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h3 id=&quot;execç‰¹ç‚¹&quot;&gt;&lt;a href=&quot;#execç‰¹ç‚¹&quot; class=&quot;headerlink&quot; title=&quot;-execç‰¹ç‚¹&quot;&gt;&lt;/a&gt;-execç‰¹ç‚¹&lt;/h3&gt;è¿™ä¸¤ç§-execä¸­çš„tarå‘½ä»¤çš„ä½¿ç”¨ç­‰æ•ˆ&lt;/li&gt;&lt;/ol&gt;
    
    </summary>
    
    
    
      <category term="è¿ç»´" scheme="http://yoursite.com/tags/%E8%BF%90%E7%BB%B4/"/>
    
      <category term="shell" scheme="http://yoursite.com/tags/shell/"/>
    
  </entry>
  
</feed>
